<UserControl
    x:Class="aEMR.Configuration.PCLExamTypes.Views.PCLExamTypes_AddEditView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:AxControls="clr-namespace:aEMR.Controls;assembly=aEMR.Controls"
    xmlns:Converters="clr-namespace:aEMR.Common.Converters;assembly=aEMR.Common"
    xmlns:Resources="clr-namespace:eHCMSLanguage;assembly=aEMRLanguage"
    xmlns:cal="http://www.caliburnproject.org"
    xmlns:commonctrl="clr-namespace:aEMR.Controls;assembly=aEMR.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:toolkit="http://schemas.xceed.com/wpf/xaml/toolkit"
    d:DesignHeight="600"
    d:DesignWidth="1500"
    mc:Ignorable="d">
    <UserControl.Resources>
        <Converters:IntConverter x:Key="IntConverter" />
        <Resources:eHCMSResources x:Key="eHCMSResources" />
        <DataTemplate x:Key="DeleteResources">
            <Button
                x:Name="lnkDeleteResources"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                cal:Message.Attach="[Event Click]=[Action btnDeleteResources_Click($source,$eventArgs)]"
                CommandParameter="{Binding RscrID}"
                ToolTipService.ToolTip="{Binding G2617_G1_Xoa, Source={StaticResource eHCMSResources}}">
                <Image
                    Width="13"
                    Height="13"
                    Opacity="1"
                    Source="/aEMR.CommonViews;component/Assets/Images/Delete.png" />
            </Button>
        </DataTemplate>
    </UserControl.Resources>
    <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
        <Grid x:Name="LayoutRoot" Background="White">
            <toolkit:BusyIndicator
                Margin="0,0,0,10"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"
                DisplayAfter="0:0:0.100"
                IsBusy="{Binding IsLoading, Mode=OneWay}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="36" />
                    </Grid.RowDefinitions>
                    <Grid Grid.Row="0">
                        <TabControl Grid.Row="0">
                            <TabItem Header="{Binding Z2239_G1_TaoMoiCLS, Source={StaticResource eHCMSResources}}">
                                <Grid x:Name="GridMain" Margin="10">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>
                                    <TextBlock
                                        x:Name="TitleForm"
                                        Grid.Row="0"
                                        Margin="5,5,0,5"
                                        FontSize="14"
                                        FontWeight="Bold"
                                        Foreground="#FF0084FF"
                                        Text="Title" />

                                    <Grid Grid.Row="1" Margin="0,0,0,5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="22" />
                                            <ColumnDefinition Width="118" />
                                            <ColumnDefinition />
                                            <ColumnDefinition Width="5" />
                                            <ColumnDefinition Width="90" />
                                            <ColumnDefinition />
                                            <ColumnDefinition Width="20" />
                                            <ColumnDefinition Width="100" />
                                            <ColumnDefinition />
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>

                                        <Label
                                            Grid.Column="1"
                                            Margin="0,2,5,2"
                                            HorizontalAlignment="Right"
                                            Content="{Binding K2034_G1_ChonLoai2, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                                            FontWeight="Normal" />
                                        <commonctrl:AxComboBox
                                            x:Name="cboV_PCLMainCategory"
                                            Grid.Column="2"
                                            Height="23"
                                            Margin="0,3,0,0"
                                            cal:Message.Attach="[Event SelectionChanged]=[Action cboV_PCLMainCategory_SelectionChanged($source,$eventArgs)]"
                                            DisplayMemberPath="ObjectValue"
                                            FontWeight="Normal"
                                            Foreground="Black"
                                            IsEnabled="{Binding cboV_PCLMainCategoryIsEnabled, Mode=TwoWay}"
                                            ItemsSource="{Binding ObjV_PCLMainCategory, Mode=OneWay}"
                                            SelectedItemEx="{Binding ObjPCLExamType_Current.ObjV_PCLMainCategory, Mode=TwoWay}"
                                            SelectedValuePath="LookupID"
                                            Style="{StaticResource MainFrame.ComboBox}" />

                                        <Label
                                            Grid.Row="1"
                                            Grid.Column="1"
                                            Margin="0,2"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Center"
                                            Content="{Binding K2074_G1_ChonNhom2, StringFormat='{}{0}: ', Source={StaticResource eHCMSResources}}"
                                            FontWeight="Normal" />
                                        <commonctrl:AxComboBox
                                            x:Name="cboPCLExamTypeSubCategory"
                                            Grid.Row="1"
                                            Grid.Column="2"
                                            Height="23"
                                            DisplayMemberPath="PCLSubCategoryName"
                                            IsEnabled="{Binding cboPCLExamTypeSubCategoryIsEnabled, Mode=OneWay}"
                                            ItemsSource="{Binding ObjPCLExamTypeSubCategory_ByV_PCLMainCategory, Mode=OneWay}"
                                            SelectedItemEx="{Binding ObjPCLExamType_Current.ObjPCLExamTypeSubCategoryID, Mode=TwoWay}"
                                            SelectedValuePath="PCLExamTypeSubCategoryID"
                                            Style="{StaticResource MainFrame.ComboBox}" />

                                        <Label
                                            Grid.Row="2"
                                            Grid.ColumnSpan="2"
                                            Margin="0,5"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Center"
                                            Content="{Binding K2092_G1_ChonPCLresultparam2, StringFormat='{}{0}: ', Source={StaticResource eHCMSResources}}"
                                            FontWeight="Normal"
                                            Visibility="{Binding ResultParamVisibility, Mode=TwoWay}" />

                                        <commonctrl:AxComboBox
                                            x:Name="cboPCLResultParamImplementations"
                                            Grid.Row="2"
                                            Grid.Column="2"
                                            Height="23"
                                            Margin="0,0,0,3"
                                            VerticalAlignment="Center"
                                            DisplayMemberPath="ParamName"
                                            FontWeight="Normal"
                                            Foreground="Black"
                                            ItemsSource="{Binding ObjPCLResultParamImplementations_GetAll, Mode=OneWay}"
                                            SelectedItemEx="{Binding ObjPCLExamType_Current.ObjPCLResultParamImpID, Mode=TwoWay}"
                                            SelectedValuePath="PCLResultParamImpID"
                                            Style="{StaticResource MainFrame.ComboBox}"
                                            Visibility="{Binding ResultParamVisibility, Mode=TwoWay}" />

                                        <Label
                                            Grid.Column="4"
                                            Margin="0,2,5,2"
                                            HorizontalAlignment="Right"
                                            Content="{Binding T3185_G1_Ma, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                                            FontWeight="Normal" />
                                        <TextBox
                                            Grid.Column="5"
                                            Margin="0,3,0,2"
                                            VerticalContentAlignment="Center"
                                            Text="{Binding ObjPCLExamType_Current.PCLExamTypeCode, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}" />

                                        <Label
                                            Grid.Row="1"
                                            Grid.Column="4"
                                            Margin="0,2,5,2"
                                            HorizontalAlignment="Right"
                                            Content="{Binding T0829_G1_Ten, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                                            FontWeight="Normal" />
                                        <TextBox
                                            Grid.Row="1"
                                            Grid.Column="5"
                                            Margin="0,2,0,2"
                                            VerticalContentAlignment="Center"
                                            Text="{Binding ObjPCLExamType_Current.PCLExamTypeName, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}" />
                                        <Label
                                            Grid.Row="2"
                                            Grid.Column="4"
                                            Margin="0,2,5,2"
                                            HorizontalAlignment="Right"
                                            Content="{Binding Z3321_G1_TenTiengAnh, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                                            FontWeight="Normal" />
                                        <TextBox
                                            Grid.Row="2"
                                            Grid.Column="5"
                                            Height="26"
                                            Margin="0,2,0,2"
                                            VerticalContentAlignment="Center"
                                            Text="{Binding ObjPCLExamType_Current.PCLExamTypeNameEng, Mode=TwoWay}" />

                                        <TextBlock
                                            Grid.Row="3"
                                            Grid.Column="3"
                                            Grid.ColumnSpan="2"
                                            Margin="0,2,5,2"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Center"
                                            Text="{Binding T2749_G1_LoaiDVBH, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" />
                                        <commonctrl:AxComboBox
                                            x:Name="cboHITransactionType_GetListNoParentID"
                                            Grid.Row="3"
                                            Grid.Column="5"
                                            Height="23"
                                            VerticalAlignment="Center"
                                            DisplayMemberPath="HITypeDescription"
                                            FontWeight="Normal"
                                            Foreground="Black"
                                            ItemsSource="{Binding ObjHITransactionType_GetListNoParentID, Mode=OneWay}"
                                            SelectedValueEx="{Binding ObjPCLExamType_Current.HITTypeID, Mode=TwoWay}"
                                            SelectedValuePath="HITTypeID"
                                            Style="{StaticResource MainFrame.ComboBox}" />
                                        <Label
                                            Grid.Row="3"
                                            Grid.Column="1"
                                            Margin="0,2,5,2"
                                            HorizontalAlignment="Right"
                                            Content="Kết luận"
                                            FontWeight="Normal" />
                                        <TextBox
                                            Grid.Row="3"
                                            Grid.RowSpan="2"
                                            Grid.Column="2"
                                            MaxHeight="70"
                                            Margin="0,3,0,2"
                                            AcceptsReturn="True"
                                            Text="{Binding ObjPCLExamType_Current.PCLExamTypeTemplateResult, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}"
                                            VerticalScrollBarVisibility="Auto" />
                                        <!--<Label
                                            Grid.Row="3"
                                            Grid.Column="1"
                                            Margin="0,2,5,2"
                                            HorizontalAlignment="Right"
                                            Content="{Binding T3392_G1_MaHoaA1, StringFormat='{}{0} 1:', Source={StaticResource eHCMSResources}}"
                                            FontWeight="Normal" />
                                        <TextBox
                                            Grid.Row="3"
                                            Grid.Column="2"
                                            Margin="0,3,0,2"
                                            Text="{Binding ObjPCLExamType_Current.HIIssueCode1, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}" />

                                        <Label
                                            Grid.Row="4"
                                            Grid.Column="1"
                                            Margin="0,2,5,2"
                                            HorizontalAlignment="Right"
                                            Content="{Binding T3392_G1_MaHoaA1, StringFormat='{}{0} 2:', Source={StaticResource eHCMSResources}}"
                                            FontWeight="Normal" />
                                        <TextBox
                                            Grid.Row="4"
                                            Grid.Column="2"
                                            Margin="0,3,0,2"
                                            Text="{Binding ObjPCLExamType_Current.HIIssueCode2, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}" />-->

                                        <!--<Label Grid.Row="4" Grid.Column="4"
                                               Content="{Binding T0674_G1_Form, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                                               FontWeight="Normal" HorizontalAlignment="Right" Margin="0,2,5,2"
                                               Visibility="{Binding InputForLab, Mode=TwoWay}" />
                                        <commonctrl:AxComboBox Grid.Row="4" Grid.Column="5" Height="22"
                                                               Style="{StaticResource MainFrame.ComboBox}"
                                                               Visibility="{Binding InputForLab, Mode=TwoWay}"
                                                               ItemsSource="{Binding ObjPCLForms_GetList_Paging, Mode=TwoWay}"
                                                               DisplayMemberPath="PCLFormName"
                                                               SelectedValuePath="PCLFormID"
                                                               SelectedValueEx="{Binding ObjPCLExamType_Current.PCLFormID, Mode=TwoWay}" />-->
                                        <Label
                                            Grid.Row="5"
                                            Grid.Column="3"
                                            Grid.ColumnSpan="2"
                                            Margin="0,5"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Center"
                                            Content="Loại BC"
                                            FontWeight="Normal"
                                            Visibility="{Binding ResultParamVisibility, Mode=TwoWay}" />

                                        <commonctrl:AxComboBox
                                            Grid.Row="5"
                                            Grid.Column="5"
                                            Height="23"
                                            Margin="0,0,0,3"
                                            VerticalAlignment="Center"
                                            DisplayMemberPath="ObjectValue"
                                            FontWeight="Normal"
                                            Foreground="Black"
                                            ItemsSource="{Binding ObjV_ReportForm, Mode=OneWay}"
                                            SelectedValueEx="{Binding ObjPCLExamType_Current.V_ReportForm, Mode=TwoWay}"
                                            SelectedValuePath="LookupID"
                                            Style="{StaticResource MainFrame.ComboBox}"
                                            Visibility="{Binding ResultParamVisibility, Mode=TwoWay}" />
                                        <Label
                                            Grid.Row="6"
                                            Grid.Column="4"
                                            Margin="0,2,5,2"
                                            HorizontalAlignment="Right"
                                            Content="{Binding Z2763_G1_ChungLoai, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                                            FontWeight="Normal"
                                            Visibility="{Binding ResultParamVisibility, Mode=TwoWay}" />
                                        <TextBox
                                            Grid.Row="6"
                                            Grid.Column="5"
                                            Margin="0,3,0,2"
                                            Text="{Binding ObjPCLExamType_Current.ModalityCode, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}"
                                            Visibility="{Binding ResultParamVisibility, Mode=TwoWay}" />

                                        <StackPanel
                                            Grid.Row="4"
                                            Grid.Column="5"
                                            Orientation="Horizontal">
                                            <CheckBox
                                                VerticalAlignment="Center"
                                                Content="{Binding K1230_G1_BHCTra, Source={StaticResource eHCMSResources}}"
                                                IsChecked="{Binding ObjPCLExamType_Current.HIApproved, Mode=TwoWay}" />
                                            <CheckBox
                                                Margin="20,0,0,0"
                                                VerticalAlignment="Center"
                                                Content="{Binding K2716_G1_ConDung, Source={StaticResource eHCMSResources}}"
                                                IsChecked="{Binding ObjPCLExamType_Current.IsUsed, Mode=TwoWay}" />
                                            <CheckBox
                                                Margin="20,0,0,0"
                                                VerticalAlignment="Center"
                                                Content="{Binding Z2717_G1_KiemTraPhacDo, Source={StaticResource eHCMSResources}}"
                                                IsChecked="{Binding ObjPCLExamType_Current.IsRegimenChecking, Mode=TwoWay}" />
                                        </StackPanel>
                                        <CheckBox
                                            Grid.Row="4"
                                            Grid.Column="6"
                                            Grid.ColumnSpan="2"
                                            Margin="5,5,0,0"
                                            VerticalAlignment="Center"
                                            Content="{Binding T2537_G1_LaMoNgoaiBv, Source={StaticResource eHCMSResources}}"
                                            IsChecked="{Binding ObjPCLExamType_Current.IsExternalExam, Mode=TwoWay}" />
                                        <CheckBox
                                            Grid.Row="4"
                                            Grid.Column="8"
                                            Margin="5,0,5,0"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            VerticalContentAlignment="Bottom"
                                            Content="{Binding Z3229_G1_DMCOVID, StringFormat=':{0}', Source={StaticResource eHCMSResources}}"
                                            FontWeight="Bold"
                                            IsChecked="{Binding ObjPCLExamType_Current.InCategoryCOVID, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                        <commonctrl:AxComboBox
                                            Name="cbx_TestingAgency"
                                            Grid.Row="5"
                                            Grid.Column="7"
                                            Grid.ColumnSpan="2"
                                            Height="22"
                                            DisplayMemberPath="AgencyName"
                                            IsEnabled="{Binding cboIsExternalExamIsEnabled, Mode=TwoWay}"
                                            ItemsSource="{Binding ObjTestingAgencyList, Mode=TwoWay}"
                                            SelectedValue="{Binding ObjPCLExamType_Current.HosIDofExternalExam, Mode=TwoWay}"
                                            SelectedValuePath="HosID"
                                            Style="{StaticResource MainFrame.ComboBox}"
                                            Visibility="{Binding ObjPCLExamType_Current.IsExternalExam, Converter={StaticResource VisibilityConverter}}" />
                                        <!--<Label
                                            Grid.Column="7"
                                            Margin="0,2,5,2"
                                            HorizontalAlignment="Right"
                                            Content="{Binding Z0264_G1_Ma5084, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                                            FontWeight="Normal" />
                                        <TextBox
                                            Grid.Column="8"
                                            Margin="0,3,0,2"
                                            Text="{Binding ObjPCLExamType_Current.HICode5084, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}" />-->

                                        <Label
                                            Grid.Row="1"
                                            Grid.Column="7"
                                            Margin="0,2,5,2"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Center"
                                            Content="{Binding K3709_G1_DViTinh, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                                            FontWeight="Normal" />
                                        <commonctrl:AxComboBox
                                            Name="cboV_PCLExamTypeUnit"
                                            Grid.Row="1"
                                            Grid.Column="8"
                                            Height="23"
                                            DisplayMemberPath="ObjectValue"
                                            ItemsSource="{Binding ObjV_PCLExamTypeUnit, Mode=OneWay}"
                                            SelectedValueEx="{Binding ObjPCLExamType_Current.V_PCLExamTypeUnit, Mode=TwoWay}"
                                            SelectedValuePath="LookupID"
                                            Style="{StaticResource MainFrame.ComboBox}" />

                                        <Label
                                            Grid.Row="2"
                                            Grid.Column="7"
                                            Margin="0,2,5,2"
                                            HorizontalAlignment="Right"
                                            VerticalAlignment="Top"
                                            Content="{Binding M0008_G1_MoTa, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                                            FontWeight="Normal" />
                                        <TextBox
                                            Grid.Row="2"
                                            Grid.RowSpan="2"
                                            Grid.Column="8"
                                            Height="70"
                                            VerticalAlignment="Top"
                                            AcceptsReturn="True"
                                            FontWeight="Normal"
                                            Foreground="Black"
                                            HorizontalScrollBarVisibility="Auto"
                                            Text="{Binding ObjPCLExamType_Current.PCLExamTypeDescription, Mode=TwoWay}"
                                            VerticalScrollBarVisibility="Visible" />
                                        <Label
                                            Grid.Row="5"
                                            Grid.Column="1"
                                            HorizontalAlignment="Right"
                                            Content="{Binding T2752_G1_LoaiGiaDV, StringFormat='{}{0}: ', Source={StaticResource eHCMSResources}}" />
                                        <StackPanel
                                            Grid.Row="5"
                                            Grid.Column="2"
                                            Height="25"
                                            Orientation="Horizontal">
                                            <RadioButton
                                                Name="rdbUnknown_PriceType"
                                                VerticalAlignment="Center"
                                                cal:Message.Attach="[Event Click]=[Action rdbNewPriceType_Click($source,$eventArgs)]"
                                                Content="{Binding T2470_G1_KhongCoGia, Source={StaticResource eHCMSResources}}"
                                                GroupName="rdbNewPriceType"
                                                IsChecked="{Binding IsUnknown_PriceType, Mode=TwoWay}"
                                                Style="{StaticResource MainFrame.RadioButton}" />
                                            <RadioButton
                                                Name="rdbFixed_PriceType"
                                                Margin="15,0,0,0"
                                                VerticalAlignment="Center"
                                                cal:Message.Attach="[Event Click]=[Action rdbNewPriceType_Click($source,$eventArgs)]"
                                                Content="{Binding T0984_G1_GiaCoDinh, Source={StaticResource eHCMSResources}}"
                                                GroupName="rdbNewPriceType"
                                                IsChecked="{Binding IsFixed_PriceType, Mode=TwoWay}"
                                                Style="{StaticResource MainFrame.RadioButton}" />
                                            <RadioButton
                                                Name="rdbUpdatable_PriceType"
                                                Margin="15,0,0,0"
                                                VerticalAlignment="Center"
                                                cal:Message.Attach="[Event Click]=[Action rdbNewPriceType_Click($source,$eventArgs)]"
                                                Content="{Binding T1145_G1_GiaThayDoi, Source={StaticResource eHCMSResources}}"
                                                GroupName="rdbNewPriceType"
                                                IsChecked="{Binding IsUpdatable_PriceType, Mode=TwoWay}"
                                                Style="{StaticResource MainFrame.RadioButton}" />
                                        </StackPanel>
                                        <Label
                                            Grid.Row="6"
                                            Grid.Column="1"
                                            Margin="0,2,5,2"
                                            HorizontalAlignment="Right"
                                            Content="{Binding Z2046_G1_TenBCBHYT, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                                            FontWeight="Normal" />
                                        <TextBox
                                            Grid.Row="6"
                                            Grid.Column="2"
                                            Grid.ColumnSpan="4"
                                            MinWidth="300"
                                            Margin="0,3,0,2"
                                            HorizontalAlignment="Left"
                                            VerticalContentAlignment="Center"
                                            Text="{Binding ObjPCLExamType_Current.PCLExamTypeName_Ax, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}" />
                                        <CheckBox
                                            Grid.Row="8"
                                            Grid.Column="5"
                                            VerticalAlignment="Center"
                                            Content="{Binding Z2894_G1_ChiTieuGioiHan, Source={StaticResource eHCMSResources}}"
                                            IsChecked="{Binding ObjPCLExamType_Current.IsCasePermitted, Mode=TwoWay}"
                                            Visibility="{Binding ResultParamVisibility}" />
                                        <Label
                                            Grid.Row="6"
                                            Grid.Column="7"
                                            Margin="0,2,5,2"
                                            HorizontalAlignment="Right"
                                            Content="{Binding R0350_G1_MaBH, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                                            FontWeight="Normal" />
                                        <TextBox
                                            Grid.Row="6"
                                            Grid.Column="8"
                                            Margin="0,3,0,2"
                                            VerticalContentAlignment="Center"
                                            Text="{Binding ObjPCLExamType_Current.HICode, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}" />
                                    </Grid>

                                    <Grid x:Name="GridLap" Grid.Row="2">
                                        <!--  Visibility="{Binding InputForLab, Mode=TwoWay}"  -->
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition />
                                        </Grid.RowDefinitions>
                                        <Grid x:Name="G0" Grid.Row="0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="30" />
                                                <ColumnDefinition Width="110" />
                                                <ColumnDefinition />
                                                <ColumnDefinition Width="5" />
                                                <ColumnDefinition Width="50" />
                                                <ColumnDefinition />
                                                <ColumnDefinition Width="20" />
                                                <ColumnDefinition Width="110" />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <Label
                                                Grid.Column="1"
                                                HorizontalAlignment="Right"
                                                Content="{Binding P0330_G1_PCLSection, StringFormat='{}{0}: ', Source={StaticResource eHCMSResources}}"
                                                Visibility="{Binding InputForLab, Mode=TwoWay}" />
                                            <commonctrl:AxComboBox
                                                x:Name="cboPCLSectionID"
                                                Grid.Column="2"
                                                Height="23"
                                                Margin="0,0,0,3"
                                                VerticalAlignment="Bottom"
                                                DisplayMemberPath="PCLSectionName"
                                                FontWeight="Normal"
                                                Foreground="Black"
                                                ItemsSource="{Binding ObjPCLSections_All, Mode=OneWay}"
                                                SelectedItemEx="{Binding ObjPCLExamType_Current.ObjPCLSectionID, Mode=TwoWay}"
                                                SelectedValuePath="PCLSectionID"
                                                Style="{StaticResource MainFrame.ComboBox}"
                                                Visibility="{Binding InputForLab, Mode=TwoWay}" />
                                            <StackPanel Grid.Column="5" Orientation="Horizontal">
                                                <TextBlock
                                                    Margin="10,5"
                                                    VerticalAlignment="Center"
                                                    Text="Số ngày tối đa" />
                                                <TextBox
                                                    Width="50"
                                                    Margin="5,5,15,5"
                                                    VerticalAlignment="Center"
                                                    IsEnabled="{Binding ObjPCLExamType_Current.IsAllowEditAfterDischarge}"
                                                    MaxLength="3"
                                                    Text="{Binding ObjPCLExamType_Current.DateAllowEditAfterDischarge, Converter={StaticResource IntConverter}}" />
                                                <CheckBox
                                                    VerticalAlignment="Center"
                                                    Content="Chờ kết quả"
                                                    IsChecked="{Binding ObjPCLExamType_Current.IsAllowEditAfterDischarge}" />
                                                <CheckBox
                                                    Margin="10"
                                                    VerticalAlignment="Center"
                                                    Content="CLS không có test con BH"
                                                    IsChecked="{Binding ObjPCLExamType_Current.NoDefinitionOfHISubTest, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                            </StackPanel>
                                        </Grid>

                                        <Grid x:Name="G1" Grid.Row="1">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition />
                                            </Grid.RowDefinitions>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition />
                                                <ColumnDefinition />
                                            </Grid.ColumnDefinitions>
                                            <StackPanel
                                                Grid.Row="0"
                                                Margin="0,2"
                                                Orientation="Horizontal">
                                                <Button
                                                    Name="hplAddNewTestItem"
                                                    HorizontalAlignment="Center"
                                                    VerticalAlignment="Center"
                                                    cal:Message.Attach="[Event Click]=[Action hplAddNewTestItem_Click()]"
                                                    FontSize="12"
                                                    FontWeight="Bold"
                                                    Foreground="#FF0084FF"
                                                    Style="{StaticResource MainFrame.HyperlinkButton}"
                                                    ToolTipService.ToolTip="Thêm PCLExamTest">
                                                    <StackPanel Orientation="Horizontal">
                                                        <Image
                                                            Width="13"
                                                            Height="13"
                                                            Opacity="1"
                                                            Source="/aEMR.CommonViews;component/Assets/Images/page-add-icon2.png" />
                                                        <TextBlock Text="{Binding G0324_G1_ThemPCLexamtest, Source={StaticResource eHCMSResources}}" />
                                                    </StackPanel>
                                                </Button>
                                            </StackPanel>
                                            <Grid Grid.Row="1" Margin="2,1">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition />
                                                    <RowDefinition Height="Auto" />
                                                </Grid.RowDefinitions>
                                                <Border Grid.Row="0" Style="{StaticResource LightBlueBorderStyle}">
                                                    <StackPanel Orientation="Horizontal">
                                                        <TextBlock
                                                            Grid.Row="0"
                                                            Grid.Column="0"
                                                            Margin="2,1"
                                                            HorizontalAlignment="Right"
                                                            VerticalAlignment="Center"
                                                            Style="{StaticResource TextBlock.Heading.04}"
                                                            Text="{Binding T3414_G1_MaPCLExamTest, Source={StaticResource eHCMSResources}}" />
                                                        <TextBox
                                                            Grid.Row="0"
                                                            Grid.Column="1"
                                                            Width="100"
                                                            Margin="2,1"
                                                            cal:Message.Attach="[Event KeyUp]=[Action Search_Code($source,$eventArgs)]"
                                                            Style="{StaticResource MainFrame.TextBox}"
                                                            TabIndex="9"
                                                            Text="{Binding SearchCriteria.FindCode, Mode=TwoWay}" />

                                                        <TextBlock
                                                            Grid.Row="0"
                                                            Grid.Column="3"
                                                            Margin="2,1"
                                                            HorizontalAlignment="Right"
                                                            VerticalAlignment="Center"
                                                            Style="{StaticResource TextBlock.Heading.04}"
                                                            Text="{Binding T0886_G1_TenPCLExamTest, Source={StaticResource eHCMSResources}}" />
                                                        <TextBox
                                                            Grid.Row="0"
                                                            Grid.Column="4"
                                                            Width="100"
                                                            Margin="2,1"
                                                            cal:Message.Attach="[Event KeyUp]=[Action Search_Name($source,$eventArgs)]"
                                                            Style="{StaticResource MainFrame.TextBox}"
                                                            TabIndex="10"
                                                            Text="{Binding SearchCriteria.FindName, Mode=TwoWay}" />
                                                        <Button
                                                            x:Name="btSearch"
                                                            Grid.Row="0"
                                                            Grid.Column="5"
                                                            Width="85"
                                                            Margin="2"
                                                            HorizontalAlignment="Left"
                                                            Content="{Binding G0981_G1_Tim, Source={StaticResource eHCMSResources}}"
                                                            Style="{StaticResource MainFrame.Button}"
                                                            TabIndex="11" />
                                                    </StackPanel>
                                                </Border>

                                                <commonctrl:ReadOnlyDataGrid
                                                    Grid.Row="1"
                                                    cal:Message.Attach="[Event DblClick]=[Action DoubleClick($eventArgs)]"
                                                    AutoGenerateColumns="False"
                                                    CanUserAddRows="False"
                                                    ColumnHeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                                                    HorizontalScrollBarVisibility="Auto"
                                                    IsReadOnly="True"
                                                    ItemsSource="{Binding ObjPCLExamTestItems, Mode=OneWay}"
                                                    Style="{StaticResource MainFrame.DataGridStyle}"
                                                    VerticalScrollBarVisibility="Auto">
                                                    <DataGrid.Columns>
                                                        <DataGridTemplateColumn>
                                                            <DataGridTemplateColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal">
                                                                        <Button
                                                                            x:Name="hplEdit"
                                                                            HorizontalAlignment="Center"
                                                                            VerticalAlignment="Center"
                                                                            cal:Message.Attach="[Event Click]=[Action hplEdit_Click($datacontext)]"
                                                                            Style="{StaticResource MainFrame.HyperlinkButton.01}"
                                                                            ToolTipService.ToolTip="{Binding T1484_G1_HChinh, Source={StaticResource eHCMSResources}}">
                                                                            <Image
                                                                                Width="15"
                                                                                Height="15"
                                                                                Opacity="1"
                                                                                Source="/aEMR.CommonViews;component/Assets/Images/edit-icon.png" />
                                                                        </Button>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </DataGridTemplateColumn.CellTemplate>
                                                        </DataGridTemplateColumn>
                                                        <DataGridTextColumn Binding="{Binding PCLExamTestItemCode}" Header="{Binding T3185_G1_Ma, Source={StaticResource eHCMSResources}}" />
                                                        <DataGridTextColumn
                                                            Width="200"
                                                            MaxWidth="250"
                                                            Binding="{Binding PCLExamTestItemName}"
                                                            Header="{Binding T0829_G1_Ten, Source={StaticResource eHCMSResources}}" />
                                                        <DataGridTextColumn Binding="{Binding PCLExamTestItemUnit}" Header="{Binding K3709_G1_DViTinh, Source={StaticResource eHCMSResources}}" />
                                                        <DataGridTextColumn Binding="{Binding PCLExamTestItemRefScale}" Header="{Binding K1833_G1_ChiSoBThg, Source={StaticResource eHCMSResources}}" />
                                                        <DataGridCheckBoxColumn Binding="{Binding TestItemIsExamType}" Header="{Binding T2531_G1_LapclexamType, Source={StaticResource eHCMSResources}}" />
                                                        <DataGridTextColumn
                                                            Width="200"
                                                            MaxWidth="250"
                                                            Binding="{Binding PCLExamTestItemDescription}"
                                                            Header="{Binding M0008_G1_MoTa, Source={StaticResource eHCMSResources}}" />
                                                        <DataGridTextColumn
                                                            Width="200"
                                                            MaxWidth="250"
                                                            Binding="{Binding PCLExamTestItemNameEng}"
                                                            Header="{Binding Z3321_G1_TenTiengAnh, Source={StaticResource eHCMSResources}}" />
                                                        <DataGridTextColumn Binding="{Binding PCLExamTestItemUnitEng}" Header="{Binding Z3322_G1_DVTEng, Source={StaticResource eHCMSResources}}" />
                                                        <DataGridTextColumn Binding="{Binding PCLExamTestItemRefScaleEng}" Header="{Binding Z3323_G1_ChiSoEng, Source={StaticResource eHCMSResources}}" />
                                                    </DataGrid.Columns>
                                                </commonctrl:ReadOnlyDataGrid>
                                                <commonctrl:DataPager
                                                    Grid.Row="2"
                                                    VerticalAlignment="Bottom"
                                                    Source="{Binding ObjPCLExamTestItems, Mode=OneWay}" />
                                            </Grid>
                                            <DataGrid
                                                Name="dtgList"
                                                Grid.Row="1"
                                                Grid.Column="1"
                                                Margin="0,2"
                                                VerticalAlignment="Top"
                                                AutoGenerateColumns="False"
                                                CanUserAddRows="False"
                                                HeadersVisibility="All"
                                                HorizontalScrollBarVisibility="Auto"
                                                IsReadOnly="True"
                                                ItemsSource="{Binding ObjPCLExamType_Current.ObjPCLExamTypeTestItemsList, Mode=TwoWay}"
                                                VerticalScrollBarVisibility="Auto">
                                                <DataGrid.Columns>
                                                    <DataGridTemplateColumn>
                                                        <DataGridTemplateColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <StackPanel Orientation="Horizontal">
                                                                    <!--<Button cal:Message.Attach="[Event Click]=[Action hplEdit_Click($datacontext)]"
                                                x:Name="hplEdit" ToolTipService.ToolTip="{Binding T1484_G1_HChinh, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Center" VerticalAlignment="Center">

                                                            <Image Source="/aEMR.CommonViews;component/Assets/Images/edit-icon.png" Height="15" Width="15" Opacity="1" />

                                                    </Button>-->
                                                                    <Button
                                                                        x:Name="hplDelete"
                                                                        HorizontalAlignment="Center"
                                                                        VerticalAlignment="Center"
                                                                        cal:Message.Attach="[Event Click]=[Action hplDelete_Click($datacontext)]"
                                                                        Style="{StaticResource MainFrame.HyperlinkButton.01}"
                                                                        ToolTipService.ToolTip="{Binding G2617_G1_Xoa, Source={StaticResource eHCMSResources}}">
                                                                        <Image
                                                                            Width="13"
                                                                            Height="13"
                                                                            Opacity="1"
                                                                            Source="/aEMR.CommonViews;component/Assets/Images/Delete.png" />
                                                                    </Button>
                                                                </StackPanel>
                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellTemplate>
                                                    </DataGridTemplateColumn>
                                                    <DataGridTextColumn Binding="{Binding V_PCLExamTestItem.PCLExamTestItemCode, Mode=TwoWay}" Header="{Binding T3185_G1_Ma, Source={StaticResource eHCMSResources}}" />
                                                    <DataGridTextColumn Binding="{Binding V_PCLExamTestItem.PCLExamTestItemName, Mode=TwoWay}" Header="{Binding T0886_G1_TenPCLExamTest, Source={StaticResource eHCMSResources}}" />
                                                    <DataGridTextColumn Binding="{Binding V_PCLExamTestItem.PCLExamTestItemUnit, Mode=TwoWay}" Header="{Binding K3681_G1_DVi, Source={StaticResource eHCMSResources}}" />
                                                    <DataGridTextColumn Binding="{Binding V_PCLExamTestItem.PCLExamTestItemRefScale, Mode=TwoWay}" Header="{Binding G0056_G1_ThThamChieu, Source={StaticResource eHCMSResources}}" />
                                                    <DataGridCheckBoxColumn Binding="{Binding V_PCLExamTestItem.TestItemIsExamType}" Header="{Binding T2531_G1_LapclexamType, Source={StaticResource eHCMSResources}}" />
                                                    <DataGridTextColumn Binding="{Binding V_PCLExamTestItem.PCLExamTestItemDescription, Mode=TwoWay}" Header="{Binding M0008_G1_MoTa, Source={StaticResource eHCMSResources}}" />
                                                </DataGrid.Columns>
                                            </DataGrid>
                                        </Grid>
                                    </Grid>
                                </Grid>
                            </TabItem>

                            <TabItem Header="{Binding Z2240_G1_TrangThietBiYTe, Source={StaticResource eHCMSResources}}">
                                <Grid Name="GridMap">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>
                                    <TextBlock
                                        Margin="0,10,0,0"
                                        HorizontalAlignment="Center"
                                        FontSize="14"
                                        FontWeight="Bold"
                                        Foreground="#FF0084FF"
                                        Text="{Binding Z2225_G1_DanhSachMayCLS, Source={StaticResource eHCMSResources}}" />

                                    <Border
                                        Grid.Row="2"
                                        Margin="0,10,0,5"
                                        Background="AliceBlue"
                                        BorderBrush="#C1D2E6"
                                        BorderThickness="1"
                                        CornerRadius="3">
                                        <StackPanel>
                                            <Border
                                                Margin="10,-10,0,0"
                                                HorizontalAlignment="Left"
                                                Background="AliceBlue"
                                                BorderBrush="#6F8AA9"
                                                BorderThickness="1">
                                                <TextBlock
                                                    Margin="10,0,10,0"
                                                    FontWeight="Bold"
                                                    Text="{Binding G0507_G1_TTin, Source={StaticResource eHCMSResources}}" />
                                            </Border>
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="28" />
                                                    <RowDefinition Height="28" />
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="120" />
                                                    <ColumnDefinition Width="300" />
                                                </Grid.ColumnDefinitions>
                                                <TextBlock
                                                    Grid.Row="0"
                                                    Grid.Column="0"
                                                    Margin="0,2,5,2"
                                                    HorizontalAlignment="Right"
                                                    VerticalAlignment="Center"
                                                    Style="{StaticResource TextBlock.Heading.04}"
                                                    Text="{Binding R0635_G1_TenVTYT, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" />

                                                <AxControls:AxComboBox
                                                    x:Name="cboSelectedResource"
                                                    Grid.Row="0"
                                                    Grid.Column="1"
                                                    Margin="0,2,0,2"
                                                    HorizontalAlignment="Stretch"
                                                    DisplayMemberPath="ItemName"
                                                    ItemsSource="{Binding hiRepEquip, Mode=OneWay}"
                                                    SelectedItem="{Binding SelectedEquip, Mode=TwoWay}"
                                                    Style="{StaticResource MainFrame.ComboBox}" />
                                                <!--  cal:Message.Attach="[Event SelectionChanged]=[Action cboSelectedResource_SelectionChanged($source, $eventArgs)]"  -->

                                                <Button
                                                    x:Name="btAdd"
                                                    Grid.Row="2"
                                                    Grid.Column="1"
                                                    Width="75"
                                                    Margin="0,0,0,2"
                                                    HorizontalAlignment="Left"
                                                    Style="{StaticResource MainFrame.Button}">
                                                    <StackPanel>
                                                        <TextBlock VerticalAlignment="Center" Text="{Binding G0156_G1_Them, Source={StaticResource eHCMSResources}}" />
                                                    </StackPanel>
                                                </Button>
                                            </Grid>
                                        </StackPanel>
                                    </Border>

                                    <Border
                                        Grid.Row="3"
                                        Margin="0,10,0,5"
                                        Background="AliceBlue"
                                        BorderBrush="#C1D2E6"
                                        BorderThickness="1"
                                        CornerRadius="3">
                                        <StackPanel>
                                            <Border
                                                Margin="10,-10,0,0"
                                                HorizontalAlignment="Left"
                                                Background="AliceBlue"
                                                BorderBrush="#6F8AA9"
                                                BorderThickness="1">
                                                <TextBlock
                                                    Margin="10,0,10,0"
                                                    FontWeight="Bold"
                                                    Text="{Binding K3096_G1_DSVT, Source={StaticResource eHCMSResources}}" />
                                            </Border>
                                            <Grid Margin="0,5,0,0">
                                                <AxControls:AxDataGridNy
                                                    x:Name="GridResources"
                                                    Grid.Row="0"
                                                    MaxWidth="1130"
                                                    Margin="1,1,3,1"
                                                    HorizontalAlignment="Stretch"
                                                    cal:Message.Attach="[Event Loaded] = [Action GridResources_Loaded($source, $eventArgs)]"
                                                    AutoGenerateColumns="False"
                                                    ColumnHeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyleWrap}"
                                                    HeadersVisibility="All"
                                                    HorizontalScrollBarVisibility="Auto"
                                                    IsReadOnly="True"
                                                    ItemsSource="{Binding ObjPCLExamType_Current.Resource, Mode=TwoWay}"
                                                    Style="{StaticResource MainFrame.DataGridStyle}"
                                                    VerticalScrollBarVisibility="Auto">
                                                    <DataGrid.Columns>
                                                        <DataGridTemplateColumn CellTemplate="{StaticResource DeleteResources}" IsReadOnly="True" />
                                                        <DataGridTextColumn Binding="{Binding RscrID}" Header="{Binding R0389_G1_MaVTu, Source={StaticResource eHCMSResources}}" />
                                                        <DataGridTextColumn
                                                            Width="Auto"
                                                            MinWidth="750"
                                                            Binding="{Binding ItemName}"
                                                            Header="{Binding Z0320_G1_TenVTu, Source={StaticResource eHCMSResources}}" />
                                                    </DataGrid.Columns>
                                                </AxControls:AxDataGridNy>
                                            </Grid>
                                        </StackPanel>
                                    </Border>
                                </Grid>
                            </TabItem>
                        </TabControl>
                    </Grid>

                    <StackPanel
                        Grid.Row="1"
                        Grid.ColumnSpan="2"
                        Margin="0,0,0,0"
                        HorizontalAlignment="Center"
                        Orientation="Horizontal">
                        <Button
                            x:Name="btSave"
                            Width="80"
                            Height="30"
                            Margin="0,2,5,2"
                            HorizontalAlignment="Left"
                            Style="{StaticResource MainFrame.Button}">
                            <StackPanel Orientation="Horizontal">
                                <Image
                                    Width="20"
                                    Height="18"
                                    VerticalAlignment="Center"
                                    Source="/aEMR.CommonViews;component/Assets/Images/saveanddown24x24border.png" />
                                <TextBlock
                                    Margin="5,0,0,0"
                                    VerticalAlignment="Center"
                                    Text="{Binding T2937_G1_Luu, Source={StaticResource eHCMSResources}}" />
                            </StackPanel>
                        </Button>

                        <Button
                            x:Name="btClose"
                            Width="80"
                            Height="30"
                            Margin="0,2,5,2"
                            HorizontalAlignment="Left"
                            Style="{StaticResource MainFrame.Button}">
                            <StackPanel Orientation="Horizontal">
                                <Image
                                    Width="20"
                                    Height="18"
                                    VerticalAlignment="Center"
                                    Source="/aEMR.CommonViews;component/Assets/Images/Button-exit-icon.png" />
                                <TextBlock
                                    Margin="5,0,0,0"
                                    VerticalAlignment="Center"
                                    Text="{Binding K3735_G1_Dong, Source={StaticResource eHCMSResources}}" />
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </Grid>
            </toolkit:BusyIndicator>
        </Grid>
    </ScrollViewer>
</UserControl>

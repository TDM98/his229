<UserControl x:Class="aEMR.Pharmacy.Views.RefGenDrug_AddView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    d:DesignHeight="900" d:DesignWidth="1000"
             xmlns:cal="http://www.caliburnproject.org"
             xmlns:AxControls="clr-namespace:aEMR.Controls;assembly=aEMR.Controls"
             xmlns:toolkit="http://schemas.xceed.com/wpf/xaml/toolkit"
    xmlns:Resources="clr-namespace:eHCMSLanguage;assembly=aEMRLanguage"
             xmlns:Converter="clr-namespace:aEMR.Common.Converters;assembly=aEMR.Common">
    <UserControl.Resources>
	    <Resources:eHCMSResources x:Key="eHCMSResources"/>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibility"/>
        <Converter:DecimalConverter x:Key="DecimalConverter"/>
        <DataTemplate x:Key="LinkTemplate">
            <Button x:Name="lnkDelete" cal:Message.Attach="[Event Click]=[Action btnDeleteCC_Click($source,$eventArgs)]"  ToolTipService.ToolTip="{Binding G2617_G1_Xoa, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Center" VerticalAlignment="Center" CommandParameter="{Binding SupplierID}">
                
                    <Image Source="/aEMR.CommonViews;component/Assets/Images/Delete.png" Height="13" Width="13" Opacity="1" />
                
            </Button>
        </DataTemplate>
        <DataTemplate x:Key="SupplierNameTemplete">
            <TextBlock Name="txtDrugName" Text="{Binding SelectedSupplier.SupplierName}" Style="{StaticResource MainFrame.TextBlock.Auto}" Margin="0" Padding="0" VerticalAlignment="Bottom" />
        </DataTemplate>
        <DataTemplate x:Key="AutoSupplierTemplete">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition></ColumnDefinition>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <AxControls:KeyEnabledComboBox Name="acbDrug" SelectedValuePath="SupplierID" DisplayMemberPath="SupplierName" SelectedItemEx="{Binding SelectedSupplier,Mode=TwoWay}" MinWidth="150" MaxWidth="220"
                                      cal:Message.Attach="[Event Loaded] = [Action acbDrug_Loaded($source, $eventArgs)]"    />
                <Button Content="..."  Style="{StaticResource MainFrame.Button}" Grid.Column="1"  cal:Message.Attach="[Event Click] = [Action Supplier_Click($source, $eventArgs)]" ></Button>
            </Grid>
        </DataTemplate>

        <DataTemplate x:Key="UnitPriceCellEditTemplate">
            <AxControls:AxTextBox Height="22" Name="txtDrugName" Text="{Binding UnitPrice,Mode=TwoWay,Converter={StaticResource DecimalConverter}}"   TextAlignment="Right" Style="{StaticResource MainFrame.TextBox.Grid}"/>
        </DataTemplate>
        <DataTemplate x:Key="UnitPriceCellTemplate">
            <TextBlock  Name="txtDrugName" Text="{Binding UnitPrice,Converter={StaticResource DecimalConverter}}"  HorizontalAlignment="Right" />
        </DataTemplate>

        <DataTemplate x:Key="PackagePriceCellEditTemplate">
            <AxControls:AxTextBox Height="22" Name="txtDrugName" Text="{Binding PackagePrice,Mode=TwoWay,Converter={StaticResource DecimalConverter}}"   TextAlignment="Right" Style="{StaticResource MainFrame.TextBox.Grid}"/>
        </DataTemplate>
        <DataTemplate x:Key="PackagePriceCellTemplate">
            <TextBlock  Name="txtDrugName" Text="{Binding PackagePrice,Converter={StaticResource DecimalConverter}}"  HorizontalAlignment="Right" />
        </DataTemplate>
        <DataTemplate x:Key="VATCellEditTemplate">
            <AxControls:AxTextBox Height="22" Name="txtDrugName" Text="{Binding VAT,Mode=TwoWay,Converter={StaticResource DecimalConverter}}"   TextAlignment="Right" Style="{StaticResource MainFrame.TextBox.Grid}"/>
        </DataTemplate>
        <DataTemplate x:Key="VATCellTemplate">
            <TextBlock  Name="txtDrugName" Text="{Binding VAT,Converter={StaticResource DecimalConverter}}"  HorizontalAlignment="Right" />
        </DataTemplate>
    </UserControl.Resources>
    <toolkit:BusyIndicator HorizontalAlignment="Stretch"
                                         VerticalAlignment="Stretch"
                                         IsBusy="{Binding IsLoading, Mode=OneWay}"                                         
                                         DisplayAfter="0:0:0.100"
                                         Margin="0,0,0,10">
        <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="30" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            
                <TextBlock x:Name="TitleForm" Text="{Binding G0338_G1_ThemThuocMoi, Source={StaticResource eHCMSResources}}" Grid.ColumnSpan="2"
                               HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="#3595CB" 
                               FontSize="14" FontWeight="Bold" />
            <AxControls:AxGrid x:Name="LayoutRoot"  Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                    <ColumnDefinition MaxWidth="350"></ColumnDefinition>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                    <ColumnDefinition Width="Auto"></ColumnDefinition>
                    <ColumnDefinition MaxWidth="550"></ColumnDefinition>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                        <RowDefinition Height="20"/>
                        <RowDefinition Height="20"/>
                        <RowDefinition />
                        <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <!--<Button Name="btnChonNCCHang" Grid.Row="18" HorizontalAlignment="Center" VerticalAlignment="Center"  Grid.Column="0" Grid.ColumnSpan="3" Content="{Binding K2069_G1_ChonNCC, Source={StaticResource eHCMSResources}}" FontSize="13" FontWeight="Bold"></Button>-->
                    <CheckBox   Content="{Binding G0855_G1_ThuocConDung, Source={StaticResource eHCMSResources}}" Grid.Column="1"   Margin="2,1" Grid.Row="19"  IsThreeState="False" IsChecked="{Binding NewDrug.DIsActive,TargetNullValue=False,Mode=TwoWay}" Style="{StaticResource MainFrame.Checkbox}" Visibility="{Binding IsEdit,Converter={StaticResource BooleanToVisibility} }"/>
                    <CheckBox   Content="{Binding T2475_G1_KhongHienThi, Source={StaticResource eHCMSResources}}" Foreground="Red" Grid.Column="1"   Margin="2,1" Grid.Row="19"  IsThreeState="False" IsChecked="{Binding NewDrug.IsNotShow,TargetNullValue=False,Mode=TwoWay}" Style="{StaticResource MainFrame.Checkbox}" Visibility="{Binding IsEdit,Converter={StaticResource BooleanToVisibility} }" HorizontalAlignment="Right"/>
                    <StackPanel Orientation="Horizontal" Grid.Row="22" Grid.Column="4" Grid.ColumnSpan="2" HorizontalAlignment="Right">
                    <Button x:Name="Refesh" Content="{Binding T2535_G1_LamMoi, Source={StaticResource eHCMSResources}}"  Width="75" Margin="2,1" Style="{StaticResource MainFrame.Button}" TabIndex="37" />
                    <Button x:Name="OKButton" Content="{Binding G0156_G1_Them, Source={StaticResource eHCMSResources}}"  Width="75" Margin="2,1" Style="{StaticResource MainFrame.Button}" TabIndex="35" 
                            Visibility="{Binding IsAdd,Converter={StaticResource BooleanToVisibility} }"/>                        
                    
                    <Button x:Name="EditButton" Content="{Binding K1599_G1_CNhat, Source={StaticResource eHCMSResources}}"  Width="75" Margin="2,1" Style="{StaticResource MainFrame.Button}" TabIndex="35"
                            Visibility="{Binding IsEdit,Converter={StaticResource BooleanToVisibility} }"/>
                    <Button x:Name="CancelButton" Content="{Binding K3735_G1_Dong, Source={StaticResource eHCMSResources}}"  Width="75" Margin="2,1" Style="{StaticResource MainFrame.Button}" TabIndex="36"/>
                </StackPanel>
                <TextBlock Style="{StaticResource MainFrame.TextBlock.01}"  Text="{Binding T0907_G1_TenThuongMai, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right" />
                <TextBlock Style="{StaticResource MainFrame.TextBlock.01}"  Grid.Row="1" Text="{Binding T0839_G1_TenChung, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right" />
                <TextBlock Style="{StaticResource MainFrame.TextBlock.01}"  Grid.Row="2" Text="{Binding K2569_G1_Code, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right" />
                <TextBlock Style="{StaticResource MainFrame.TextBlock.01}"  Grid.Row="4" Text="{Binding K3526_G1_Dispensevolume, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right" />
                <TextBlock Style="{StaticResource MainFrame.TextBlock.01}"  Grid.Row="3" Text="{Binding T1316_G1_HLg, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right" />
                <TextBlock Style="{StaticResource MainFrame.TextBlock.01}"  Grid.Row="5" Text="{Binding Q0420_G1_QCDongGoi, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right" />
                <TextBlock Style="{StaticResource MainFrame.TextBlock.01}"  Grid.Row="6" Text="{Binding S0692_G1_SoThamChieu, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right" />
                <TextBlock Style="{StaticResource MainFrame.TextBlock.01}"  Grid.Row="7" Text="{Binding K0937_G1_ApGiaDau, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right" />
                <TextBlock Style="{StaticResource MainFrame.TextBlock.01}"  Grid.Row="8" Text="{Binding T1753_G1_HuyTruocHan, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right" />
                <TextBlock Style="{StaticResource MainFrame.TextBlock.01}"  Grid.Row="9" Text="{Binding T1410_G1_HgSX2, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right" />
                <TextBlock Style="{StaticResource MainFrame.TextBlock.01}"  Grid.Row="10" Text="{Binding Q0484_G1_QuocGia, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right" />
                <TextBlock Style="{StaticResource MainFrame.TextBlock.01}"  Grid.Row="12" Text="{Binding N0248_G1_NhomThuoc, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right" />
                <TextBlock Style="{StaticResource MainFrame.TextBlock.01}"  Grid.Row="11" Text="{Binding N0241_G1_NhomBH, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right" />

                <TextBlock Grid.Column="3" Grid.Row="10" Style="{StaticResource MainFrame.TextBlock.01}"    Text="{Binding M0008_G1_MoTa, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right"  />

                <TextBlock Grid.Column="3" Style="{StaticResource MainFrame.TextBlock.01}"    Text="{Binding K1810_G1_CDinh, Source={StaticResource eHCMSResources}}" Grid.Row="0" HorizontalAlignment="Right" />
                <TextBlock Grid.Column="3" Style="{StaticResource MainFrame.TextBlock.01}"    Grid.Row="1" Text="{Binding K2218_G1_CCD, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right" />
                <TextBlock Style="{StaticResource MainFrame.TextBlock.01}"    Grid.Row="13" Text="{Binding T2602_G1_LieuDung, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right" />
                <TextBlock Style="{StaticResource MainFrame.TextBlock.01}" Grid.Row="14" Text="{Binding K1503_G1_CachDung, Source={StaticResource eHCMSResources}}"  HorizontalAlignment="Right" />
                <TextBlock Style="{StaticResource MainFrame.TextBlock.01}" Grid.Row="16" Text="{Binding P0344_G1_PhanLoai, Source={StaticResource eHCMSResources}}"  HorizontalAlignment="Right" />
                <TextBlock Grid.Column="0" Style="{StaticResource MainFrame.TextBlock.01}"    Text="{Binding G0067_G1_ThPhan, Source={StaticResource eHCMSResources}}" Grid.Row="17" HorizontalAlignment="Right" />
                <TextBlock Grid.Column="0" Style="{StaticResource MainFrame.TextBlock.01}"    Grid.Row="18" Text="{Binding T1682_G1_HoatChatChinh, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right" />

                <TextBlock Grid.Column="3" Style="{StaticResource MainFrame.TextBlock.01}"    Grid.Row="3" Text="{Binding K1576_G1_CBao, Source={StaticResource eHCMSResources}}"  HorizontalAlignment="Right" />
                <TextBlock Grid.Column="3" Style="{StaticResource MainFrame.TextBlock.01}"    Grid.Row="6" Text="{Binding T0764_G1_TacDungPhu, Source={StaticResource eHCMSResources}}"  HorizontalAlignment="Right" />
                <TextBlock Grid.Column="3" Style="{StaticResource MainFrame.TextBlock.01}"    Grid.Row="8" Text="{Binding G2074_G1_TuongTacThuoc, Source={StaticResource eHCMSResources}}"  HorizontalAlignment="Right" />
                <TextBox TabIndex="0" Name="tbx_BrandName" Grid.Column="1"  Margin="2,2,3,2" Text="{Binding NewDrug.BrandName,Mode=TwoWay,NotifyOnValidationError=True}" Style="{StaticResource MainFrame.TextBox}" />
                    <AxControls:DescriptionViewer  Grid.Column="2" Description="{Binding Z0058_G1_NhapTenThuongMai, Source={StaticResource eHCMSResources}}"  HorizontalAlignment="Right" Margin="0" d:LayoutOverrides="Height" VerticalAlignment="Center"/>
                <TextBox TabIndex="1" Name="tbx_GenericName" Grid.Column="1"  Margin="2,2,3,2" Grid.Row="1" Text="{Binding NewDrug.GenericName,Mode=TwoWay,NotifyOnValidationError=True}" Style="{StaticResource MainFrame.TextBox}"/>
                    <AxControls:DescriptionViewer Grid.Row="1"  Grid.Column="2" Description="{Binding Z0059_G1_NhapTenChung, Source={StaticResource eHCMSResources}}"  HorizontalAlignment="Right" Margin="0" d:LayoutOverrides="Height" VerticalAlignment="Center"/>
                <Grid Grid.Column="1"  Margin="2,2,3,2" Grid.Row="2">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition></ColumnDefinition>
                        <ColumnDefinition Width="80"></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <TextBox Grid.Column="0" TabIndex="2"  Text="{Binding NewDrug.DrugCode,Mode=TwoWay,ValidatesOnExceptions=True, NotifyOnValidationError=True}" Style="{StaticResource MainFrame.TextBox}" IsReadOnly="True" />
                    <TextBlock Grid.Column="1" Style="{StaticResource MainFrame.TextBlock.01}"    Text="{Binding K2661_G1_CodeBHYT, Source={StaticResource eHCMSResources}}" Margin="5,0,0,0" HorizontalAlignment="Right" />
                    <TextBox Grid.Column="2" TabIndex="3"  Text="{Binding NewDrug.HIDrugCode,Mode=TwoWay,ValidatesOnExceptions=True, NotifyOnValidationError=True}" Style="{StaticResource MainFrame.TextBox}"/>
                </Grid>
                    <AxControls:DescriptionViewer Grid.Row="2"  Grid.Column="2" Description="{Binding Z0060_G1_NhapCode, Source={StaticResource eHCMSResources}}"  HorizontalAlignment="Right" Margin="0" d:LayoutOverrides="Height" VerticalAlignment="Center"/>

                <Grid Grid.Column="1"  Margin="2,2,3,2" Grid.Row="3">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition></ColumnDefinition>
                        <ColumnDefinition Width="80"></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <TextBox Grid.Column="0" TabIndex="4"  Text="{Binding NewDrug.Content,Mode=TwoWay,ValidatesOnExceptions=True, NotifyOnValidationError=True}" Style="{StaticResource MainFrame.TextBox}" />
                    <TextBlock Grid.Column="1" Style="{StaticResource MainFrame.TextBlock.01}"    Text="{Binding K3966_G1_Dvt, Source={StaticResource eHCMSResources}}" Margin="5,0,0,0" HorizontalAlignment="Right"/>
                    <AxControls:KeyEnabledComboBox TabIndex="5" Name="cbx_Unit"  Margin="0" Grid.Column="2"  SelectedValuePath="UnitID" DisplayMemberPath="UnitName" ItemsSource="{Binding Units}" SelectedItemEx="{Binding NewDrug.SeletedUnit,Mode=TwoWay,NotifyOnValidationError=True}"  Style="{StaticResource MainFrame.ComboBox}"></AxControls:KeyEnabledComboBox>
                </Grid>
                    <AxControls:DescriptionViewer Grid.Row="3"  Grid.Column="2" Description="{Binding Z0061_G1_NhapQCachDGoi, Source={StaticResource eHCMSResources}}"  HorizontalAlignment="Right" Margin="0" d:LayoutOverrides="Height" VerticalAlignment="Center"/>

                <Grid Grid.Column="1"  Margin="2,2,3,2" Grid.Row="4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition></ColumnDefinition>
                        <ColumnDefinition Width="80"></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <TextBox Text="{Binding NewDrug.DispenseVolume,Mode=TwoWay,ValidatesOnExceptions=True, NotifyOnValidationError=True}" Style="{StaticResource MainFrame.TextBox}" TextAlignment="Right" TabIndex="6"></TextBox>
                    <TextBlock Grid.Column="1" Style="{StaticResource MainFrame.TextBlock.01}"    Text="{Binding K3685_G1_DViDung, Source={StaticResource eHCMSResources}}" Margin="5,0,0,0" HorizontalAlignment="Right"/>
                    <AxControls:KeyEnabledComboBox TabIndex="7" Grid.Column="2" Margin="0"   SelectedValuePath="UnitID" DisplayMemberPath="UnitName" ItemsSource="{Binding Units}" SelectedItemEx="{Binding NewDrug.SeletedUnitUse,Mode=TwoWay,NotifyOnValidationError=True}"  Style="{StaticResource MainFrame.ComboBox}"></AxControls:KeyEnabledComboBox>
                </Grid>

                <Grid Grid.Column="1"  Margin="2,2,3,2" Grid.Row="5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition></ColumnDefinition>
                        <ColumnDefinition Width="80"></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <TextBox Name="cbx_unitpackaging" Grid.Column="0"  Text="{Binding NewDrug.Packaging,Mode=TwoWay,ValidatesOnExceptions=True, NotifyOnValidationError=True}" Style="{StaticResource MainFrame.TextBox}"  TabIndex="8" />
                    <TextBlock Grid.Column="1" Style="{StaticResource MainFrame.TextBlock.01}"    Text="{Binding S0604_G1_SLg_QC, Source={StaticResource eHCMSResources}}" Margin="5,0,0,0" HorizontalAlignment="Right"/>
                    <TextBox Grid.Column="2" TabIndex="9"  Text="{Binding NewDrug.UnitPackaging,Mode=TwoWay,ValidatesOnExceptions=True, NotifyOnValidationError=True}" Style="{StaticResource MainFrame.TextBox}" TextAlignment="Right" cal:Message.Attach="[Event LostFocus] = [Action TextBox_LostFocus($source, $eventArgs)]"/>
                </Grid>
                    <AxControls:DescriptionViewer Grid.Row="5"  Grid.Column="2" Description="{Binding Z0062_G1_NhapSlgQCachVaHSoNhan, Source={StaticResource eHCMSResources}}"  HorizontalAlignment="Right" Margin="0" d:LayoutOverrides="Height" VerticalAlignment="Center"/>
                    <AxControls:DescriptionViewer Grid.Row="4"  Grid.Column="2" Description="{Binding Z0063_G1_ChonDVTDVD, Source={StaticResource eHCMSResources}}"  HorizontalAlignment="Right" Margin="0" d:LayoutOverrides="Height" VerticalAlignment="Center"/>
                <Grid Grid.Column="1"  Margin="2,2,3,2" Grid.Row="6">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition></ColumnDefinition>
                        <ColumnDefinition Width="80"></ColumnDefinition>
                        <ColumnDefinition></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <TextBox  Grid.Column="0"  Text="{Binding NewDrug.ProductCodeRefNum,Mode=TwoWay,ValidatesOnExceptions=True, NotifyOnValidationError=True}" Style="{StaticResource MainFrame.TextBox}" TextAlignment="Right" TabIndex="10" />
                    <TextBlock Grid.Column="1" Style="{StaticResource MainFrame.TextBlock.01}"    Text="{Binding T1705_G1_HSAnToan, Source={StaticResource eHCMSResources}}" Margin="5,0,0,0" HorizontalAlignment="Right"/>
                    <TextBox   Margin="0" Grid.Column="2" Text="{Binding NewDrug.FactorSafety,Mode=TwoWay,ValidatesOnExceptions=True, NotifyOnValidationError=True}" Style="{StaticResource MainFrame.TextBox}" TextAlignment="Right" TabIndex="11" />
                </Grid>

                <!--KMx: Không sử dụng Autocomplete, bởi vì có thể có nhiều bệnh viện trúng thầu (07/08/2014 17:03)-->
                    <!--<AutoCompleteBox Text="{Binding NewDrug.CurrentHospital.HosName}"  IsTabStop="False" 
                                                   IsTextCompletionEnabled="False"                                     
                                                   ValueMemberBinding="{Binding HosName, Mode=TwoWay}"   
                                                  FontWeight="Bold" IsDropDownOpen="True" Style="{StaticResource MainFrame.AutoCompleteBox}"
                                             TextBoxStyle="{StaticResource MainFrame.TextBox}" MinimumPrefixLength="0"
                                              cal:Message.Attach="[Event DropDownClosed] = [Action ApGiaDau_DropDownClosed($source, $eventArgs)] ;
                                                                  [Event Populating] = [Action BvApThau_Populating($source, $eventArgs)] " 
                                                    MinimumPopulateDelay="300" 
                                                 TabIndex="12" Name="cbx_Addictive" Grid.Column="1"  Margin="2" Grid.Row="7" SelectedItem="{Binding NewDrug.CurrentHospital}"
                                                  ItemsSource="{Binding Hospitals}" FilterMode="None">
                    <AutoCompleteBox.ItemTemplate>
                        <DataTemplate>
                                <TextBlock Text="{Binding HosName}"></TextBlock>
                        </DataTemplate>
                    </AutoCompleteBox.ItemTemplate>
                </AutoCompleteBox>-->
                <!--<AxControls:KeyEnabledComboBox TabIndex="12" Name="cbx_Addictive" Grid.Column="1"  Margin="2" Grid.Row="7" SelectedValueEx="{Binding NewDrug.HosID,Mode=TwoWay,NotifyOnValidationError=True}" SelectedValuePath="HosID" DisplayMemberPath="HosName" ItemsSource="{Binding Hospitals}" Style="{StaticResource MainFrame.ComboBox}"></AxControls:KeyEnabledComboBox>-->
                    <TextBox Name="tbx_WinningHospitals" Grid.Column="1"  Margin="2" Grid.Row="7"  Text="{Binding NewDrug.WinningHospitals, Mode=TwoWay}" Style="{StaticResource MainFrame.TextBox}"  TabIndex="12" />
                
                    <Grid Grid.Column="1"  Margin="2" Grid.Row="8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                        <ColumnDefinition Width="158"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <TextBox Grid.Column="0" TabIndex="13" Name="tbx_BeforeExprire"  Text="{Binding NewDrug.AdvTimeBeforeExpire,Mode=TwoWay,ValidatesOnExceptions=True, NotifyOnValidationError=True}" Style="{StaticResource MainFrame.TextBox}" Width="80" TextAlignment="Right"/>
                    <TextBlock Grid.Column="1" Style="{StaticResource MainFrame.TextBlock.01}"    Text="{Binding G2262_G1_Visa, Source={StaticResource eHCMSResources}}" Margin="10,0,0,0"/>
                    <TextBox Grid.Column="2" TabIndex="14"  Text="{Binding NewDrug.Visa,Mode=TwoWay,ValidatesOnExceptions=True, NotifyOnValidationError=True}" Style="{StaticResource MainFrame.TextBox}"/>
                </Grid>
                    <AxControls:AxAutoComplete Text="{Binding NewDrug.PharmaceuticalCompany.PCOName}"  IsTabStop="False" 
                                                  ValueMemberBinding="{Binding PCOName, Mode=TwoWay}"   
                                                  FontWeight="Bold" IsDropDownOpen="True" Style="{StaticResource MainFrame.AutoCompleteBox}"
                                                  TextBoxStyle="{StaticResource MainFrame.TextBox}" MinimumPrefixLength="0"
                                               cal:Message.Attach="[Event DropDownClosed] = [Action HangSX_DropDownClosed($source, $eventArgs)]"
                                                  TabIndex="15" Grid.Column="1"  Margin="2" Grid.Row="9" SelectedItem="{Binding NewDrug.PharmaceuticalCompany,NotifyOnValidationError=True}"
                                                  ItemsSource="{Binding PharmaceuticalCompanies}" FilterMode="StartsWith"
                                               ItemContainerStyle="{StaticResource AxAutoCompleteBoxBkg}">
                        <AxControls:AxAutoComplete.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding PCOName}"></TextBlock>
                        </DataTemplate>
                    </AxControls:AxAutoComplete.ItemTemplate>
                </AxControls:AxAutoComplete>

                <!--<AxControls:KeyEnabledComboBox SelectedItemEx="{Binding NewDrug.PharmaceuticalCompany,Mode=TwoWay,NotifyOnValidationError=True}" ItemsSource="{Binding PharmaceuticalCompanies}" DisplayMemberPath="PCOName" SelectedValuePath="PCOID" TabIndex="15" Grid.Column="1"  Margin="2" Grid.Row="9" Style="{StaticResource MainFrame.ComboBox}"/>-->
                
                <AxControls:DescriptionViewer Grid.Row="9"  Grid.Column="2" Description="Chọn Quốc Gia SX"  HorizontalAlignment="Right" Margin="0" d:LayoutOverrides="Height" VerticalAlignment="Center"/>
                    <AxControls:AxAutoComplete Text="{Binding NewDrug.CurrentRefGenDrugBHYT_Category.CategoryName}" Name="AutoDrug_Text"  IsTabStop="False" 
                                                 ValueMemberBinding="{Binding CategoryName, Mode=TwoWay}"  
                                                  FontWeight="Bold" IsDropDownOpen="True" Style="{StaticResource MainFrame.AutoCompleteBox}"
                                              TextBoxStyle="{StaticResource MainFrame.TextBox}" MinimumPrefixLength="0"
                                             cal:Message.Attach="[Event DropDownClosed] = [Action AutoDrug_Text_DropDownClosed($source, $eventArgs)]" 
                                                  TabIndex="17" Grid.Column="1" Margin="2,2,0,2" Grid.Row="11" SelectedItem="{Binding NewDrug.CurrentRefGenDrugBHYT_Category}"
                                                  ItemsSource="{Binding RefGenDrugBHYT_Categorys}"
                                               ItemContainerStyle="{StaticResource AxAutoCompleteBoxBkg}">
                        <AxControls:AxAutoComplete.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding DrugOrderNoAndCategoryName}"></TextBlock>
                        </DataTemplate>
                    </AxControls:AxAutoComplete.ItemTemplate>
                </AxControls:AxAutoComplete>
                <Grid Grid.Column="1"  Margin="2" Grid.Row="12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width="110"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                        <AxControls:AxAutoComplete Grid.Column="0" Text="{Binding NewDrug.SeletedDrugClass.FaName}"  IsTabStop="False" 
                                                   ValueMemberBinding="{Binding FaName, Mode=TwoWay}"   
                                                  FontWeight="Bold" IsDropDownOpen="True" Style="{StaticResource MainFrame.AutoCompleteBox}"
                                                  TextBoxStyle="{StaticResource MainFrame.TextBox}" MinimumPrefixLength="0"
                                                   cal:Message.Attach="[Event DropDownClosed] = [Action NhomThuoc_DropDownClosed($source, $eventArgs)]"
                                                  TabIndex="18"  SelectedItem="{Binding NewDrug.SeletedDrugClass,UpdateSourceTrigger=PropertyChanged}"
                                                  ItemsSource="{Binding FamilyTherapies}"
                                                   ItemContainerStyle="{StaticResource AxAutoCompleteBoxBkg}">
                            <AxControls:AxAutoComplete.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding FaName}"></TextBlock>
                            </DataTemplate>
                        </AxControls:AxAutoComplete.ItemTemplate>
                    </AxControls:AxAutoComplete>
                    <CheckBox TabIndex="21"  Content="{Binding G0840_G1_ThuocBH, Source={StaticResource eHCMSResources}}" Grid.Column="1"   Margin="2,1"  IsThreeState="False" IsChecked="{Binding NewDrug.InsuranceCover,TargetNullValue=False,Mode=TwoWay}" Style="{StaticResource MainFrame.Checkbox}"/>
                </Grid>
                <AxControls:DescriptionViewer Grid.Row="12"  Grid.Column="2" Description="Chọn Quốc Gia SX"  HorizontalAlignment="Right" Margin="0" d:LayoutOverrides="Height" VerticalAlignment="Center"/>
                    <AxControls:AxAutoComplete Text="{Binding NewDrug.SeletedCountry.CountryName}"  IsTabStop="False" 
                                                   ValueMemberBinding="{Binding CountryName, Mode=TwoWay}"   
                                                  FontWeight="Bold" IsDropDownOpen="True" Style="{StaticResource MainFrame.AutoCompleteBox}"
                                             TextBoxStyle="{StaticResource MainFrame.TextBox}" MinimumPrefixLength="0"
                                               cal:Message.Attach="[Event DropDownClosed] = [Action Country_DropDownClosed($source, $eventArgs)]"     
                                             TabIndex="16" Name="cbx_FamilyTherapy" Grid.Column="1"  Margin="2,2,2,2" Grid.Row="10"  SelectedItem="{Binding NewDrug.SelectedCountry,UpdateSourceTrigger=PropertyChanged,NotifyOnValidationError=True}"
                                                  ItemsSource="{Binding Countries}"
                                               ItemContainerStyle="{StaticResource AxAutoCompleteBoxBkg}">
                        <AxControls:AxAutoComplete.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding CountryName}"></TextBlock>
                        </DataTemplate>
                    </AxControls:AxAutoComplete.ItemTemplate>
                </AxControls:AxAutoComplete>

                <AxControls:DescriptionViewer Grid.Row="10"  Grid.Column="2" Description="{Binding Z0066_G1_ChonHoThuoc, Source={StaticResource eHCMSResources}}"  HorizontalAlignment="Right" Margin="0" d:LayoutOverrides="Height" VerticalAlignment="Center"/>

                <TextBox  TabIndex="34" Name="tbx_Description" Grid.Column="4"  Margin="2" Grid.Row="10" AcceptsReturn="True"  Grid.RowSpan="2" Grid.ColumnSpan="2" VerticalScrollBarVisibility="Visible"
                HorizontalScrollBarVisibility="Auto"  Text="{Binding NewDrug.SdlDescription,Mode=TwoWay}" Style="{StaticResource MainFrame.TextBox}"  />

                <TextBox TabIndex="29" Name="tbx_Indication" Grid.Column="4"  Margin="2" Grid.Row="0" Text="{Binding NewDrug.Indication,Mode=TwoWay}" Style="{StaticResource MainFrame.TextBox}" Grid.ColumnSpan="2" />
                <!--<TextBox TabIndex="19" Name="tbx_Contraindication" Grid.Column="4"  Margin="2" Grid.Row="3" Text="{Binding NewDrug.Contraindication,Mode=TwoWay}" Style="{StaticResource MainFrame.TextBox}"  AcceptsReturn="True"  Grid.RowSpan="2" VerticalScrollBarVisibility="Visible"
                HorizontalScrollBarVisibility="Auto" TextWrapping="Wrap" UseLayoutRounding="True" OpacityMask="{x:Null}"  />-->
                <ListBox HorizontalAlignment="Stretch" Margin="2"
                             ItemsSource="{Binding RefMedicalConditionType_Edit.TempObject,Mode=TwoWay}"
                             Grid.RowSpan="2"          
                             ScrollViewer.VerticalScrollBarVisibility="auto"                               
                            ScrollViewer.HorizontalScrollBarVisibility="Auto"
                             Grid.Row="1" Grid.Column="4" Name="listContraindication" 
                             VerticalAlignment="Stretch" TabIndex="30">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="{Binding MedConditionType,Mode=TwoWay}"
                                                 HorizontalAlignment="Stretch"
                                                 Style="{StaticResource TBlock.Content.00}" />
                            </StackPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>

                <Button x:Name="AddMed" Content="..."  Grid.Row="1" Grid.Column="5"  Width="30" Height="24"  Style="{StaticResource MainFrame.Button}" 
                    HorizontalAlignment="Left"  />
                    <Grid Grid.Column="1"  Margin="2" Grid.Row="13">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width="110"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <TextBox TabIndex="19" Name="tbx_Dosage"  Text="{Binding NewDrug.Dosage,Mode=TwoWay}" Style="{StaticResource MainFrame.TextBox}" />
                    <CheckBox TabIndex="22" Content="{Binding Z0049_G1_CanHoiChan, Source={StaticResource eHCMSResources}}" Grid.Column="1"   Margin="2,1"    IsThreeState="False" IsChecked="{Binding NewDrug.IsConsult,TargetNullValue=False,Mode=TwoWay}" Style="{StaticResource MainFrame.Checkbox}"/>
                </Grid>

                <Grid Grid.Column="1"  Margin="2" Grid.Row="14">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width="110"></ColumnDefinition>
                    </Grid.ColumnDefinitions>
                    <TextBox TabIndex="20" Name="tbx_Administration" Text="{Binding NewDrug.Administration,Mode=TwoWay,NotifyOnValidationError=True}" Style="{StaticResource MainFrame.TextBox}" />
                    <CheckBox TabIndex="23" Grid.Column="1" Content="{Binding K1128_G1_BaoQuanLanh, Source={StaticResource eHCMSResources}}"   Margin="2,1"  IsThreeState="False" IsChecked="{Binding NewDrug.KeepRefrigerated,TargetNullValue=False,Mode=TwoWay}" Style="{StaticResource MainFrame.Checkbox}"/>
                </Grid>
                    <TextBlock Grid.Column="0" Grid.Row="15" Style="{StaticResource MainFrame.TextBlock.01}"    Text="{Binding T1714_G1_HSNhan, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right"/>

                    <Grid Grid.Column="1"  Margin="2,2,3,2" Grid.Row="15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <TextBox   Grid.Column="0" Text="{Binding NewDrug.NumberOfEstimatedMonths_F,Mode=TwoWay,ValidatesOnExceptions=True, NotifyOnValidationError=True}" Style="{StaticResource MainFrame.TextBox}" TextAlignment="Right" TabIndex="24" />

                        <TextBlock Grid.Column="1" Style="{StaticResource MainFrame.TextBlock.01}"    Text="{Binding S0678_G1_SoNgRaToaToiDa, Source={StaticResource eHCMSResources}}" Margin="5,0,0,0" HorizontalAlignment="Right"/>
                        <TextBox   Margin="0" Grid.Column="2" Text="{Binding NewDrug.MaxDayPrescribed,Mode=TwoWay,ValidatesOnExceptions=True, NotifyOnValidationError=True}" Style="{StaticResource MainFrame.TextBox}" TextAlignment="Right" TabIndex="25" />
                    </Grid>
               
                <AxControls:KeyEnabledComboBox TabIndex="26"  Grid.Column="1"  Margin="2" Grid.Row="16" SelectedValueEx="{Binding NewDrug.RefGenDrugCatID_1,Mode=TwoWay,NotifyOnValidationError=True}" SelectedValuePath="RefGenDrugCatID_2" DisplayMemberPath="CategoryName"  ItemsSource="{Binding RefGenericDrugCategory_2s}"  Style="{StaticResource MainFrame.ComboBox}"></AxControls:KeyEnabledComboBox>

                <TextBox TabIndex="27" Name="tbx_Composition" Grid.Column="1"  Margin="2" Grid.Row="17" Text="{Binding NewDrug.Composition,Mode=TwoWay}" Style="{StaticResource MainFrame.TextBox}" />
                <TextBox TabIndex="28" Name="tbx_ActiveIngredient" Grid.Column="1"  Margin="2" Grid.Row="18"  Text="{Binding NewDrug.ActiveIngredient,Mode=TwoWay}" Style="{StaticResource MainFrame.TextBox}"  />

                <AxControls:DescriptionViewer  Grid.Column="1" Grid.Row="14" Description="{Binding Z0067_G1_NhapCachDung, Source={StaticResource eHCMSResources}}"  HorizontalAlignment="Right"  d:LayoutOverrides="Height" VerticalAlignment="Center" Grid.ColumnSpan="2" />
                <AxControls:DescriptionViewer  Grid.Column="1" Grid.Row="15" Description="{Binding Z0067_G1_NhapCachDung, Source={StaticResource eHCMSResources}}"  HorizontalAlignment="Right"  d:LayoutOverrides="Height" VerticalAlignment="Center" Grid.ColumnSpan="2" />

                <TextBox TabIndex="31" Name="tbx_Precaution" Grid.Column="4"  Margin="2" Grid.Row="3" AcceptsReturn="True"  Grid.RowSpan="2" VerticalScrollBarVisibility="Visible"
HorizontalScrollBarVisibility="Auto" Text="{Binding NewDrug.Precaution_Warn,Mode=TwoWay}" Style="{StaticResource MainFrame.TextBox}" Grid.ColumnSpan="2" />
                    <CheckBox   Content="{Binding K1825_G1_ChiHThiDoiVoiBNBHYT, Source={StaticResource eHCMSResources}}" Grid.Column="4" Grid.Row="5"  Margin="2,1"  IsThreeState="False"
                                IsChecked="{Binding NewDrug.IsWarningHI,Mode=TwoWay}" Style="{StaticResource MainFrame.Checkbox}" />
                    <TextBox TabIndex="32" Name="tbx_SideEffect" Grid.Column="4"  Margin="2" Grid.Row="6" AcceptsReturn="True"  Grid.RowSpan="2" VerticalScrollBarVisibility="Visible"
HorizontalScrollBarVisibility="Auto"  Text="{Binding NewDrug.SideEffects,Mode=TwoWay}" Style="{StaticResource MainFrame.TextBox}" Grid.ColumnSpan="2" />
                <TextBox TabIndex="33" Name="tbx_Interation" Grid.Column="4"  Margin="2" Grid.Row="8" AcceptsReturn="True"  Grid.RowSpan="2" VerticalScrollBarVisibility="Visible"
HorizontalScrollBarVisibility="Auto" Text="{Binding NewDrug.Interaction,Mode=TwoWay}" Style="{StaticResource MainFrame.TextBox}" Grid.ColumnSpan="2" />

                    <TextBlock Grid.Column="3" Grid.Row="12" Margin="10,0,0,0" Style="{StaticResource MainFrame.TextBlock.01}"  Text="{Binding T1219_G1_GHanSLgXuat, Source={StaticResource eHCMSResources}}" HorizontalAlignment="Right" VerticalAlignment="Center" />
                    <CheckBox Grid.Column="4" Grid.Row="12" Margin="5,0,0,0" Content="" Style="{StaticResource MainFrame.Checkbox}" Name="chkMonitorOutQty"
                                            IsChecked="{Binding NewDrug.MonitorOutQty,Mode=TwoWay}" IsThreeState="False" HorizontalAlignment="Left" VerticalAlignment="Center"
                                            cal:Message.Attach="[Event Loaded] = [Action chkMonitorOutQty_Loaded($source, $eventArgs)];
                                                                [Event Unchecked] = [Action chkMonitorOutQty_UnCheck($source, $eventArgs)]" />

                    <Border x:Name="GroupShow" Grid.Row="13"  Grid.Column="4" Grid.RowSpan="2" Grid.ColumnSpan="2" Margin="2" Background="White" Style="{StaticResource LightBlueBorderStyle}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                            </Grid.RowDefinitions>

                            <TextBlock Text="{Binding S0598_G1_SLgGioiHan, StringFormat='{}{0}: ', Source={StaticResource eHCMSResources}}" VerticalAlignment="Center" Margin="30,0,0,0"/>

                            <TextBox Grid.Column="1" Width="60"  VerticalAlignment="Center" Margin="2,5,5,5" TextAlignment="Right" Text="{Binding NewDrug.LimitedOutQty,Mode=TwoWay}" Style="{StaticResource MainFrame.TextBox}"
                                     cal:Message.Attach="[Event LostFocus] = [Action txtLimitedOutQty_LostFocus($source, $eventArgs)]" IsEnabled="{Binding NewDrug.MonitorOutQty,Mode=OneWay}" />

                            <TextBlock Grid.Column="2" Text="{Binding S0586_G1_SLgCBaoMucDo1, StringFormat='{}{0}: ', Source={StaticResource eHCMSResources}}" VerticalAlignment="Center" Margin="30,5,0,5"/>
                            <TextBox Grid.Column="3" Width="60"  VerticalAlignment="Bottom" Margin="2,5,5,5" TextAlignment="Right" Text="{Binding NewDrug.RemainWarningLevel1,Mode=TwoWay}" Style="{StaticResource MainFrame.TextBox}"
                                     cal:Message.Attach="[Event LostFocus] = [Action txtRemainWarningLevel1_LostFocus($source, $eventArgs)]" IsEnabled="{Binding NewDrug.MonitorOutQty,Mode=OneWay}" />

                            <TextBlock Grid.Column="2" Grid.Row="1" Text="{Binding S0587_G1_SLgCBaoMucDo2, StringFormat='{}{0}: ', Source={StaticResource eHCMSResources}}" VerticalAlignment="Center" Margin="30,5,0,5"/>
                            <TextBox Grid.Column="3" Grid.Row="1" Width="60"  VerticalAlignment="Center" Margin="2,5,5,5" TextAlignment="Right" Text="{Binding NewDrug.RemainWarningLevel2,Mode=TwoWay}" Style="{StaticResource MainFrame.TextBox}"
                                     cal:Message.Attach="[Event LostFocus] = [Action txtRemainWarningLevel2_LostFocus($source, $eventArgs)]" IsEnabled="{Binding NewDrug.MonitorOutQty,Mode=OneWay}" />


                        </Grid>
                    </Border>

                

                    <Border Style="{StaticResource LightBlueBorderStyle}" Margin="5,10,0,0" Grid.Row="15"  Grid.Column="3" Grid.ColumnSpan="4" Grid.RowSpan="7">
                    <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="132" />
                                <ColumnDefinition Width="412" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>
                        <Border Margin="10,-12,0,0"  Style="{StaticResource LightBlueBorderStyleNo}" HorizontalAlignment="Left">
                            <TextBlock Text="{Binding K3889_G1_DSNCC, Source={StaticResource eHCMSResources}}"  FontWeight="Bold" Foreground="#FF6F8AA9" Style="{StaticResource TextBlock.Heading.Group}"></TextBlock>
                        </Border>
                        <ScrollViewer Grid.Row="1"  HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Grid.ColumnSpan="2">
                            <AxControls:AxDataGridNy Grid.Row="1" x:Name="GridSuppliers" HeadersVisibility="All" AutoGenerateColumns="False" 
                            ItemsSource="{Binding NewDrug.SupplierGenericDrugs,Mode=TwoWay}"   Margin="2" MinHeight="100" MaxHeight="150"
                            ColumnHeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}" Style="{StaticResource MainFrame.DataGridStyle}" 
                              cal:Message.Attach="[Event CellEditEnding] = [Action GridSuppliers_CellEditEnding($source, $eventArgs)]
                                              ;[Event Loaded] = [Action GridSuppliers_Loaded($source, $eventArgs)]
                                                      ;[Event PreparingCellForEdit] = [Action GridSuppliers_PreparingCellForEdit($source, $eventArgs)]"
                              SelectedItem="{Binding CurrentSupplierGenericDrug,Mode=TwoWay}">
                                <DataGrid.Columns>
                                    <DataGridTemplateColumn CellTemplate="{StaticResource LinkTemplate}" IsReadOnly="True"></DataGridTemplateColumn>
                                    <DataGridTemplateColumn  MinWidth="150" MaxWidth="220" CellTemplate="{StaticResource SupplierNameTemplete}" CellEditingTemplate="{StaticResource AutoSupplierTemplete}" >
                                    <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader" BasedOn="{StaticResource MainFrame.DataGridColumnHeaderStyle}">
                                    <Setter Property="ContentTemplate">
                                    <Setter.Value>
                                    <DataTemplate>
                                    <TextBlock Text="{Binding T0874_G1_TenNCC, Source={StaticResource eHCMSResources}}" />
                                    </DataTemplate>
                                    </Setter.Value>
                                    </Setter>
                                    </Style>
                                    </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>
                                    <DataGridCheckBoxColumn x:Name="ColLast"
                                                 Binding="{Binding IsMain,Mode=TwoWay}"
                                                  >
                                    <DataGridCheckBoxColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader" BasedOn="{StaticResource MainFrame.DataGridColumnHeaderStyle}">
                                    <Setter Property="ContentTemplate">
                                    <Setter.Value>
                                    <DataTemplate>
                                    <TextBlock Text="{Binding K1714_G1_CcChinh, Source={StaticResource eHCMSResources}}" />
                                    </DataTemplate>
                                    </Setter.Value>
                                    </Setter>
                                    </Style>
                                    </DataGridCheckBoxColumn.HeaderStyle>
                                    </DataGridCheckBoxColumn>
                                    <DataGridTemplateColumn  CellEditingTemplate="{StaticResource UnitPriceCellEditTemplate}" CellTemplate="{StaticResource UnitPriceCellTemplate}" >
                                    <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader" BasedOn="{StaticResource MainFrame.DataGridColumnHeaderStyle}">
                                    <Setter Property="ContentTemplate">
                                    <Setter.Value>
                                    <DataTemplate>
                                    <TextBlock Text="{Binding T1013_G1_GiaDVi, Source={StaticResource eHCMSResources}}" />
                                    </DataTemplate>
                                    </Setter.Value>
                                    </Setter>
                                    </Style>
                                    </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>
                                    <DataGridTemplateColumn  CellEditingTemplate="{StaticResource PackagePriceCellEditTemplate}" CellTemplate="{StaticResource PackagePriceCellTemplate}" >
                                    <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader" BasedOn="{StaticResource MainFrame.DataGridColumnHeaderStyle}">
                                    <Setter Property="ContentTemplate">
                                    <Setter.Value>
                                    <DataTemplate>
                                    <TextBlock Text="{Binding T1023_G1_GiaDGoi, Source={StaticResource eHCMSResources}}" />
                                    </DataTemplate>
                                    </Setter.Value>
                                    </Setter>
                                    </Style>
                                    </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>
                                    <DataGridTemplateColumn  CellEditingTemplate="{StaticResource VATCellEditTemplate}" CellTemplate="{StaticResource VATCellTemplate}" >
                                    <DataGridTemplateColumn.HeaderStyle>
                                                <Style TargetType="DataGridColumnHeader" BasedOn="{StaticResource MainFrame.DataGridColumnHeaderStyle}">
                                    <Setter Property="ContentTemplate">
                                    <Setter.Value>
                                    <DataTemplate>
                                    <TextBlock Text="{Binding G2183_G1_VATx, Source={StaticResource eHCMSResources}}" />
                                    </DataTemplate>
                                    </Setter.Value>
                                    </Setter>
                                    </Style>
                                    </DataGridTemplateColumn.HeaderStyle>
                                    </DataGridTemplateColumn>
                                </DataGrid.Columns>
                            </AxControls:AxDataGridNy>
                        </ScrollViewer>

                    </Grid>
                </Border>
                    <AxControls:ValidationSummary Grid.Row="23" MaxHeight="70" x:Name="ValidationSummary1" Grid.ColumnSpan="7" Style="{StaticResource MainFrame.ValidationSummary}"  cal:Message.Attach="[Event Loaded]=[Action ValidationSummary1_Loaded($source,$eventArgs)]"></AxControls:ValidationSummary>
                </AxControls:AxGrid>
        </Grid>
        </ScrollViewer>
    </toolkit:BusyIndicator>
</UserControl>

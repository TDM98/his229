<customcontrols:AxUserControl x:Class="aEMR.Common.Views.PatientDetailsAndHIView"
                              xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                              xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                              xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                              xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                              mc:Ignorable="d"
                              xmlns:commonconverters="clr-namespace:aEMR.Common.Converters;assembly=aEMR.Common"
                              xmlns:customcontrols="clr-namespace:aEMR.Controls;assembly=aEMR.Controls"
                              xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
                              xmlns:cal="http://www.caliburnproject.org" d:DesignWidth="950"
                              xmlns:Resources="clr-namespace:eHCMSLanguage;assembly=aEMRLanguage">
    <UserControl.Resources>
        <Resources:eHCMSResources x:Key="eHCMSResources" />
        <commonconverters:EnumConverter x:Key="EnumConverterObj" />
        <BooleanToVisibilityConverter x:Key="BooleanToVisibility" />
    </UserControl.Resources>
    <xctk:BusyIndicator BusyContent="{Binding DlgBusyContent}"
                        IsBusy="{Binding DlgIsBusyFlag}">
        <Grid x:Name="LayoutRoot">
            <Grid.RowDefinitions>
                <RowDefinition Height="24" />
                <RowDefinition Height="*" />
                <RowDefinition Height="24" />
                <RowDefinition Height="24" />
            </Grid.RowDefinitions>
            <TextBlock x:Name="TitleForm"
                       Text="{Binding CurrentAction}" Grid.ColumnSpan="2"
                       HorizontalAlignment="Center" VerticalAlignment="Center"
                       Style="{StaticResource MainFrame.TextBlock.Header.01}" />
            <StackPanel x:Name="panelContent" Grid.Row="1" Background="White">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition Width="20" />
                        <ColumnDefinition Width="auto" />
                    </Grid.ColumnDefinitions>
                    <!-- Grid Patient Details -->
                    <Grid Grid.ColumnSpan="2">
                        <ScrollViewer HorizontalScrollBarVisibility="Auto"
                                      VerticalScrollBarVisibility="Auto">
                            <Grid x:Name="gridGeneralInfo">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition />
                                    <ColumnDefinition Width="20" />
                                </Grid.ColumnDefinitions>
                                <StackPanel Width="440">
                                    <Border x:Name="groupGeneralInfo"
                                            Style="{StaticResource LightBlueBorderStyleNew}">
                                        <StackPanel>
                                            <TextBlock TextWrapping="Wrap"
                                                       Text="{Binding G0574_G1_TTinChung, Source={StaticResource eHCMSResources}}"
                                                       Foreground="#FF5E5E5E"
                                                       Style="{StaticResource TBlock.Heading.02}" />
                                            <Grid Width="430">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="24" />
                                                    <RowDefinition Height="24" />
                                                    <RowDefinition Height="24" />
                                                    <RowDefinition Height="24" />
                                                    <RowDefinition Height="24" />
                                                    <RowDefinition Height="24" />
                                                    <RowDefinition Height="24" />
                                                    <RowDefinition Height="24" />
                                                    <RowDefinition Height="24" />
                                                    <RowDefinition Height="24" />
                                                    <RowDefinition Height="24" />
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="10" />
                                                    <ColumnDefinition Width="10" />
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="10" />
                                                </Grid.ColumnDefinitions>
                                                <TextBlock VerticalAlignment="Center"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           Text="{Binding N0111_G1_NgTao, Source={StaticResource eHCMSResources}}" />
                                                <customcontrols:AxDateTextBox x:Name="txtDateBecamePatient"
                                                                              IsEnabled="{Binding Path=FormState, ConverterParameter=NEW|EDIT, Mode=OneWay, Converter={StaticResource EnumConverterObj}}"
                                                                              Date="{Binding CurrentPatient.DateBecamePatient, Mode=OneWay}"
                                                                              Grid.Column="1" Height="24" VerticalAlignment="Center"
                                                                              cal:Message.Attach="[Event TextChanged] = [Action txtDateBecamePatient_TextChanged($source,$eventArgs)]" />
                                                <TextBlock VerticalAlignment="Center"
                                                           Grid.Row="0" Grid.Column="4"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           Text="{Binding T3220_G1_MaBN, Source={StaticResource eHCMSResources}}" />
                                                <TextBox Text="{Binding CurrentPatient.PatientCode, Mode=TwoWay}"
                                                         VerticalContentAlignment="Center"
                                                         Grid.Column="5"
                                                         Style="{StaticResource MainFrame.TextBox}"
                                                         IsReadOnly="True" />
                                                <TextBlock TextWrapping="Wrap"
                                                           Text="{Binding T1567_G1_HoTen, Source={StaticResource eHCMSResources}}"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           Grid.Row="1"
                                                           VerticalAlignment="Center" />
                                                <TextBox x:Name="txtFullName"
                                                         VerticalContentAlignment="Center"
                                                         Text="{Binding CurrentPatient.FullName, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}"
                                                         Style="{StaticResource MainFrame.TextBox}"
                                                         Grid.Row="1" Grid.ColumnSpan="5" Grid.Column="1"
                                                         IsReadOnly="{Binding Path=FormState, ConverterParameter=NONE|READONLY, Mode=OneWay, Converter={StaticResource EnumConverterObj}}"
                                                         Height="22" VerticalAlignment="Center"
                                                         TabIndex="1" TextChanged="txtFullName_TextChanged" />
                                                <TextBlock Text="{Binding Z0045_G1_DauSao, Source={StaticResource eHCMSResources}}"
                                                           VerticalAlignment="Center"
                                                           Grid.Column="6" Grid.Row="1"
                                                           Style="{StaticResource TBlock.Heading.03.RedAsterisk}" />
                                                <TextBlock Text="{Binding N0036_G1_NSinh, Source={StaticResource eHCMSResources}}"
                                                           Grid.Row="2"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           VerticalAlignment="Center" />
                                                <StackPanel HorizontalAlignment="Stretch" Grid.Row="2"
                                                            Orientation="Horizontal"
                                                            Grid.Column="1" Grid.ColumnSpan="5">
                                                    <TextBox x:Name="txtYOB" Width="40"
                                                             VerticalContentAlignment="Center"
                                                             Text="{Binding CurrentPatient.YOB, Mode=OneWay}"
                                                             IsReadOnly="{Binding Path=FormState, ConverterParameter=NONE|READONLY, Mode=OneWay, Converter={StaticResource EnumConverterObj}}"
                                                             Style="{StaticResource MainFrame.TextBox}"
                                                             cal:Message.Attach="[Event LostFocus] = [Action txtYOB_LostFocus($source,$eventArgs)];[Event KeyUp] = [Action txtYOB_KeyUp($source,$eventArgs)]"
                                                             Height="22" VerticalAlignment="Center" TabIndex="2" />
                                                    <TextBlock TextWrapping="Wrap"
                                                               Text="{Binding G2057_G1_Tuoi, Source={StaticResource eHCMSResources}}"
                                                               Margin="5,0,5,0"
                                                               Style="{StaticResource TextBlock.Heading.04}"
                                                               VerticalAlignment="Center" />
                                                    <TextBox x:Name="txtAge" Width="30"
                                                             VerticalContentAlignment="Center"
                                                             Text="{Binding CurrentPatient.Age, Mode=OneWay}"
                                                             IsReadOnly="{Binding Path=FormState, ConverterParameter=NONE|READONLY, Mode=OneWay, Converter={StaticResource EnumConverterObj}}"
                                                             Style="{StaticResource MainFrame.TextBox}"
                                                             cal:Message.Attach="[Event LostFocus] = [Action txtAge_LostFocus($source,$eventArgs)];[Event KeyUp] = [Action txtAge_KeyUp($source,$eventArgs)]"
                                                             Height="22" VerticalAlignment="Center"
                                                             TabIndex="3" />
                                                    <TextBlock Text="{Binding G0039_G1_Th, Source={StaticResource eHCMSResources}}"
                                                               Style="{StaticResource TextBlock.Heading.04}"
                                                               Margin="5,0,5,0" VerticalAlignment="Center" />
                                                    <TextBox Text="{Binding CurrentPatient.MonthsOld, Mode=OneWay}"
                                                             VerticalContentAlignment="Center"
                                                             Width="30" TabIndex="4" />
                                                    <TextBlock Margin="2,0,1,0" TextWrapping="Wrap"
                                                               Text="{Binding N0107_G1_NgSinh, Source={StaticResource eHCMSResources}}"
                                                               Style="{StaticResource TextBlock.Heading.04}"
                                                               VerticalAlignment="Center" />
                                                    <customcontrols:AxDateTextBox x:Name="txtDateOfBirth" Width="80"
                                                                                  IsReadOnly="{Binding Path=FormState, ConverterParameter=NONE|READONLY, Mode=OneWay, Converter={StaticResource EnumConverterObj}}"
                                                                                  Date="{Binding CurrentPatient.DOB, Mode=OneWay, ConverterCulture=vi-VN}"
                                                                                  Style="{StaticResource MainFrame.TextBox}"
                                                                                  TabIndex="5" Height="24" VerticalAlignment="Center"
                                                                                  cal:Message.Attach="[Event DateChanged] = [Action txtDateOfBirth_DateChanged($source,$eventArgs)]" />
                                                </StackPanel>
                                                <TextBlock Text="{Binding Z0045_G1_DauSao, Source={StaticResource eHCMSResources}}"
                                                           VerticalAlignment="Center"
                                                           Grid.Column="6" Grid.Row="2"
                                                           Style="{StaticResource TBlock.Heading.03.RedAsterisk}" />
                                                <TextBlock TextWrapping="Wrap"
                                                           Text="{Binding T1223_G1_GTinh, Source={StaticResource eHCMSResources}}"
                                                           Grid.Row="3" Grid.Column="0"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           VerticalAlignment="Center" />
                                                <customcontrols:KeyEnabledComboBox x:Name="cboGender"
                                                                                   DisplayMemberPath="Name"
                                                                                   SelectedItemEx="{Binding CurrentPatient.GenderObj, Mode=TwoWay, NotifyOnValidationError=True}"
                                                                                   IsEnabled="{Binding FormState, ConverterParameter=NEW|EDIT, Mode=OneWay, Converter={StaticResource EnumConverterObj}}"
                                                                                   SelectedValuePath="ID"
                                                                                   ItemsSource="{Binding Genders, Mode=OneWay}"
                                                                                   Style="{StaticResource MainFrame.ComboBox}"
                                                                                   Grid.Row="3" Grid.Column="1"
                                                                                   Height="22" VerticalAlignment="Center"
                                                                                   TabIndex="6" />
                                                <TextBlock Text="{Binding Z0045_G1_DauSao, Source={StaticResource eHCMSResources}}"
                                                           VerticalAlignment="Center"
                                                           Grid.Row="3" Grid.Column="2"
                                                           Style="{StaticResource TBlock.Heading.03.RedAsterisk}" />
                                                <TextBlock TextWrapping="Wrap"
                                                           Foreground="Brown"
                                                           Text="{Binding Q0485_G1_QuocTich, Source={StaticResource eHCMSResources}}"
                                                           Grid.Row="3" Grid.Column="4"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           VerticalAlignment="Center" />
                                                <customcontrols:AxComboBox x:Name="cboNationality"
                                                                           DisplayMemberPath="NationalityName"
                                                                           SelectedValuePath="Nationality"
                                                                           ItemsSource="{Binding Nationalities}"
                                                                           SelectedValueEx="{Binding CurrentPatient.NationalityID, Mode=TwoWay}"
                                                                           IsEnabled="{Binding Path=FormState, ConverterParameter=NEW|EDIT, Mode=OneWay, Converter={StaticResource EnumConverterObj}}"
                                                                           Style="{StaticResource MainFrame.ComboBox}"
                                                                           Grid.Row="3" Grid.Column="5" Height="22"
                                                                           VerticalAlignment="Center"
                                                                           TabIndex="7" />
                                                <TextBlock Foreground="Blue"
                                                           TextWrapping="Wrap"
                                                           Text="{Binding T3390_G1_MaHSo, Source={StaticResource eHCMSResources}}"
                                                           Grid.Row="4" Grid.Column="0"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           VerticalAlignment="Center" />
                                                <TextBox x:Name="txtPatientCode"
                                                         VerticalContentAlignment="Center"
                                                         Text="{Binding CurrentPatient.FileCodeNumber, Mode=OneWay}"
                                                         IsEnabled="False"
                                                         Style="{StaticResource MainFrame.TextBox}"
                                                         Grid.Row="4" Grid.Column="1"
                                                         Grid.ColumnSpan="1"
                                                         Height="22" VerticalAlignment="Center"
                                                         TabIndex="8" />
                                                <TextBlock Margin="0,0,3,0"
                                                           TextWrapping="Wrap"
                                                           Text="{Binding K2840_G1_DanToc, Source={StaticResource eHCMSResources}}"
                                                           Grid.Row="4" Grid.Column="4"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           VerticalAlignment="Center" />
                                                <customcontrols:KeyEnabledComboBox x:Name="cboEthnic"
                                                                                   SelectedValueEx="{Binding CurrentPatient.V_Ethnic, Mode=TwoWay}"
                                                                                   DisplayMemberPath="ObjectValue"
                                                                                   SelectedValuePath="LookupID"
                                                                                   ItemsSource="{Binding EthnicsList}"
                                                                                   IsEnabled="{Binding FormState, ConverterParameter=NEW|EDIT, Converter={StaticResource EnumConverterObj}, Mode=OneWay}"
                                                                                   Style="{StaticResource MainFrame.ComboBox}"
                                                                                   Grid.Row="4" Grid.Column="5"
                                                                                   Height="22" VerticalAlignment="Center"
                                                                                   TabIndex="9" />
                                                <TextBlock Text="{Binding Z0045_G1_DauSao, Source={StaticResource eHCMSResources}}"
                                                           VerticalAlignment="Center"
                                                           Grid.Column="6"
                                                           Style="{StaticResource TBlock.Heading.03.RedAsterisk}" />
                                                <TextBlock TextWrapping="Wrap"
                                                           Text="{Binding K3354_G1_DChi, Source={StaticResource eHCMSResources}}"
                                                           Grid.Row="5" Grid.Column="0"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           VerticalAlignment="Center" />
                                                <TextBox x:Name="txtStreetAddress"
                                                         Text="{Binding CurrentPatient.PatientStreetAddress, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}"
                                                         IsReadOnly="{Binding Path=FormState, ConverterParameter=NONE|READONLY, Mode=OneWay, Converter={StaticResource EnumConverterObj}}"
                                                         Style="{StaticResource MainFrame.TextBox}"
                                                         Grid.Row="5" Grid.Column="1" Grid.ColumnSpan="5"
                                                         Height="22" VerticalAlignment="Center"
                                                         VerticalContentAlignment="Center"
                                                         TabIndex="10" />
                                                <TextBlock Text="{Binding Z0045_G1_DauSao, Source={StaticResource eHCMSResources}}"
                                                           VerticalAlignment="Center"
                                                           Grid.Row="5" Grid.Column="6"
                                                           Style="{StaticResource TBlock.Heading.03.RedAsterisk}" />
                                                <TextBlock TextWrapping="Wrap"
                                                           Text="{Binding G1637_G1_TpTinh, Source={StaticResource eHCMSResources}}"
                                                           Grid.Row="6" Grid.Column="0"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           VerticalAlignment="Center" />
                                                <customcontrols:AxAutoComplete x:Name="AcbCity"
                                                                               Text="{Binding CurrentPatient.CitiesProvince.CityProvinceName, Mode=TwoWay}"
                                                                               MinimumPopulateDelay="300"
                                                                               IsEnabled="{Binding IsEnabledAutoComplete}"
                                                                               ValueMemberBinding="{Binding Path = CityProvinceName, Mode=TwoWay}"
                                                                               FontWeight="Bold" IsDropDownOpen="True"
                                                                               Height="22"
                                                                               TextBoxStyle="{StaticResource MainFrame.TextBox}"
                                                                               MinimumPrefixLength="0" FilterMode="None"
                                                                               cal:Message.Attach="[Event Loaded]=[Action AcbCity_Loaded($source, $eventArgs)];
                                                                               [Event Populating] = [Action AcbCity_Populating($source, $eventArgs)];
                                                                               [Event DropDownClosed] = [Action AcbCity_DropDownClosed($source, $eventArgs)]"
                                                                               Grid.Row="6" Grid.Column="1"
                                                                               ItemsSource="{Binding allProvince, Mode=TwoWay}"
                                                                               Style="{StaticResource AxAutoCompleteMyStyle}">
                                                    <customcontrols:AxAutoComplete.ItemTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding Path = CityProvinceName}" />
                                                        </DataTemplate>
                                                    </customcontrols:AxAutoComplete.ItemTemplate>
                                                </customcontrols:AxAutoComplete>
                                                <TextBlock Text="{Binding Z0045_G1_DauSao, Source={StaticResource eHCMSResources}}"
                                                           VerticalAlignment="Center"
                                                           Grid.Row="6" Grid.Column="2"
                                                           Style="{StaticResource TBlock.Heading.03.RedAsterisk}" />
                                                <TextBlock TextWrapping="Wrap"
                                                           Text="{Binding Q0446_G1_Quan, Source={StaticResource eHCMSResources}}"
                                                           Grid.Row="6" Grid.Column="4"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           VerticalAlignment="Center" />
                                                <customcontrols:AxComboBox x:Name="cboSuburb"
                                                                           DisplayMemberPath="SuburbName"
                                                                           SelectedValuePath="SuburbNameID"
                                                                           IsEnabled="{Binding Path=FormState, ConverterParameter=NEW|EDIT, Mode=OneWay, Converter={StaticResource EnumConverterObj}}"
                                                                           Style="{StaticResource MainFrame.ComboBox}"
                                                                           Grid.Row="6" Grid.Column="5"
                                                                           Height="22" VerticalAlignment="Center"
                                                                           TabIndex="12"
                                                                           SelectedValueEx="{Binding CurrentPatient.SuburbNameID, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}"
                                                                           ItemsSource="{Binding SuburbNames, Mode=OneWay}"
                                                                           cal:Message.Attach="[Event Loaded]=[Action cboSuburb_Loaded($source, $eventArgs)];
                                                                           [Event GotFocus]=[Action cboSuburb_GotFocus($source, $eventArgs)]" />
                                                <TextBlock Text="{Binding Z0045_G1_DauSao, Source={StaticResource eHCMSResources}}"
                                                           VerticalAlignment="Center"
                                                           Grid.Column="6" Grid.Row="6"
                                                           Style="{StaticResource TBlock.Heading.03.RedAsterisk}" />
                                                <TextBlock TextWrapping="Wrap"
                                                           Text="{Binding Q0484_G1_QuocGia, Source={StaticResource eHCMSResources}}"
                                                           Grid.Row="7" Grid.Column="0"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           VerticalAlignment="Center" />
                                                <customcontrols:AxComboBox x:Name="cboCountry"
                                                                           DisplayMemberPath="CountryName"
                                                                           SelectedValuePath="CountryID"
                                                                           ItemsSource="{Binding Countries}"
                                                                           SelectedValueEx="{Binding CurrentPatient.CountryID, Mode=TwoWay}"
                                                                           IsEnabled="{Binding Path=FormState, ConverterParameter=NEW|EDIT, Mode=OneWay, Converter={StaticResource EnumConverterObj}}"
                                                                           Style="{StaticResource MainFrame.ComboBox}"
                                                                           Grid.Row="7" Grid.Column="1"
                                                                           Height="22" VerticalAlignment="Center"
                                                                           TabIndex="13" />
                                                <TextBlock TextWrapping="Wrap"
                                                           Text="{Binding K0832_G1_3Khac, Source={StaticResource eHCMSResources}}"
                                                           Grid.Row="7" Grid.Column="4"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           VerticalAlignment="Center" />
                                                <TextBox x:Name="txtOther"
                                                         Text="{Binding CurrentPatient.PatientNotes, Mode=TwoWay}"
                                                         IsReadOnly="{Binding Path=FormState, ConverterParameter=NONE|READONLY, Mode=OneWay, Converter={StaticResource EnumConverterObj}}"
                                                         Style="{StaticResource MainFrame.TextBox}"
                                                         Grid.Row="7" Grid.Column="5"
                                                         Height="22" VerticalAlignment="Center"
                                                         VerticalContentAlignment="Center"
                                                         TabIndex="14" />
                                                <TextBlock TextWrapping="Wrap"
                                                           Text="{Binding K3914_G1_DTDiDong, Source={StaticResource eHCMSResources}}"
                                                           Grid.Row="8" Grid.Column="0"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           VerticalAlignment="Center" />
                                                <TextBox x:Name="txtCellPhone"
                                                         Text="{Binding CurrentPatient.PatientCellPhoneNumber, Mode=TwoWay}"
                                                         IsReadOnly="{Binding FormState, ConverterParameter=NONE|READONLY, Converter={StaticResource EnumConverterObj}, Mode=OneWay}"
                                                         Style="{StaticResource MainFrame.TextBox}"
                                                         Grid.Row="8" Grid.Column="1"
                                                         Height="22" VerticalAlignment="Center"
                                                         VerticalContentAlignment="Center"
                                                         TabIndex="15" />
                                                <TextBlock Text="{Binding Z0045_G1_DauSao, Source={StaticResource eHCMSResources}}"
                                                           VerticalAlignment="Center"
                                                           Grid.Row="8" Grid.Column="2"
                                                           Style="{StaticResource TBlock.Heading.03.GreenAsterisk}" />
                                                <TextBlock TextWrapping="Wrap"
                                                           Text="{Binding K3909_G1_DT, Source={StaticResource eHCMSResources}}"
                                                           Grid.Row="8" Grid.Column="4"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           VerticalAlignment="Center" />
                                                <TextBox x:Name="txtPhoneNo"
                                                         Text="{Binding CurrentPatient.PatientPhoneNumber, Mode=TwoWay}"
                                                         IsReadOnly="{Binding FormState, ConverterParameter=NONE|READONLY, Converter={StaticResource EnumConverterObj}, Mode=OneWay}"
                                                         Style="{StaticResource MainFrame.TextBox}"
                                                         Grid.Row="8" Grid.Column="5"
                                                         Height="22" VerticalAlignment="Center"
                                                         VerticalContentAlignment="Center"
                                                         TabIndex="16" />
                                                <TextBlock Text="{Binding Z0045_G1_DauSao, Source={StaticResource eHCMSResources}}"
                                                           VerticalAlignment="Center"
                                                           Grid.Row="8" Grid.Column="6"
                                                           Style="{StaticResource TBlock.Heading.03.GreenAsterisk}" />
                                                <TextBlock TextWrapping="Wrap"
                                                           Text="{Binding N0159_G1_NguoiLienHe, Source={StaticResource eHCMSResources}}"
                                                           Grid.Row="9" Grid.Column="0"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           VerticalAlignment="Center" />
                                                <TextBox x:Name="txtContactFullName"
                                                         Text="{Binding CurrentPatient.FContactFullName, Mode=TwoWay}"
                                                         IsReadOnly="{Binding FormState, ConverterParameter=NONE|READONLY, Converter={StaticResource EnumConverterObj}, Mode=OneWay}"
                                                         Style="{StaticResource MainFrame.TextBox}"
                                                         Grid.Row="9" Grid.Column="1" Grid.ColumnSpan="5"
                                                         Height="22" VerticalAlignment="Center"
                                                         VerticalContentAlignment="Center"
                                                         TabIndex="17" />
                                                <TextBlock TextWrapping="Wrap"
                                                           Text="{Binding T1012_G1_GDinh, Source={StaticResource eHCMSResources}}"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           Grid.Row="10" Grid.Column="0"
                                                           VerticalAlignment="Center" />
                                                <customcontrols:KeyEnabledComboBox x:Name="cboContactRelationship"
                                                                                   SelectedValueEx="{Binding CurrentPatient.V_FamilyRelationship, Mode=TwoWay}"
                                                                                   DisplayMemberPath="ObjectValue"
                                                                                   SelectedValuePath="LookupID"
                                                                                   ItemsSource="{Binding FamilyRelationshipList}"
                                                                                   Grid.Row="10" Grid.Column="1"
                                                                                   IsEnabled="{Binding FormState, ConverterParameter=NEW|EDIT, Converter={StaticResource EnumConverterObj}, Mode=OneWay}"
                                                                                   Style="{StaticResource MainFrame.ComboBox}"
                                                                                   VerticalAlignment="Center" Height="22"
                                                                                   TabIndex="18" />
                                                <TextBlock TextWrapping="Wrap"
                                                           Text="{Binding K3914_G1_DTDiDong, Source={StaticResource eHCMSResources}}"
                                                           Grid.Row="10" Grid.Column="4"
                                                           Style="{StaticResource TextBlock.Heading.04}"
                                                           VerticalAlignment="Center" />
                                                <TextBox x:Name="txtContactCellPhone"
                                                         Text="{Binding CurrentPatient.FContactCellPhone, Mode=TwoWay}"
                                                         IsReadOnly="{Binding FormState, ConverterParameter=NONE|READONLY, Converter={StaticResource EnumConverterObj}, Mode=OneWay}"
                                                         Style="{StaticResource MainFrame.TextBox}"
                                                         Grid.Row="10" Grid.Column="5"
                                                         Height="22" VerticalAlignment="Center"
                                                         VerticalContentAlignment="Center"
                                                         TabIndex="19" />
                                            </Grid>
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Bottom">
                                    <CheckBox Content="{Binding K1272_G1_BNCapCuuTK, Source={StaticResource eHCMSResources}}"
                                              Margin="2,2,2,0" FontSize="12"
                                              FontWeight="ExtraBlack"
                                              VerticalContentAlignment="Center"
                                              Foreground="Blue"
                                              IsChecked="{Binding EmergInPtReExamination, Mode=TwoWay}"
                                              BorderThickness="2"
                                              Visibility="{Binding ShowEmergInPtReExamination, Converter={StaticResource BooleanToVisibility}, Mode=OneWay}" />
                                    <CheckBox Content="BHYT 5 nam va cung chi tra 6 thang"
                                              Margin="2,2,2,0" FontSize="12"
                                              FontWeight="ExtraBlack"
                                              VerticalContentAlignment="Center"
                                              Foreground="Blue"
                                              IsChecked="{Binding BHYT5YearsCCT6Months, Mode=TwoWay}"
                                              BorderThickness="2"
                                              Visibility="{Binding ShowBHYT5YearsCCT6Months, Converter={StaticResource BooleanToVisibility}, Mode=OneWay}" />
                                    <CheckBox Content="{Binding G1771_G1_TreEmTpDuoi6Tuoi, Source={StaticResource eHCMSResources}}"
                                              Margin="2,2,2,0" FontSize="12"
                                              FontWeight="ExtraBlack"
                                              VerticalContentAlignment="Center"
                                              Foreground="Blue"
                                              IsChecked="{Binding ChildInCityUnder6Ages, Mode=TwoWay}"
                                              BorderThickness="2"
                                              Visibility="{Binding ShowChildInCityUnder6Ages, Converter={StaticResource BooleanToVisibility}, Mode=OneWay}" />
                                </StackPanel>
                            </Grid>
                        </ScrollViewer>
                    </Grid>
                    <!-- Grid HI and PaperReferal-->
                    <Expander Grid.Column="2" x:Name="LeftExpander" Width="Auto"
                              ExpandDirection="Left" MinWidth="10"
                              IsExpanded="{Binding ExpanderVisible}"
                              cal:Message.Attach="[Event Loaded]=[Action Expander_Loaded($source, $eventArgs)]"
                              Background="White" RenderTransformOrigin="0,0"
                              DockPanel.Dock="Left" >
                        <Grid Grid.Column="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <!-- Grid HI-->
                            <Border x:Name="groupHIInfo"
                                    Style="{StaticResource LightBlueBorderStyleNew}">
                                <Grid>
                                    <StackPanel>
                                        <TextBlock TextWrapping="Wrap"
                                                   Text="{Binding G0151_G1_TheBH, Source={StaticResource eHCMSResources}}"
                                                   Foreground="#FF5E5E5E"
                                                   Style="{StaticResource TBlock.Heading.02}" />
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="24" />
                                                <RowDefinition Height="24" />
                                                <RowDefinition Height="24" />
                                                <RowDefinition Height="24" />
                                                <RowDefinition Height="24" />
                                                <RowDefinition Height="24" />
                                            </Grid.RowDefinitions>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="35" />
                                                <ColumnDefinition Width="195" />
                                                <ColumnDefinition Width="35" />
                                                <ColumnDefinition Width="90" />
                                                <ColumnDefinition Width="40" />
                                                <ColumnDefinition Width="90" />
                                            </Grid.ColumnDefinitions>
                                            <TextBlock Text="{Binding T3185_G1_Ma, Source={StaticResource eHCMSResources}}"
                                                       VerticalAlignment="Center" HorizontalAlignment="Left"
                                                       Style="{StaticResource TBlock.Heading.02.RightAlignment}" />
                                            <customcontrols:AxTextBoxHICard x:Name="txtHICardNo"
                                                                            HorizontalAlignment="Left"
                                                                            TextLength="{Binding TextLength, Mode=TwoWay}"
                                                                            Text="{Binding EditingHiItem.HICardNo, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}"
                                                                            cal:Message.Attach="[Event LostFocus]=[Action txtHICardNo_LostFocus($source,$eventArgs)]"
                                                                            VerticalAlignment="Center"
                                                                            Grid.Column="1" Width="195" Height="22" />
                                            <TextBlock TextWrapping="Wrap"
                                                       Text="{Binding T3406_G1_MaKV, Source={StaticResource eHCMSResources}}"
                                                       Grid.Column="2"
                                                       Style="{StaticResource TextBlock.Heading.04}"
                                                       VerticalAlignment="Center"
                                                       HorizontalAlignment="Center" />
                                            <customcontrols:AxComboBox x:Name="cboKV"
                                                                       IsEnabled ="True"
                                                                       Style="{StaticResource MainFrame.ComboBox}"
                                                                       Grid.Column="3" Grid.ColumnSpan="2"
                                                                       Width="90" Height="22"
                                                                       VerticalAlignment="Center"
                                                                       HorizontalAlignment="Left"
                                                                       SelectedValueEx="{Binding SelectedKV, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True}"
                                                                       ItemsSource="{Binding AllKVCode, Mode=OneWay}" />
                                            <TextBlock Text="{Binding T2009_G1_KCB, Source={StaticResource eHCMSResources}}"
                                                       Grid.Row="1"
                                                       Style="{StaticResource TBlock.Content.02.LeftAlignment}" />
                                            <ContentControl Name="HospitalAutoCompleteContent"
                                                            Grid.Row="1" Grid.Column="1"
                                                            Grid.ColumnSpan="3"
                                                            HorizontalContentAlignment="Stretch"
                                                            VerticalContentAlignment="Center"
                                                            TabIndex="22" Height="22"
                                                            MaxWidth="450" Margin="0,2,0,2" />
                                            <TextBlock Text="{Binding T2010_G1_KCBBD, Source={StaticResource eHCMSResources}}"
                                                       Grid.Row="1" Grid.Column="4"
                                                       VerticalAlignment="Center"
                                                       HorizontalAlignment="Center"
                                                       Style="{StaticResource TBlock.Content.02.LeftAlignment}" />
                                            <TextBox HorizontalAlignment="Right" MinWidth="75"
                                                     x:Name="txtRegistrationCode"
                                                     Text="{Binding EditingHiItem.RegistrationCode, Mode=OneWay}"
                                                     VerticalAlignment="Center" Height="22"
                                                     VerticalContentAlignment="Center"
                                                     cal:Message.Attach="[Event LostFocus]=[Action txtRegistrationCode_LostFocus($source,$eventArgs)]"
                                                     Grid.Row="1" Grid.Column="5" />
                                            <TextBlock Style="{StaticResource TBlock.Content.02.LeftAlignment}"
                                                       Grid.Row="2"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Text="{Binding T0755_G1_TTh, Source={StaticResource eHCMSResources}}" />
                                            <TextBox HorizontalAlignment="Stretch" VerticalAlignment="Center"
                                                     VerticalContentAlignment="Center"
                                                     x:Name="txtKCBBDCountry"
                                                     Text="{Binding EditingHiItem.CityProvinceName, Mode=TwoWay}"
                                                     IsEnabled="False"
                                                     TabIndex="23" Height="22"
                                                     Grid.Row="2" Grid.Column="1"
                                                     MinWidth="195" />
                                            <TextBlock Text="{Binding G1883_G1_Tu, Source={StaticResource eHCMSResources}}"
                                                       Grid.Row="2" Grid.Column="2"
                                                       VerticalAlignment="Center"
                                                       HorizontalAlignment="Center"
                                                       Style="{StaticResource TBlock.Heading.02.RightAlignment}" />
                                            <customcontrols:AxDateTextBox x:Name="txtValidDateFrom"
                                                                          Text="{Binding EditingHiItem.ValidDateFrom, Mode=TwoWay, NotifyOnValidationError=True, Converter={StaticResource ShortDateConverter}}"
                                                                          HorizontalAlignment="Stretch" Width="90"
                                                                          VerticalAlignment="Center" Height="22"
                                                                          TabIndex="24"
                                                                          Grid.Row="2" Grid.Column="3" />
                                            <TextBlock Text="{Binding K3184_G1_Den, Source={StaticResource eHCMSResources}}"
                                                       VerticalAlignment="Center"
                                                       HorizontalAlignment="Center"
                                                       Grid.Row="2" Grid.Column="4"
                                                       Style="{StaticResource TBlock.Heading.02.RightAlignment}" />
                                            <customcontrols:AxDateTextBox x:Name="txtValidDateTo"
                                                                          TabIndex="25"
                                                                          Text="{Binding EditingHiItem.ValidDateTo, Mode=TwoWay, NotifyOnValidationError=True, Converter={StaticResource ShortDateConverter}}"
                                                                          HorizontalAlignment="Stretch" Width="90"
                                                                          VerticalAlignment="Center" Height="22"
                                                                          Grid.Row="2" Grid.Column="5" />
                                            <TextBlock TextWrapping="Wrap"
                                                       Text="{Binding K2757_G1_DChi, Source={StaticResource eHCMSResources}}"
                                                       Grid.Row="3"
                                                       Style="{StaticResource TextBlock.Heading.04}"
                                                       VerticalAlignment="Center" />
                                            <TextBox Text="{Binding EditingHiItem.PatientStreetAddress, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True, UpdateSourceTrigger=PropertyChanged}"
                                                     IsReadOnly="{Binding Path=FormState, ConverterParameter=NONE|READONLY, Mode=OneWay, Converter={StaticResource EnumConverterObj}}"
                                                     Style="{StaticResource MainFrame.TextBox}"
                                                     Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="4"
                                                     Height="22" VerticalAlignment="Center"
                                                     VerticalContentAlignment="Center"
                                                     IsEnabled="{Binding CanEditAddressForHICard, Mode=OneWay}" />
                                            <Button Name="LoadAddressFromPatientDetail" Content="..."
                                                    Style="{StaticResource MainFrame.Button}"
                                                    Grid.Row="3" Grid.Column="5"
                                                    IsEnabled="{Binding CanEditAddressForHICard, Mode=OneWay}"
                                                    IsTabStop="False" />
                                            <TextBlock Margin="0" TextWrapping="Wrap"
                                                       Text="{Binding G1270_G1_Tinh, Source={StaticResource eHCMSResources}}"
                                                       Grid.Row="4"
                                                       Style="{StaticResource TextBlock.Heading.04}"
                                                       VerticalAlignment="Center"
                                                       HorizontalAlignment="Center" />
                                            <!--Text="{Binding txtAcbHIProvince, Mode=TwoWay}"-->
                                            <customcontrols:AxAutoComplete x:Name="AcbHICity" 
                                                                           Style="{StaticResource AxAutoCompleteMyStyle}"
                                                                           MinimumPopulateDelay="300"
                                                                           Grid.Column="1" Grid.Row="4"      
                                                                           ValueMemberBinding="{Binding Path = CityProvinceName, Mode=TwoWay}"
                                                                           IsEnabled="{Binding CanEditAddressForHICard, Mode=OneWay}"
                                                                           FontWeight="Bold" IsDropDownOpen="True" Height="22"
                                                                           TextBoxStyle="{StaticResource MainFrame.TextBox}"
                                                                           MinimumPrefixLength="0" FilterMode="None"
                                                                           cal:Message.Attach="[Event Loaded]=[Action AcbHICity_Loaded($source, $eventArgs)];
                                                                           [Event Populating] = [Action AcbHICity_Populating($source, $eventArgs)];
                                                                           [Event DropDownClosed] = [Action AcbHICity_DropDownClosed($source, $eventArgs)]"                                        
                                                                           ItemsSource="{Binding HIAllProvince, Mode=TwoWay}" 
                                                                           SelectedItem="{Binding SelectedProvince, Mode=TwoWay}"
                                                                           ItemContainerStyle="{StaticResource AxAutoCompleteBoxBkg}">
                                                <customcontrols:AxAutoComplete.ItemTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Path = CityProvinceName}" />
                                                    </DataTemplate>
                                                </customcontrols:AxAutoComplete.ItemTemplate>
                                            </customcontrols:AxAutoComplete>
                                            <TextBlock TextWrapping="Wrap"
                                                       Text="{Binding Q0446_G1_Quan, Source={StaticResource eHCMSResources}}" 
                                                       Grid.Column="2" Grid.Row="4"
                                                       Style="{StaticResource TextBlock.Heading.04}"
                                                       VerticalAlignment="Center"
                                                       HorizontalAlignment="Center" />
                                            <customcontrols:AxComboBox x:Name="cboHISuburb"
                                                                       DisplayMemberPath="SuburbName"
                                                                       SelectedValuePath="SuburbNameID"
                                                                       IsEnabled="{Binding CanEditAddressForHICard, Mode=OneWay}"
                                                                       Style="{StaticResource MainFrame.ComboBox}"
                                                                       Grid.Column="3" Grid.Row="4" Height="22"
                                                                       VerticalAlignment="Bottom"
                                                                       SelectedValueEx="{Binding EditingHiItem.SuburbNameID, Mode=TwoWay, NotifyOnValidationError=True, ValidatesOnExceptions=True, UpdateSourceTrigger=PropertyChanged}"
                                                                       ItemsSource="{Binding HISuburbNames, Mode=OneWay}"
                                                                       cal:Message.Attach="[Event Loaded]=[Action cboHISuburb_Loaded($source, $eventArgs)];
                                                                       [Event GotFocus]=[Action cboHISuburb_GotFocus($source, $eventArgs)]" />

                                            <StackPanel Orientation="Horizontal" Grid.Row="5"
                                                        Grid.Column="3" Grid.ColumnSpan="3">
                                                <Button Content="Hình ảnh BHYT đính kèm"
                                                        Name="AttachHICmd" Width="150"
                                                        Style="{StaticResource MainFrame.Button}" />
                                                <Button Content="Test 88" Name="Test88Cmd"
                                                        Margin="5,0,0,0" Width="40" />
                                            </StackPanel>
                                        </Grid>
                                    </StackPanel>
                                </Grid>
                            </Border>
                            <!-- Grid Paper Referal-->
                            <Border x:Name="groupPaperReferralInfo"
                                    Grid.Row="1"
                                    Style="{StaticResource LightBlueBorderStyleNew}">
                                <StackPanel >
                                    <StackPanel Height="24">
                                        <TextBlock Text="{Binding T1205_G1_GCVien, Source={StaticResource eHCMSResources}}"
                                                   Foreground="#FF5E5E5E"
                                                   Style="{StaticResource TBlock.Heading.02}"
                                                   Padding="0,2,5,2" />
                                    </StackPanel>
                                    <Grid >
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="24" />
                                            <RowDefinition Height="24" />
                                            <RowDefinition Height="24" />
                                            <RowDefinition Height="24" />
                                            <RowDefinition Height="24" />
                                            <RowDefinition Height="24" />
                                            <RowDefinition Height="24" />
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="110" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="80" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="{Binding N0258_G1_NoiChuyenVien, Source={StaticResource eHCMSResources}}"
                                                   Style="{StaticResource TBlock.Content.02.LeftAlignment}" />
                                        <ContentControl Name="PaperReferralHospitalAutoCompleteContent"
                                                        Grid.Column="1" Grid.Row="0"
                                                        Grid.ColumnSpan="3"
                                                        TabIndex="26"
                                                        Visibility="{Binding CanPaperReferalEdit, Mode=OneWay, Converter={StaticResource VisibilityConverter}}"
                                                        HorizontalContentAlignment="Stretch"
                                                        VerticalContentAlignment="Stretch"
                                                        MaxWidth="450" Height="22" />
                                        <TextBlock Text="{Binding N0084_G1_NgKyGiay, Source={StaticResource eHCMSResources}}"
                                                   Grid.Row="1"
                                                   Style="{StaticResource TBlock.Content.02.LeftAlignment}" />
                                        <customcontrols:AxDateTextBox x:Name="txtCreatedDate"
                                                                      TabIndex="27"
                                                                      Text="{Binding EditingPaperReferal.RefCreatedDate, Mode=TwoWay, NotifyOnValidationError=True, Converter={StaticResource ShortDateConverter}}"
                                                                      Visibility="{Binding CanPaperReferalEdit, Mode=OneWay, Converter={StaticResource VisibilityConverter}}"
                                                                      HorizontalAlignment="Left" Width="90" Height="22"
                                                                      Grid.Column="1" Grid.Row="1" />
                                        <TextBlock Text="{Binding N0097_G1_NgNop, Source={StaticResource eHCMSResources}}"
                                                   Grid.Row="1" Grid.Column="2"
                                                   Style="{StaticResource TBlock.Content.02.LeftAlignment}" />
                                        <customcontrols:AxDateTextBox x:Name="txtAcceptDate"
                                                                      TabIndex="28"
                                                                      Text="{Binding EditingPaperReferal.AcceptedDate, Mode=TwoWay, NotifyOnValidationError=True, Converter={StaticResource ShortDateConverter}}"
                                                                      Visibility="{Binding CanPaperReferalEdit, Mode=OneWay, Converter={StaticResource VisibilityConverter}}"
                                                                      HorizontalAlignment="Left" Width="90" Height="22"
                                                                      Grid.Column="3" Grid.Row="1" />
                                        <TextBlock Text="{Binding T3693_G1_ManTinh2, Source={StaticResource eHCMSResources}}"
                                                   Grid.Row="2"
                                                   Style="{StaticResource TBlock.Content.02.LeftAlignment}" />
                                        <CheckBox x:Name="chkChronic"
                                                  IsChecked="{Binding EditingPaperReferal.IsChronicDisease, Mode=TwoWay}"
                                                  Grid.Column="1" Grid.Row="2" TabIndex="29"
                                                  Style="{StaticResource MainFrame.Checkbox.Title1}"
                                                  VerticalContentAlignment="Center"
                                                  HorizontalAlignment="Right" Width="148" />
                                        <TextBlock Text="{Binding K0705_G1_TimTatCa, StringFormat='{}{0} ', Source={StaticResource eHCMSResources}}"
                                                   Grid.Column="2" Grid.Row="2"
                                                   Style="{StaticResource TBlock.Heading.02.RightAlignment}" />
                                        <CheckBox x:Name="chkSearchAll"
                                                  IsChecked="{Binding IsSearchAll, Mode=TwoWay}"
                                                  Grid.Column="3" Grid.Row="2" TabIndex="30"
                                                  Visibility="{Binding CanPaperReferalEdit, Mode=OneWay, Converter={StaticResource VisibilityConverter}}"
                                                  Style="{StaticResource MainFrame.Checkbox.Title1}"
                                                  VerticalContentAlignment="Center"
                                                  HorizontalAlignment="Left" />
                                        <TextBlock Text="{Binding Z2260_G1_TuyenChuyen, Source={StaticResource eHCMSResources}}"
                                                   Grid.Row="3"
                                                   Style="{StaticResource TBlock.Content.02.LeftAlignment}" />
                                        <customcontrols:KeyEnabledComboBox x:Name="cboTransferType"
                                                                           Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="3"
                                                                           DisplayMemberPath="ObjectValue"
                                                                           SelectedValuePath="LookupID"
                                                                           ItemsSource="{Binding TransferTypeList}"
                                                                           Visibility="{Binding CanPaperReferalEdit, Mode=OneWay, Converter={StaticResource VisibilityConverter}}"
                                                                           Style="{StaticResource MainFrame.ComboBox}"
                                                                           Height="22" />
                                        <TextBlock Text="{Binding Z2261_G1_LyDoChuyen, Source={StaticResource eHCMSResources}}"
                                                   Grid.Row="4"
                                                   Style="{StaticResource TBlock.Content.02.LeftAlignment}" />
                                        <customcontrols:KeyEnabledComboBox x:Name="cboTransferReason"
                                                                           Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="3"
                                                                           DisplayMemberPath="ObjectValue"
                                                                           SelectedValuePath="LookupID"
                                                                           ItemsSource="{Binding TransferReasonList}"
                                                                           Style="{StaticResource MainFrame.ComboBox}"
                                                                           Height="22" />
                                        <TextBlock Text="{Binding T0723_G1_GChu, Source={StaticResource eHCMSResources}}"
                                                   Grid.Row="5"
                                                   Style="{StaticResource TBlock.Content.02.LeftAlignment}" />
                                        <TextBox x:Name="txtNotes" TabIndex="31"
                                                 VerticalContentAlignment="Center"
                                                 VerticalAlignment="Center" Height="22"
                                                 Grid.Row="5" Grid.Column="1" Grid.ColumnSpan="3"
                                                 Visibility="{Binding CanPaperReferalEdit, Mode=OneWay, Converter={StaticResource VisibilityConverter}}"
                                                 Text="{Binding EditingPaperReferal.Notes, Mode=TwoWay}" />
                                        <StackPanel Grid.Column="1" Grid.Row="6"
                                                    Grid.ColumnSpan="3"
                                                    Orientation="Horizontal"
                                                    Visibility="{Binding CanEdit, Mode=OneWay, Converter={StaticResource VisibilityConverter}}">
                                            <Button x:Name="CreateNewInUserPaperReferalCmd"
                                                    Content="{Binding S0736_G1_SuDungLai, Source={StaticResource eHCMSResources}}"
                                                    Width="80"
                                                    Style="{StaticResource MainFrame.Button}"
                                                    Visibility="{Binding ShowCreateNewInUserPaperReferalCmd, Mode=OneWay, Converter={StaticResource VisibilityConverter}}"
                                                    HorizontalAlignment="Left" Margin="0,0,5,0" />
                                            <Button x:Name="FullPaperReferalCmd"
                                                    Content="{Binding Z2117_G1_GCT, Source={StaticResource eHCMSResources}}"
                                                    Style="{StaticResource MainFrame.Button}"
                                                    Visibility="{Binding ShowAllowAppearingCmd , Mode=OneWay, Converter={StaticResource BooleanToVisibility}}"
                                                    Width="30" Margin="0,0,5,0"
                                                    HorizontalAlignment="Left" />
                                        </StackPanel>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </Grid>
                    </Expander>
                </Grid>
            </StackPanel>
            <!-- List button -->
            <DockPanel Grid.Row="2" VerticalAlignment="Center">
                <Button HorizontalAlignment="Left" Name="hplPMR"
                        ToolTipService.ToolTip ="Hồ Sơ Bệnh Án"
                        FontWeight="Bold" Foreground="#FF0084FF"
                        Style="{StaticResource MainFrame.HyperlinkButton}"
                        IsEnabled="{Binding Path=FormState, ConverterParameter=READONLY|EDIT, Mode=OneWay, Converter={StaticResource EnumConverterObj}}">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="/aEMR.CommonViews;component/Assets/Images/page-add-icon2.png"
                               Height="13" Width="13" Opacity="1" />
                        <TextBlock Text="{Binding T1561_G1_HSoBAn, Source={StaticResource eHCMSResources}}" />
                    </StackPanel>
                </Button>
                <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                    <Button Name="hplHospitalEdit" Visibility="Hidden"
                            FontWeight="Bold" Foreground="#FF0084FF"
                            Style="{StaticResource MainFrame.HyperlinkButton}">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="{Binding K1884_G1_ChSuaMaBV, Source={StaticResource eHCMSResources}}" />
                        </StackPanel>
                    </Button>
                    <Button  Name="hplHospitalAddNew1" Visibility="Hidden"
                             FontWeight="Bold" Foreground="#FF0084FF"
                             Style="{StaticResource MainFrame.HyperlinkButton}"
                             Margin="30,0,0,0">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="{Binding G0272_G1_ThemMaBV, Source={StaticResource eHCMSResources}}" />
                        </StackPanel>
                    </Button>
                </StackPanel>
            </DockPanel>
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left"
                        Grid.Row="3">
                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Left" Grid.Row="1">
                    <Button Content="{Binding T2937_G1_Luu, Source={StaticResource eHCMSResources}}"
                            Name="SaveChangesCmd" Width="80"
                            Style="{StaticResource MainFrame.Button}"
                            Visibility="{Binding ShowSaveChangesCmd, Mode=OneWay, Converter={StaticResource VisibilityConverter}}"
                            TabIndex="17" />
                    <Button Content="{Binding K1305_G1_BoQua, Source={StaticResource eHCMSResources}}"
                            Name="CancelChangesCmd"
                            Width="80" Style="{StaticResource MainFrame.Button}"
                            Visibility="{Binding ShowCancelChangesCmd, Mode=OneWay, Converter={StaticResource VisibilityConverter}}"
                            TabIndex="17" />
                </StackPanel>
                <Button Content="{Binding K3735_G1_Dong, Source={StaticResource eHCMSResources}}"
                        Name="CloseFormCmd"
                        Visibility="{Binding ShowCloseFormButton, Mode=OneWay, Converter={StaticResource VisibilityConverter}}"
                        Width="80"
                        Style="{StaticResource MainFrame.Button}"
                        TabIndex="51" />
                <Button Content="{Binding T2935_G1_LSuCNhatTen, Source={StaticResource eHCMSResources}}"
                        Name="OldPtNamesLogCmd"
                        Width="70" Margin="20,0,0,0"
                        Style="{StaticResource MainFrame.Button}"
                        TabIndex="51" />
            </StackPanel>
        </Grid>
    </xctk:BusyIndicator>
</customcontrols:AxUserControl>

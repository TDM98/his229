<commonctrl:AxUserControl
    x:Class="aEMR.Common.Views.PatientSummaryInfoV3View"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Resources="clr-namespace:eHCMSLanguage;assembly=aEMRLanguage"
    xmlns:cal="http://www.caliburnproject.org"
    xmlns:commonctrl="clr-namespace:aEMR.Controls;assembly=aEMR.Controls"
    xmlns:converters="clr-namespace:aEMR.Common.Converters;assembly=aEMR.Common"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="300"
    d:DesignWidth="1700"
    mc:Ignorable="d">
    <UserControl.Resources>
        <Resources:eHCMSResources x:Key="eHCMSResources" />
        <converters:PatientAddressConverter x:Key="AddressConverter" />
        <converters:PaperReferalToStringConverter x:Key="PaperReferalToStringConverter" />
        <BooleanToVisibilityConverter x:Key="BooleanToVisibility" />
        <DataTemplate x:Key="AutoCompleteItemTemplate">
            <StackPanel HorizontalAlignment="Left" Orientation="Horizontal">
                <TextBlock MinWidth="100" Text="{Binding ICD10Code, Mode=OneWay}" />
                <TextBlock Text="{Binding DiseaseNameVN, Mode=OneWay}" />
            </StackPanel>
        </DataTemplate>
    </UserControl.Resources>

    <Expander
        Width="Auto"
        Height="Auto"
        Margin="0,0,0,0"
        HorizontalAlignment="Stretch"
        VerticalAlignment="Stretch"
        HorizontalContentAlignment="Stretch"
        VerticalContentAlignment="Stretch"
        Background="#FFDBE5F1"
        ExpandDirection="Down"
        FontWeight="Bold"
        Foreground="#CC0033"
        Header="{Binding CurrentPatient.GeneralInfoString, Mode=OneWay}"
        IsExpanded="True"
        RenderTransformOrigin="0,0">
        <Grid Margin="1">

            <Border
                x:Name="border2"
                Width="Auto"
                Margin="1,1,1,1"
                Style="{StaticResource LightBlueBorderStyle}">
                <Grid Height="Auto" ShowGridLines="False">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="5" />
                    </Grid.ColumnDefinitions>
                    <StackPanel
                        Grid.Row="0"
                        Height="22"
                        Margin="0"
                        VerticalAlignment="Top"
                        Orientation="Horizontal">
                        <TextBlock
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Style="{StaticResource MainFrame.TextBlock.00}"
                            Text="{Binding G0525_G1_TTinBN, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" />
                        <TextBlock
                            x:Name="txtFullName_Copy"
                            Margin="0,0,0,0"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Style="{StaticResource MainFrame.TextBlock.Title}"
                            Text="{Binding CurrentPatient.FullName}"
                            TextWrapping="NoWrap" />
                        <Button
                            x:Name="lnkEditPatientInfo1"
                            Margin="5,0,0,0"
                            VerticalAlignment="Center"
                            Content="{Binding K1680_G1_CNhatTTinBN, Source={StaticResource eHCMSResources}}"
                            Style="{StaticResource MainFrame.HyperlinkButton.01}"
                            Visibility="{Binding GeneralInfoVisibility, Mode=OneWay}" />
                        <Button
                            x:Name="lnkEditHI_Copy"
                            Margin="5,0,0,0"
                            VerticalAlignment="Center"
                            Content="{Binding G2382_G1_XNhanTheBH, Source={StaticResource eHCMSResources}}"
                            IsEnabled="{Binding Path=CanConfirmHi, Mode=OneWay}"
                            Style="{StaticResource MainFrame.HyperlinkButton.01}"
                            Visibility="{Binding ConfirmHiVisibility, Mode=OneWay}" />
                    </StackPanel>
                    <Button
                        Name="ExpandCmd"
                        Grid.Column="1"
                        HorizontalAlignment="Right"
                        Content="{Binding M0007_G1_MoRong, Source={StaticResource eHCMSResources}}"
                        Style="{StaticResource MainFrame.HyperlinkButton.01}" />
                </Grid>
            </Border>
            <Border
                x:Name="border1"
                Width="Auto"
                Margin="1,1,1,1"
                Style="{StaticResource LightBlueBorderStyle}">
                <Grid Height="Auto" ShowGridLines="False">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition MaxWidth="80" />
                        <ColumnDefinition MaxWidth="250" />
                        <!--  1  -->
                        <ColumnDefinition MaxWidth="130" />
                        <ColumnDefinition MaxWidth="70" />
                        <!--  3  -->
                        <ColumnDefinition MaxWidth="50" />
                        <ColumnDefinition MaxWidth="100" />
                        <!--  5  -->
                        <ColumnDefinition MaxWidth="100" />
                        <ColumnDefinition MaxWidth="100" />
                        <!--  7  -->
                        <ColumnDefinition MaxWidth="90" />
                        <ColumnDefinition MaxWidth="120" />
                        <!--  9  -->
                        <ColumnDefinition MaxWidth="100" />
                        <ColumnDefinition MaxWidth="50" />
                        <!--  11  -->
                        <ColumnDefinition />
                        <ColumnDefinition MaxWidth="105" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition MinHeight="20" />
                        <!--  0.  -->
                        <RowDefinition MinHeight="20" />
                        <!--  1.  -->
                        <RowDefinition MinHeight="20" />
                        <!--  2.  -->
                        <RowDefinition MinHeight="20" />
                        <!--  3.  -->
                    </Grid.RowDefinitions>
                    <TextBlock
                        Grid.Row="0"
                        Grid.Column="0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.00}"
                        Text="{Binding T3230_G1_MaBN, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" />
                    <TextBlock
                        x:Name="txtPtCode"
                        Grid.Row="0"
                        Grid.Column="1"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        FontWeight="Bold"
                        Style="{StaticResource MainFrame.TextBlock.02}"
                        Text="{Binding CurrentPatient.PatientCode, Mode=TwoWay}"
                        TextWrapping="NoWrap" />
                    <!--  Content="{Binding K1680_G1_CNhatTTinBN, Source={StaticResource eHCMSResources}}"  -->
                    <Button
                        x:Name="EditGeneralInfoCmd"
                        Grid.Row="0"
                        Grid.Column="2"
                        Margin="5,0,0,0"
                        VerticalAlignment="Center"
                        Content="Cập nhật TT"
                        Style="{StaticResource MainFrame.HyperlinkButton.01}"
                        Visibility="{Binding GeneralInfoVisibility, Mode=OneWay}" />
                    <TextBlock
                        Margin="15,0,0,0"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.01}"
                        Text="{Binding T2687_G1_LoaiBN, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                        Visibility="Collapsed" />
                    <!--<commonctrl:AxComboBox Height="22" Margin="5,0,0,0" Visibility="Collapsed"
                                                   Width="150" HorizontalAlignment="Left"
                                         ItemsSource="{Binding PatientClassifications, Mode=OneWay}" DisplayMemberPath="PatientClassName"
                                         SelectedValuePath="PatientClassID" SelectedItem="{Binding CurrentPatientClassification, Mode=TwoWay}"
                                         IsEnabled="False" Style="{StaticResource MainFrame.ComboBox}"/>-->
                    <!--  Content="{Binding T1941_G1_InTTinBHYT, Source={StaticResource eHCMSResources}}" Width="100"  -->

                    <Button
                        x:Name="PrintPatientInfoCmd"
                        Grid.Row="0"
                        Grid.Column="3"
                        Height="22"
                        HorizontalAlignment="Left"
                        Content="In TT"
                        Style="{StaticResource MainFrame.Button}"
                        TabIndex="10" />
                    <!--  Content="{Binding G0723_G1_ThuNho, Source={StaticResource eHCMSResources}}"  -->

                    <TextBlock
                        Grid.Row="0"
                        Grid.Column="5"
                        Margin="5,0,0,0"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.01}"
                        Text="{Binding T3618_G1_MaTheBH, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                        d:LayoutOverrides="Width" />
                    <!--  Column 4  -->
                    <TextBlock
                        x:Name="txtHICardNumber"
                        Grid.Row="0"
                        Grid.Column="6"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.02}"
                        Text="{Binding Path=ConfirmedHICardNums, Mode=OneWay}"
                        TextWrapping="NoWrap" />
                    <Button
                        x:Name="ConfirmHiCmd"
                        Grid.Row="0"
                        Grid.Column="7"
                        Margin="5,0,0,0"
                        VerticalAlignment="Center"
                        Content="{Binding G2363_G1_XNhan, Source={StaticResource eHCMSResources}}"
                        Style="{StaticResource MainFrame.HyperlinkButton.01}"
                        Visibility="{Binding ConfirmHiVisibility, Mode=OneWay}" />
                    <!--  IsEnabled="{Binding Path=CanConfirmHi,Mode=OneWay}"  -->
                    <!--<TextBlock Grid.Row="0" Grid.Column="8" Text="{Binding Q0421_G1_QL, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Left"
                           VerticalAlignment="Center"
                           Style="{StaticResource MainFrame.TextBlock.01}" />-->
                    <!--<CheckBox Grid.Row="0" Grid.Column="8" Grid.ColumnSpan="2" HorizontalAlignment="Left" VerticalAlignment="Center" x:Name="isHICard_5YearsCont" Content="{Binding Z2284_G1_BHYT5NamLT, Source={StaticResource eHCMSResources}}" Style="{StaticResource MainFrame.Checkbox.Title1}" Margin="5,0,0,0" />-->
                    <TextBlock
                        Grid.Row="0"
                        Grid.Column="8"
                        Margin="5,0,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.01}"
                        Text="{Binding R0012_G1_BSiCDinh, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                        Visibility="Hidden" />
                    <StackPanel
                        Grid.Row="0"
                        Grid.Column="9"
                        Grid.ColumnSpan="5"
                        Orientation="Horizontal"
                        Visibility="Hidden">
                        <commonctrl:AxAutoComplete
                            Width="175"
                            MaxWidth="175"
                            Margin="5,0,0,0"
                            HorizontalAlignment="Stretch"
                            cal:Message.Attach="[Event Loaded] = [Action DoctorStaff_Loaded($source, $eventArgs)]                                                              ;[Event Populating] = [Action DoctorStaff_Populating($source, $eventArgs)]                                                              ;[Event DropDownClosed] = [Action DoctorStaff_DropDownClosed($source, $eventArgs)]"
                            FilterMode="None"
                            IsDropDownOpen="True"
                            IsEnabled="{Binding IsEnableForBasicDiag}"
                            ItemContainerStyle="{StaticResource AxAutoCompleteBoxBkg}"
                            MinimumPopulateDelay="300"
                            MinimumPrefixLength="0"
                            SelectedItem="{Binding gSelectedDoctorStaff, Mode=TwoWay}"
                            Style="{StaticResource AxAutoCompleteMyStyle}"
                            ValueMemberBinding="{Binding FullName, Mode=TwoWay}"
                            ValueMemberPath="FullName">
                            <commonctrl:AxAutoComplete.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel>
                                        <TextBlock
                                            Margin="0"
                                            Padding="0"
                                            Style="{StaticResource MainFrame.TextBlock.01}"
                                            Text="{Binding FullName}" />
                                    </StackPanel>
                                </DataTemplate>
                            </commonctrl:AxAutoComplete.ItemTemplate>
                        </commonctrl:AxAutoComplete>
                        <TextBlock
                            Margin="5,0,0,0"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            Style="{StaticResource MainFrame.TextBlock.01}"
                            Text="{Binding N0133_G1_NgYLenh, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" />
                        <DatePicker
                            Width="Auto"
                            MaxHeight="20"
                            Margin="5,0,0,0"
                            HorizontalAlignment="Left"
                            IsEnabled="{Binding IsEnableForBasicDiag}"
                            Style="{StaticResource MainFrame.DatePicker}" />
                    </StackPanel>
                    <Button
                        x:Name="XemPhongCmd"
                        Grid.Row="1"
                        Grid.Column="14"
                        HorizontalAlignment="Right"
                        Content="Xem PK"
                        Style="{StaticResource MainFrame.HyperlinkButton.01}"
                        Visibility="{Binding mInfo_XemPhongKham, Converter={StaticResource BooleanToVisibility}}" />

                    <Button
                        x:Name="CollapseCmd"
                        Grid.Row="0"
                        Grid.Column="14"
                        Margin="10,0,0,0"
                        HorizontalAlignment="Right"
                        Content="Thu"
                        Style="{StaticResource MainFrame.HyperlinkButton.01}" />
                    <TextBlock
                        x:Name="txtHIBenefit"
                        Grid.Row="2"
                        Grid.Column="12"
                        Grid.ColumnSpan="2"
                        Margin="0,0,0,0"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        FontSize="40"
                        Foreground="Red"
                        Style="{StaticResource MainFrame.TextBlock.02}"
                        Text="{Binding Path=HiBenefitString, Mode=OneWay}"
                        TextWrapping="NoWrap" />
                    <TextBlock
                        Grid.Row="1"
                        Grid.Column="0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.01}"
                        Text="{Binding T0829_G1_Ten, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" />
                    <TextBlock
                        x:Name="txtFullName"
                        Grid.Row="1"
                        Grid.Column="1"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.Title}"
                        Text="{Binding CurrentPatient.FullName}"
                        TextWrapping="NoWrap" />
                    <!--  Column 3  -->
                    <TextBlock
                        Grid.Row="1"
                        Grid.Column="2"
                        Margin="5,0,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.01}"
                        Text="{Binding T1223_G1_GTinh, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" />
                    <TextBlock
                        x:Name="txtGender"
                        Grid.Row="1"
                        Grid.Column="2"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.02}"
                        Text="{Binding CurrentPatient.GenderObj.Name, Mode=OneWay}"
                        TextWrapping="NoWrap" />
                    <TextBlock
                        Grid.Row="1"
                        Grid.Column="3"
                        Margin="10,0,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.01}"
                        Text="{Binding G2057_G1_Tuoi, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" />
                    <TextBlock
                        x:Name="txtAge"
                        Grid.Row="1"
                        Grid.Column="3"
                        Grid.ColumnSpan="2"
                        Margin="40,0,10,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.02}"
                        Text="{Binding CurrentPatient.AgeString}"
                        TextWrapping="NoWrap" />
                    <TextBlock
                        Grid.Row="1"
                        Grid.Column="5"
                        Margin="5,0,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.01}"
                        Text="{Binding T1205_G1_GCVien, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                        TextWrapping="Wrap"
                        d:LayoutOverrides="HorizontalAlignment" />
                    <TextBlock
                        x:Name="txtReferalHospital"
                        Grid.Row="1"
                        Grid.Column="6"
                        Grid.ColumnSpan="2"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.02}"
                        Text="{Binding Path=PaperRefDetails, Mode=OneWay}"
                        TextWrapping="Wrap" />

                    <!--<CheckBox Grid.Row="1" Grid.Column="8" Grid.ColumnSpan="2" HorizontalAlignment="Left" VerticalAlignment="Center" x:Name="IsChildUnder6YearsOld" Content="{Binding G1771_G1_TreEmTpDuoi6Tuoi, Source={StaticResource eHCMSResources}}" Style="{StaticResource MainFrame.Checkbox.Title1}" Margin="5,0,0,0"/>-->
                    <!--<commonctrl:AxAutoComplete Grid.Row="1" Grid.Column="9" IsDropDownOpen="True" MinimumPopulateDelay="300"
                                                             HorizontalAlignment="Left" Width="30"
                                               Style="{StaticResource AxAutoCompleteMyStyle}" MinimumPrefixLength="0" FilterMode="None"
                                                                        ItemContainerStyle="{StaticResource AxAutoCompleteBoxBkg}">

                        <commonctrl:AxAutoComplete.ItemTemplate>
                            <DataTemplate>
                                <StackPanel>
                                    <TextBlock Text="{Binding FullName}" Style="{StaticResource MainFrame.TextBlock.01}" Margin="0" Padding="0" />
                                </StackPanel>
                            </DataTemplate>
                        </commonctrl:AxAutoComplete.ItemTemplate>
                    </commonctrl:AxAutoComplete>-->
                    <!--
                        ValueMemberBinding="{Binding FullName,Mode=TwoWay}"
                        ValueMemberPath="FullName"
                        SelectedItem="{Binding gSelectedDoctorStaff, Mode=TwoWay}"
                        Text="{Binding gSelectedDoctorStaff.FullName}"
                    -->

                    <TextBlock
                        Grid.Row="2"
                        Grid.Column="0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.01}"
                        Text="{Binding K3354_G1_DChi, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" />
                    <TextBlock
                        Grid.Row="2"
                        Grid.Column="1"
                        Grid.ColumnSpan="5"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Text="{Binding CurrentPatient.PatientFullStreetAddress, Mode=OneWay}"
                        TextWrapping="Wrap" />

                    <TextBlock
                        Grid.Row="2"
                        Grid.Column="5"
                        Margin="5,2,0,3"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Bottom"
                        Style="{StaticResource MainFrame.TextBlock.01}"
                        Text="Đối tượng KCB" />
                    <commonctrl:KeyEnabledComboBox
                        Grid.Row="2"
                        Grid.Column="6"
                        Grid.ColumnSpan="2"
                        Width="180"
                        IsEnabled="False"
                        Margin="0,2,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Bottom"
                        cal:Message.Attach="[Event SelectionChanged] = [Action cboObjectMedicalExamination_SelectionChanged($source, $eventArgs)]"
                        DisplayMemberPath="ObjectValue"
                        ItemsSource="{Binding ObjectMedicalExaminationList, Mode=OneWay}"
                        SelectedItem="{Binding CurrentObjectMedicalExamination, Mode=TwoWay}"
                        SelectedValuePath="LookupID"
                        Style="{StaticResource MainFrame.ComboBox}" />
                    <!--<TextBlock Grid.Row="2" Grid.Column="5" Text="{Binding T3406_G1_MaKV, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" Margin="5,0,0,0"
                                   HorizontalAlignment="Left"
                                   VerticalAlignment="Center"
                                   TextWrapping="Wrap"
                                   Style="{StaticResource MainFrame.TextBlock.02}" />
                    <commonctrl:AxComboBox Grid.Row="2" Grid.Column="6" Width="70" HorizontalAlignment="Left"
                                        Style="{StaticResource MainFrame.ComboBox}"
                                        SelectedValueEx="{Binding SelectedKV, Mode=TwoWay,NotifyOnValidationError=True,ValidatesOnExceptions=True}"
                                        ItemsSource="{Binding AllKVCode,Mode=OneWay}"/>-->
                    <!--<CheckBox Grid.Row="2" Grid.Column="8" Grid.ColumnSpan="2" HorizontalAlignment="Left" VerticalAlignment="Center" Content="{Binding K1272_G1_BNCapCuuTK, Source={StaticResource eHCMSResources}}" Style="{StaticResource MainFrame.Checkbox.Title1}" Margin="5,0,0,0"/>-->
                    <TextBlock
                        Grid.Row="1"
                        Grid.Column="8"
                        Height="25"
                        Margin="5,5,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.01}"
                        Text="Loại KCB" />
                    <commonctrl:KeyEnabledComboBox
                        Grid.Row="1"
                        Grid.Column="9"
                        Grid.ColumnSpan="4"
                        Width="350"
                        Margin="5,2,0,0"
                        HorizontalAlignment="Left"
                        cal:Message.Attach="[Event SelectionChanged] = [Action cboMedicalExaminationType_SelectionChanged($source, $eventArgs)]"
                        DisplayMemberPath="ObjectValue"
                        ItemsSource="{Binding MedicalExaminationType, Mode=OneWay}"
                        SelectedItem="{Binding CurrentMedicalExaminationType, Mode=TwoWay}"
                        SelectedValuePath="LookupID"
                        Style="{StaticResource MainFrame.ComboBox}" />
                    <TextBlock
                        Grid.Row="2"
                        Grid.Column="8"
                        Height="25"
                        Margin="5,5,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.01}"
                        Text="{Binding T0723_G1_GChu, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" />
                    <TextBox
                        Grid.Row="2"
                        Grid.Column="9"
                        Grid.ColumnSpan="4"
                        Width="350"
                        Margin="5,2,0,0"
                        HorizontalAlignment="Left"
                        VerticalContentAlignment="Center"
                        IsEnabled="False"
                        Text="{Binding CurrentPatient.PatientNotes, Mode=TwoWay}" />


                    <TextBlock
                        Grid.Row="4"
                        Grid.Column="0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.02}"
                        Text="{Binding N0159_G1_NguoiLienHe, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                        TextWrapping="Wrap" />
                    <TextBox
                        x:Name="txtContactFullName"
                        Grid.Row="4"
                        Grid.Column="1"
                        Margin="0,2,0,0"
                        Text="{Binding CurrentPatient.FContactFullName, Mode=TwoWay}" />
                    <TextBlock
                        Grid.Row="4"
                        Grid.Column="2"
                        Margin="5,0,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.02}"
                        Text="{Binding T1012_G1_GDinh, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                        TextWrapping="Wrap" />
                    <commonctrl:KeyEnabledComboBox
                        x:Name="cboContactRelationship"
                        Grid.Row="4"
                        Grid.Column="3"
                        Margin="0,2,0,0"
                        DisplayMemberPath="ObjectValue"
                        ItemsSource="{Binding FamilyRelationshipList}"
                        SelectedValueEx="{Binding CurrentPatient.V_FamilyRelationship, Mode=TwoWay}"
                        SelectedValuePath="LookupID"
                        Style="{StaticResource MainFrame.ComboBox}" />
                    <TextBlock
                        Grid.Row="4"
                        Grid.Column="5"
                        Margin="5,0,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.02}"
                        Text="{Binding K3909_G1_DT, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                        TextWrapping="Wrap" />
                    <TextBox
                        x:Name="txtPhone"
                        Grid.Row="4"
                        Grid.Column="6"
                        Margin="0,2,0,0"
                        Text="{Binding CurrentPatient.FContactCellPhone, Mode=TwoWay}" />

                    <TextBlock
                        Grid.Row="4"
                        Grid.Column="8"
                        Margin="5,0,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.01}"
                        Text="{Binding Z2353_G1_DTuong, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" />
                    <commonctrl:KeyEnabledComboBox
                        Grid.Row="4"
                        Grid.Column="9"
                        Grid.ColumnSpan="2"
                        Width="160"
                        Margin="5,2,0,0"
                        HorizontalAlignment="Left"
                        cal:Message.Attach="[Event SelectionChanged] = [Action cboPatientClasses_SelectionChanged($source, $eventArgs)]"
                        DisplayMemberPath="PatientClassName"
                        ItemsSource="{Binding PatientClassifications, Mode=OneWay}"
                        SelectedItem="{Binding CurrentPatientClassification, Mode=TwoWay}"
                        Style="{StaticResource MainFrame.ComboBox}" />
                    <!--<TextBlock Text="{Binding G1183_G1_Ghichu, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Margin="5,0,0,0"
                                    Style="{StaticResource MainFrame.TextBlock.01}" />
                        <TextBlock Text="{Binding CurrentPatient.PatientNotes}"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Margin="5,0,0,2" />-->

                    <!--<TextBlock Grid.Row="4" Grid.Column="5" Text="{Binding Z2260_G1_TuyenChuyen, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" Margin="5,0,0,0"
                                   HorizontalAlignment="Left"
                                   VerticalAlignment="Center"
                                   TextWrapping="Wrap"
                                   Style="{StaticResource MainFrame.TextBlock.02}" />
                    <TextBox Grid.Row="4" Grid.Column="6" Grid.ColumnSpan="2"/>-->
                    <TextBlock
                        Grid.Row="0"
                        Grid.Column="8"
                        Margin="5,2,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.01}"
                        Text="{Binding Z0263_G1_LyDoVaoVien, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" />
                    <commonctrl:KeyEnabledComboBox
                        Grid.Row="0"
                        Grid.Column="9"
                        Grid.ColumnSpan="4"
                        Width="350"
                        Margin="5,2,0,0"
                        HorizontalAlignment="Left"
                        cal:Message.Attach="[Event SelectionChanged] = [Action cboReasonHospitalStay_SelectionChanged($source, $eventArgs)]"
                        DisplayMemberPath="ObjectValue"
                        ItemsSource="{Binding V_ReasonHospitalStayList, Mode=OneWay}"
                        SelectedItem="{Binding CurrentV_ReasonHospitalStay, Mode=TwoWay}"
                        SelectedValuePath="LookupID"
                        Style="{StaticResource MainFrame.ComboBox}" />
                    <TextBlock
                        Grid.Row="0"
                        Grid.Column="8"
                        Margin="5,2,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.01}"
                        Text="{Binding Z2385_G1_ChanDoanBanDau, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                        Visibility="Collapsed" />
                    <StackPanel
                        Grid.Row="0"
                        Grid.Column="9"
                        Grid.ColumnSpan="4"
                        Margin="0,2,0,0"
                        Orientation="Horizontal"
                        Visibility="Collapsed">
                        <commonctrl:AxAutoComplete
                            Grid.Row="1"
                            Grid.Column="9"
                            Width="50"
                            MaxWidth="50"
                            Margin="5,0,0,0"
                            cal:Message.Attach="[Event Loaded] = [Action AcbICD10Code_Loaded($source, $eventArgs)]                                        ;[Event Populating] = [Action aucICD10_Populating($source, $eventArgs)]                                        ;[Event DropDownClosed] = [Action AxAutoComplete_DropDownClosed($source, $eventArgs)]                                        ;[Event DropDownClosing] = [Action AxAutoComplete_DropDownClosing($source, $eventArgs)]"
                            FilterMode="None"
                            IsDropDownOpen="True"
                            ItemContainerStyle="{StaticResource AxAutoCompleteBoxBkg}"
                            ItemTemplate="{StaticResource AutoCompleteItemTemplate}"
                            MinimumPopulateDelay="300"
                            MinimumPrefixLength="1"
                            SelectedItem="{Binding aICD10Code, Mode=TwoWay}"
                            Style="{StaticResource AxAutoCompleteMyStyle}"
                            ValueMemberBinding="{Binding ICD10Code, Mode=TwoWay}"
                            ValueMemberPath="ICD10Code" />

                        <!--<TextBox Text="{Binding DiseaseNameVN, Mode=TwoWay}" IsEnabled="{Binding IsDiag}" Width="300"/>-->
                        <commonctrl:AxAutoComplete
                            Grid.Row="1"
                            Grid.Column="9"
                            Width="300"
                            MaxWidth="300"
                            Margin="0,0,0,0"
                            cal:Message.Attach="[Event Loaded] = [Action AcbICD10Name_Loaded($source, $eventArgs)]                                        ;[Event Populating] = [Action aucICD10Name_Populating($source, $eventArgs)]                                        ;[Event DropDownClosed] = [Action aucICD10Name_DropDownClosed($source, $eventArgs)]                                        ;[Event DropDownClosing] = [Action aucICD10Name_DropDownClosing($source, $eventArgs)]"
                            FilterMode="None"
                            IsDropDownOpen="True"
                            ItemContainerStyle="{StaticResource AxAutoCompleteBoxBkg}"
                            ItemTemplate="{StaticResource AutoCompleteItemTemplate}"
                            MinimumPopulateDelay="300"
                            MinimumPrefixLength="1"
                            SelectedItem="{Binding aICD10Code, Mode=TwoWay}"
                            Style="{StaticResource AxAutoCompleteMyStyle}"
                            ValueMemberBinding="{Binding DiseaseNameVN, Mode=TwoWay}"
                            ValueMemberPath="DiseaseNameVN" />


                    </StackPanel>
                    <Button
                        x:Name="UpdateBasicDiag"
                        Grid.Row="4"
                        Grid.Column="12"
                        Width="80"
                        Margin="5,0,0,0"
                        HorizontalAlignment="Left"
                        Content="{Binding Z2386_G1_CapNhatCD, Source={StaticResource eHCMSResources}}"
                        Style="{StaticResource MainFrame.Button}"
                        Visibility="Hidden" />
                    <Button
                        Name="CheckOldConsultationPatientCmd"
                        Grid.Row="4"
                        Grid.Column="12"
                        Grid.ColumnSpan="2"
                        Margin="1,2,0,0"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Center"
                        Content="{Binding Z2809_G1_KiemTraNgayThuoc, Source={StaticResource eHCMSResources}}"
                        Style="{StaticResource MainFrame.HyperlinkButton.01}" />
                    <Button
                        Name="PresenterCmd"
                        Grid.Row="2"
                        Grid.Column="12"
                        Width="85"
                        Margin="100,5,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top"
                        Content="Người GT: "
                        Style="{StaticResource MainFrame.HyperlinkButton.01}"
                        Visibility="{Binding IsVisibility, Converter={StaticResource BooleanToVisibility}}" />
                    <TextBlock
                        Grid.Row="2"
                        Grid.Column="12"
                        Margin="160,2,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top"
                        Style="{StaticResource MainFrame.TextBlock.Title}"
                        Text="{Binding PresenterName}"
                        TextWrapping="NoWrap"
                        Visibility="{Binding IsVisibility, Converter={StaticResource BooleanToVisibility}}" />

                    <TextBlock
                        Grid.Row="2"
                        Grid.Column="12"
                        Width="85"
                        Margin="120,0,0,3"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Bottom"
                        Style="{StaticResource MainFrame.TextBlock.01}"
                        Text="NV GT: "
                        TextWrapping="NoWrap"
                        Visibility="{Binding IsVisibility, Converter={StaticResource BooleanToVisibility}}" />
                    <commonctrl:AxAutoComplete
                        Grid.Row="2"
                        Grid.Column="12"
                        Width="175"
                        Height="22"
                        Margin="160,2,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Bottom"
                        cal:Message.Attach="[Event Loaded] = [Action Staff_Loaded($source, $eventArgs)]                                                              ;[Event Populating] = [Action Staff_Populating($source, $eventArgs)]                                                              ;[Event DropDownClosed] = [Action Staff_DropDownClosed($source, $eventArgs)]"
                        FilterMode="None"
                        IsDropDownOpen="True"
                        ItemContainerStyle="{StaticResource AxAutoCompleteBoxBkg}"
                        MinimumPopulateDelay="300"
                        MinimumPrefixLength="0"
                        SelectedItem="{Binding RefByStaff, Mode=TwoWay}"
                        Style="{StaticResource AxAutoCompleteMyStyle}"
                        ValueMemberBinding="{Binding FullName, Mode=TwoWay}"
                        ValueMemberPath="FullName"
                        Visibility="{Binding IsVisibility, Converter={StaticResource BooleanToVisibility}}">
                        <commonctrl:AxAutoComplete.ItemTemplate>
                            <DataTemplate>
                                <StackPanel>
                                    <TextBlock
                                        Margin="0"
                                        Padding="0"
                                        Style="{StaticResource MainFrame.TextBlock.01}"
                                        Text="{Binding FullName}" />
                                </StackPanel>
                            </DataTemplate>
                        </commonctrl:AxAutoComplete.ItemTemplate>
                    </commonctrl:AxAutoComplete>

                    <TextBlock
                        Grid.Row="4"
                        Grid.Column="5"
                        Margin="5,0,0,0"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Style="{StaticResource MainFrame.TextBlock.02}"
                        Text="{Binding Z2261_G1_LyDoChuyen, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}"
                        TextWrapping="Wrap"
                        Visibility="Collapsed" />
                    <TextBox
                        Grid.Row="4"
                        Grid.Column="6"
                        Grid.ColumnSpan="2"
                        Visibility="Collapsed" />
                </Grid>
            </Border>
        </Grid>
    </Expander>
</commonctrl:AxUserControl>
<UserControl x:Class="aEMR.Pharmacy.Views.ConfirmRecalHiOutPtView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             d:DesignHeight="800" d:DesignWidth="1000"
             xmlns:cal="http://www.caliburnproject.org"
             xmlns:AxControls="clr-namespace:aEMR.Controls;assembly=aEMR.Controls"
             xmlns:Converter="clr-namespace:aEMR.Common.Converters;assembly=aEMR.Common"
             xmlns:Resources="clr-namespace:eHCMSLanguage;assembly=aEMRLanguage">
    <UserControl.Resources>
        <Resources:eHCMSResources x:Key="eHCMSResources" />
        <BooleanToVisibilityConverter x:Key="BooleanToVisibility" />
        <Converter:BooleanToVisibilityNotConverter x:Key="BooleanToNotVisibility" />
        <Converter:InverseBoolConverter x:Key="InverseBoolConverter" />
        <DataTemplate x:Key="ColDeleteTemplate">
            <Button x:Name="lnkDelete"
                    cal:Message.Attach="[Event Click] = [Action lnkDelete_Click($source, $eventArgs)]"
                    ToolTipService.ToolTip="{Binding G2617_G1_Xoa,Source={StaticResource eHCMSResources}}"  
                    Style="{StaticResource MainFrame.HyperlinkButton.01}"
                    HorizontalAlignment="Center" VerticalAlignment="Center">
                <Image Source="/aEMR.CommonViews;component/Assets/Images/Delete.png"
                       Height="13" Width="13" Opacity="1" />
            </Button>
        </DataTemplate>
        <DataTemplate x:Key="TempThucXuat">
            <TextBlock Text="{Binding OutQuantity,Converter={StaticResource DecimalConverter}}"
                       TextAlignment="Right" VerticalAlignment="Center" FontWeight="Bold" />
        </DataTemplate>
        <DataTemplate x:Key="TempEditThucXuat">
            <AxControls:AxTextBox 
                x:Name="tbEDose" Margin="0"
                Text="{Binding OutQuantity,Mode=TwoWay,Converter={StaticResource DecimalConverter}}"
                TextAlignment="Right" BorderBrush="Transparent"
                Background="Transparent" FontWeight="Bold" />
        </DataTemplate>
        <DataTemplate x:Key="ColChooseLoTemplate">
            <Button x:Name="lnkChooseBatchNumber"
                    cal:Message.Attach="[Event Click] = [Action lnkChooseBatchNumber_Click($source, $eventArgs)]"
                    ToolTipService.ToolTip="{Binding Z0056_G1_ChonLoKhac,Source={StaticResource eHCMSResources}}"
                    Content="{Binding InBatchNumber,Mode=TwoWay}"
                    CommandParameter="{Binding GetDrugForSellVisitor.DrugID}"
                    HorizontalAlignment="Center" VerticalAlignment="Center"
                    Style="{StaticResource MainFrame.HyperlinkButton.02}" />
        </DataTemplate>
        <DataTemplate x:Key="grdPrescriptionTPL_SelectedDrugForPrescriptionBrandName">
            <TextBlock Text="{Binding GetDrugForSellVisitor.BrandName}"
                       HorizontalAlignment="Left" VerticalAlignment="Center"
                       Style="{StaticResource MainFrame.TextBlock.Auto}" />
        </DataTemplate>
        <DataTemplate x:Key="grdPrescriptionTPL_acbDrug">

            <!--<TextBlock Visibility="Collapsed" Text="{Binding SelectedDrugForPrescription.BrandName}" HorizontalAlignment="Left" VerticalAlignment="Center" Style="{StaticResource MainFrame.TextBlock.Auto}"/>-->

            <AxControls:AxAutoComplete 
                Name="acbDrug"
                IsTextCompletionEnabled="False"
                ScrollViewer.VerticalScrollBarVisibility="Auto"
                HorizontalAlignment="Stretch"
                Text="{Binding GetDrugForSellVisitor.BrandName}"
                Style="{StaticResource AxAutoCompleteMyStyle}"
                ValueMemberBinding="{Binding BrandName}"
                MinWidth="300"
                cal:Message.Attach="[Event Loaded] = [Action AutoDrug_Text_Loaded($source, $eventArgs)]
                ;[Event Populating] = [Action AutoCompleteBox_Populating($source, $eventArgs)]
                ;[Event DropDownClosed] = [Action AutoCompleteBox_DropDownClosed($source, $eventArgs)]"
                SelectedItem="{Binding GetDrugForSellVisitor,Mode=OneWay}"
                ItemContainerStyle="{StaticResource AxAutoCompleteBoxBkg}">
                <AxControls:AxAutoComplete.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Name="txtDrugName" Text="{Binding BrandName}"
                                       Style="{StaticResource MainFrame.TextBlock.Auto}"
                                       Margin="0" Padding="0" />
                            <TextBlock Text=" - "
                                       Style="{StaticResource MainFrame.TextBlock.Auto}"
                                       Margin="0" Padding="0" />
                            <TextBlock Text="{Binding S0610_G1_SLgTon, StringFormat='{}{0} :',Source={StaticResource eHCMSResources}}"
                                       Style="{StaticResource MainFrame.TextBlock.Auto}"
                                       Margin="0" Padding="0" />
                            <TextBlock Text="{Binding Remaining}" 
                                       Style="{StaticResource MainFrame.TextBlock.Auto}"
                                       Margin="0" Padding="0" />
                        </StackPanel>
                    </DataTemplate>
                </AxControls:AxAutoComplete.ItemTemplate>
            </AxControls:AxAutoComplete>

        </DataTemplate>

        <DataTemplate x:Key="AutoCompleteTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Name="txtDrugName" Text="{Binding BrandName}"
                           Style="{StaticResource MainFrame.TextBlock.Auto}"
                           Margin="0" Padding="0" />
                <TextBlock  Text=" - " Style="{StaticResource MainFrame.TextBlock.Auto}" />
                <TextBlock  Text="{Binding Remaining}"
                            Style="{StaticResource MainFrame.TextBlock.Auto}"
                            Margin="0" Padding="0" />
                <TextBlock  Text="{Binding UnitName}"
                            Style="{StaticResource MainFrame.TextBlock.Auto}"
                            Margin="10,0,0,0" Padding="0" />
            </StackPanel>
        </DataTemplate>
    </UserControl.Resources>
    <!--<toolkit:BusyIndicator HorizontalAlignment="Stretch"
                                         VerticalAlignment="Stretch"
                                         IsBusy="{Binding IsLoading, Mode=OneWay}"                                         
                                         DisplayAfter="0:0:0.100"
                                         Margin="0,0,0,10">-->
    <ScrollViewer CanContentScroll="True">
        <Grid x:Name="LayoutRoot" Background="White">
            <Grid.RowDefinitions>
                <RowDefinition Height="30"/>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <TextBlock x:Name="TitleForm"
                   Text="{Binding TitleForm}" Grid.ColumnSpan="3"
                   HorizontalAlignment="Center" VerticalAlignment="Center"
                   Foreground="#3595CB" FontSize="14" FontWeight="Bold" />
            <StackPanel Grid.Row="1" Grid.Column="0"
                    Margin="0,1" Grid.ColumnSpan="10"
                    HorizontalAlignment="Right" Orientation="Horizontal"
                    Visibility="{Binding mBanThuocTheoToa_ThongTin,Converter={StaticResource BooleanToVisibility}}" >
                <TextBlock HorizontalAlignment="Right"
                       Text="{Binding T2144_G1_Kho, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                       Style="{StaticResource MainFrame.TextBlock.00}"
                       Margin="20,1,1,1"  VerticalAlignment="Center" />
                <AxControls:KeyEnabledComboBox
                Name="comboBox1" Style="{StaticResource MainFrame.ComboBox}"
                Margin="1,1,10,1" SelectedValueEx="{Binding StoreID,Mode=TwoWay}"
                SelectedValuePath="StoreID"  DisplayMemberPath="swhlName"
                ItemsSource="{Binding StoreCbx}" IsTabStop="True"
                MinWidth="120" MaxWidth="200"
                cal:Message.Attach="[Event SelectionChanged] = [Action comboBox1_SelectionChanged($source, $eventArgs)]" />
                <TextBlock HorizontalAlignment="Right"
                       Text="{Binding N0194_G1_NhVien, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                       Style="{StaticResource MainFrame.TextBlock.00}"
                       Margin="1" VerticalAlignment="Center" />
                <TextBlock Name="StaffName" Margin="1,1,10,1"
                       HorizontalAlignment="Left" VerticalAlignment="Center"
                       TextWrapping="NoWrap" Grid.Row="1" Grid.Column="2"
                       Style="{StaticResource MainFrame.TextBlock.00}" />
            </StackPanel>
            <Grid  Grid.ColumnSpan="4" Grid.Row="2"
               Visibility="{Binding mBanThuocTheoToa_TimBN,Converter={StaticResource BooleanToVisibility}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="150*" MaxWidth="120" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="130*" MaxWidth="100" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="100*" MaxWidth="80" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Button x:Name="btnSearchPrescription" Grid.Column="0" HorizontalAlignment="Left"
                    Style="{StaticResource MainFrame.Button}"
                    Content="{Binding Z3027_G1_TimToa,Source={StaticResource eHCMSResources}}"
                    Width="100" Margin="2,1" ClickMode="Hover"
                    cal:Message.Attach="[Event MouseLeftButtonDown] = [Action btnClick_MouseLeftButtonDown($source, $eventArgs)]" />
                <Button x:Name="btnSearchInvoice" Grid.Column="1" 
                        HorizontalAlignment="Left"
                            Style="{StaticResource MainFrame.Button}"
                            Content="{Binding Z3028_G1_TimPhieuXuat,Source={StaticResource eHCMSResources}}"
                            Width="100" Margin="2,1"
                            ClickMode="Hover"
                            cal:Message.Attach="[Event MouseLeftButtonDown] = [Action btnClick_MouseLeftButtonDown_Invoice($source, $eventArgs)]" />
            </Grid>
            <Border  Width="Auto" Style="{StaticResource LightBlueBorderStyle}"
                 Margin="1" Grid.Row="3" Grid.Column="0">
                <Grid Height="auto" Width="Auto" ShowGridLines="False"
                  DataContext="{Binding SelectedOutInvoice}"
                  Visibility="{Binding mBanThuocTheoToa_ThongTin,Converter={StaticResource BooleanToVisibility}}">
                    <Grid.ColumnDefinitions >
                        <ColumnDefinition MinWidth="2" Width="2" />
                        <!--0.Full name label-->
                        <ColumnDefinition Width="Auto" />
                        <!--1.Full name label-->
                        <ColumnDefinition MinWidth="100" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto" />
                        <!--0.-->
                        <RowDefinition Height="auto" />
                        <!--1.-->
                        <RowDefinition Height="auto" />
                        <!--2.-->
                        <RowDefinition Height="auto" />
                        <!--3.-->
                        <RowDefinition Height="auto" />
                        <!--2.-->
                        <RowDefinition Height="auto" />
                    </Grid.RowDefinitions>

                    <!--Column 1-->
                    <TextBlock 
                    Text="{Binding G0656_G1_TTinPhXuat, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                    Margin="0,6,1,7" HorizontalAlignment="Left" VerticalAlignment="Center"
                    Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="1"
                    Style="{StaticResource MainFrame.TextBlock.00}" />
                    <TextBlock Text="{Binding G1691_G1_TThai, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Right" VerticalAlignment="Center"
                           Grid.Row="5" Grid.Column="1"
                           Style="{StaticResource MainFrame.TextBlock.01}" />
                    <TextBlock Text="{Binding T3534_G1_MaPhX, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Right" VerticalAlignment="Center"
                           Grid.Row="1" Grid.Column="1"
                           Style="{StaticResource MainFrame.TextBlock.01}" />
                    <TextBlock Text="{Binding N0130_G1_NgXuat, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Right" VerticalAlignment="Center" Grid.Row="3"
                           Grid.Column="1" Style="{StaticResource MainFrame.TextBlock.01}" />
                    <!--Column 2-->

                    <TextBlock Text="{Binding OutInvID}" x:Name="txtDOBBN"
                           HorizontalAlignment="Left" VerticalAlignment="Center"
                           TextWrapping="NoWrap" Grid.Row="1"  Grid.Column="2"
                           Style="{StaticResource MainFrame.TextBlock.02}" />
                    <DatePicker x:Name="txtPtCode" Margin="2,1"
                            HorizontalAlignment="Left" VerticalAlignment="Center"
                            Grid.Row="3" Grid.Column="2"
                            Style="{StaticResource MainFrame.DatePicker}"
                            SelectedDate="{Binding OutDate,TargetNullValue=null,Mode=TwoWay}"
                            Grid.ColumnSpan="3" IsEnabled="{Binding CanSaveAndPaidPrescript,Mode=OneWay}" />
                    <TextBlock Text="{Binding ElementName=LayoutRoot, Path=DataContext.strOutwardInvoiceStatus }"
                           Grid.Column="2" Grid.Row="5"
                           HorizontalAlignment="Left" VerticalAlignment="Center"
                           Style="{StaticResource MainFrame.TextBlock.00}" />

                    <Line Grid.ColumnSpan="8" Grid.Column="1" Grid.Row="2"
                      Fill="#FFF4F4F5" Height="1" Stroke="#FFCCCCCC"
                      VerticalAlignment="Top" HorizontalAlignment="Stretch" />
                    <Line Grid.ColumnSpan="8" Grid.Column="1" Grid.Row="4"
                      Fill="#FFF4F4F5" Height="1" Stroke="#FFCCCCCC"
                      VerticalAlignment="Top" HorizontalAlignment="Stretch" />
                </Grid>
            </Border>
            <Border Width="Auto" Style="{StaticResource LightBlueBorderStyle}"
                Margin="1,1,1,1"  Grid.Row="3" Grid.Column="1">
                <Grid Height="Auto" Width="Auto" ShowGridLines="False"
                  Visibility="{Binding mBanThuocTheoToa_ThongTin,Converter={StaticResource BooleanToVisibility}}">
                    <Grid.ColumnDefinitions >
                        <ColumnDefinition MinWidth="2"  Width="2" />
                        <!--0.Full name label-->
                        <ColumnDefinition  Width="Auto" />
                        <!--1.Full name label-->
                        <ColumnDefinition MinWidth="100" Width="120*" />
                        <!--2.Full name value-->
                        <ColumnDefinition MinWidth="45" Width="45" />
                        <!--3.Age name label-->
                        <ColumnDefinition MinWidth="30" Width="60" />
                        <!--4.Age name value-->
                        <ColumnDefinition Width="Auto" />
                        <!--5.Gender lable-->
                        <ColumnDefinition MinWidth="100" Width="160*" />
                        <ColumnDefinition MinWidth="100" Width="300" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto" />
                        <!--0.-->
                        <RowDefinition Height="auto" />
                        <!--1.-->
                        <RowDefinition Height="auto" />
                        <!--2.-->
                        <RowDefinition Height="auto" />
                        <!--3.-->
                        <RowDefinition Height="auto" />
                        <!--2.-->
                        <RowDefinition Height="auto" />
                    </Grid.RowDefinitions>

                    <StackPanel Orientation="Horizontal" Grid.Column="3" Grid.ColumnSpan="4">
                        <TextBlock Text="{Binding T2687_G1_LoaiBN, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                               Margin="0,6,1,7" />
                        <TextBlock Text="{Binding SelectedPrescription.V_RegistrationType}"
                               Margin="0,6,1,7" />
                        <!--<CheckBox Content="{Binding K1287_G1_BNNgTru,Source={StaticResource eHCMSResources}}" Grid.Column="3" Grid.ColumnSpan="3" HorizontalAlignment="Stretch" Name="chkIsOutPt" VerticalAlignment="Center" Style="{StaticResource MainFrame.Checkbox}" Margin="0,6,1,7" Height="16" IsEnabled="False"/>-->
                        <CheckBox Content="{Binding T2497_G1_KhongTinhBH,Source={StaticResource eHCMSResources}}"
                              Grid.Column="3" Grid.ColumnSpan="3"
                              HorizontalAlignment="Stretch" VerticalAlignment="Center"
                              Style="{StaticResource MainFrame.Checkbox}"
                              Margin="5,0,0,0" x:Name="chbBH"
                              cal:Message.Attach="[Event Checked] = [Action CheckBoxBH_Checked($source, $eventArgs)];
                              [Event Unchecked] = [Action CheckBoxBH_Unchecked($source, $eventArgs)]"
                              VerticalContentAlignment="Bottom" />
                        <CheckBox Content="{Binding T2458_G1_KhongCapSTT,Source={StaticResource eHCMSResources}}"
                              Grid.Column="3" Grid.ColumnSpan="3"
                              HorizontalAlignment="Stretch" VerticalAlignment="Center"
                              Style="{StaticResource MainFrame.Checkbox}" Margin="5,0,0,0"
                              IsChecked="{Binding SelectedOutInvoice.IsUpdate,Mode=TwoWay,TargetNullValue=false}"
                              IsThreeState="False" VerticalContentAlignment="Bottom" />
                    </StackPanel>

                    <!--Column 1-->
                    <TextBlock Text="{Binding G0525_G1_TTinBN, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Left" VerticalAlignment="Center"
                           Grid.ColumnSpan="2" Grid.Row="0" Grid.Column="1"
                           Style="{StaticResource MainFrame.TextBlock.00}" />
                    <TextBlock Text="{Binding T1567_G1_HoTen, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Right" VerticalAlignment="Center"
                           Grid.Row="1" Grid.Column="1"
                           Style="{StaticResource MainFrame.TextBlock.01}" />
                    <TextBlock Text="{Binding N0107_G1_NgSinh, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Right" VerticalAlignment="Center"
                           Grid.Row="3" Grid.Column="1"
                           Style="{StaticResource MainFrame.TextBlock.01}" />

                    <!--Column 2-->
                    <TextBlock Text="{Binding PatientInfo.FullName}"
                           x:Name="txtFullName" HorizontalAlignment="Left"
                           VerticalAlignment="Center" TextWrapping="NoWrap"
                           Grid.Row="1" Grid.Column="2"
                           Style="{StaticResource MainFrame.TextBlock.Title}"
                           Grid.ColumnSpan="3" />
                    <TextBlock Text="{Binding PatientInfo.DOBText}"
                           x:Name="txtDOB" HorizontalAlignment="Left"
                           VerticalAlignment="Center" TextWrapping="NoWrap"
                           Grid.Row="3" Grid.Column="2"
                           Style="{StaticResource MainFrame.TextBlock.02}" />
                    <TextBlock Text="{Binding PatientInfo.PatientCode}"
                           x:Name="txtPtCodeBN" HorizontalAlignment="Left"
                           VerticalAlignment="Center" TextWrapping="NoWrap"
                           Grid.Row="3"  Grid.Column="6"
                           Style="{StaticResource MainFrame.TextBlock.02}"
                           Grid.ColumnSpan="3" />

                    <!--Column 3-->
                    <TextBlock Text="{Binding G2057_G1_Tuoi, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Right" VerticalAlignment="Center"
                           Grid.Row="3" Grid.Column="3"
                           Style="{StaticResource MainFrame.TextBlock.01}" />
                    <TextBlock Text="{Binding K1232_G1_BHTra, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Right" VerticalAlignment="Center"
                           Grid.Row="5" Grid.Column="3"
                           Style="{StaticResource MainFrame.TextBlock.01}" />
                    <!--Column 4-->
                    <TextBlock Text="{Binding PatientInfo.AgeString}" x:Name="txtAge"
                           HorizontalAlignment="Left" VerticalAlignment="Center" 
                           TextWrapping="NoWrap" Grid.Row="3" Grid.Column="4"
                           Style="{StaticResource MainFrame.TextBlock.02}" />
                    <TextBlock Text="{Binding ValueQuyenLoiBH,Converter={StaticResource PercentageConverter}}"
                           HorizontalAlignment="Left" VerticalAlignment="Center"
                           TextWrapping="NoWrap" Grid.Row="5" Grid.Column="4"
                           Style="{StaticResource MainFrame.TextBlock.02}" Foreground="Red" />
                    <!--Column 5-->
                    <TextBlock Text="{Binding T1223_G1_GTinh, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Right" VerticalAlignment="Center"
                           Grid.Row="1" Grid.Column="5"
                           Style="{StaticResource MainFrame.TextBlock.01}" />
                    <TextBlock Text="{Binding S0693_G1_SoTheBHYT, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Right" VerticalAlignment="Center"
                           Grid.Row="5" Grid.Column="1"
                           Style="{StaticResource MainFrame.TextBlock.01}" />
                    <TextBlock Text="{Binding T3230_G1_MaBN, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Right" VerticalAlignment="Center"
                           Grid.Row="3" Grid.Column="5"
                           Style="{StaticResource MainFrame.TextBlock.01}" />
                    <TextBlock Text="{Binding N0072_G1_NgHetHan, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Right" VerticalAlignment="Center"
                           Grid.Row="5" Grid.Column="5"
                           Style="{StaticResource MainFrame.TextBlock.01}" />

                    <!--Column 6-->
                    <TextBlock Text="{Binding PatientInfo.GenderString}"
                           x:Name="txtGender" HorizontalAlignment="Left"
                           VerticalAlignment="Center" TextWrapping="NoWrap"
                           Grid.Row="1" Grid.Column="6"
                           Style="{StaticResource MainFrame.TextBlock.02}" />
                    <TextBlock Text="{Binding PatientInfo.CurrentHealthInsurance.HICardNo}"
                           x:Name="txtHICardNumber" HorizontalAlignment="Left"
                           VerticalAlignment="Center" TextWrapping="NoWrap"
                           Grid.Row="5"  Grid.Column="2"
                           Style="{StaticResource MainFrame.TextBlock.02}" />
                    <TextBlock Text="{Binding PatientInfo.CurrentHealthInsurance.ValidDateTo,StringFormat='dd/MM/yyyy'}"
                           HorizontalAlignment="Left" VerticalAlignment="Center"
                           TextWrapping="NoWrap" Grid.Row="5" Grid.Column="6" Grid.ColumnSpan="3"
                           Style="{StaticResource MainFrame.TextBlock.02}"
                           FontWeight="Bold" Foreground="Red" />

                    <Line Grid.ColumnSpan="8" Grid.Column="1" Grid.Row="2"
                      Fill="#FFF4F4F5" Height="1" Stroke="#FFCCCCCC"
                      VerticalAlignment="Top" HorizontalAlignment="Stretch" />
                    <Line Grid.ColumnSpan="8" Grid.Column="1" Grid.Row="4"
                      Fill="#FFF4F4F5" Height="1" Stroke="#FFCCCCCC"
                      VerticalAlignment="Top" HorizontalAlignment="Stretch" />
                    <!--Column 7-->
                    <TextBlock Text="{Binding K1746_G1_CDoan, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Right"
                           Grid.Row="0" Grid.Column="6"
                           Style="{StaticResource MainFrame.TextBlock.01}" />
                    <TextBlock Text="{Binding SelectedPrescription.ObjDiagnosisTreatment.DiagnosisFinal}"
                           x:Name="txtDiagnosisTreatment"
                           HorizontalAlignment="Left"
                           TextWrapping="WrapWithOverflow"
                           FontSize="13"
                           Grid.Row="0" Grid.Column="7" Grid.RowSpan="8"
                           Style="{StaticResource MainFrame.TextBlock.02}" />
                </Grid>
            </Border>
            <Border  Width="Auto" Style="{StaticResource LightBlueBorderStyle}"
                 Margin="1,1,1,1" Grid.Row="3" Grid.Column="2">
                <Grid Height="Auto" Width="Auto" ShowGridLines="False"
                  DataContext="{Binding SelectedPrescription}"
                  Visibility="{Binding mBanThuocTheoToa_ThongTin,Converter={StaticResource BooleanToVisibility}}">
                    <Grid.ColumnDefinitions >
                        <ColumnDefinition Width="2" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition MinWidth="100" />
                        <ColumnDefinition Width="2" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto" />
                        <!--0.-->
                        <RowDefinition Height="auto" />
                        <!--1.-->
                        <RowDefinition Height="auto" />
                        <!--2.-->
                        <RowDefinition Height="auto" />
                        <!--3.-->
                        <RowDefinition Height="auto" />
                        <!--2.-->
                        <RowDefinition Height="auto" />
                    </Grid.RowDefinitions>
                    <!--Column 1-->
                    <TextBlock Text="{Binding G0510_G1_TTinBSi, StringFormat='{}{0}:',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Left" VerticalAlignment="Center"
                           Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="2"
                           Style="{StaticResource MainFrame.TextBlock.00}" Margin="0,6,1,7" />
                    <TextBlock Text="{Binding T1567_G1_HoTen, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Right" VerticalAlignment="Center"
                           Grid.Row="1" Grid.Column="1"
                           Style="{StaticResource MainFrame.TextBlock.01}" />
                    <TextBlock Text="{Binding N0103_G1_NgRaToa, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Right" VerticalAlignment="Center"
                           Grid.Row="3" Grid.Column="1"
                           Style="{StaticResource MainFrame.TextBlock.01}" />
                    <TextBlock Text="{Binding Z0002_G1_MaToaThuoc, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Right" VerticalAlignment="Center"
                           Grid.Row="5" Grid.Column="1"
                           Style="{StaticResource MainFrame.TextBlock.01}" />
                    <!--Column 2-->
                    <!--<TextBlock Text="{Binding DiagTrmtItem.PatientServiceRecord.Staff.FullName, Mode=OneWay}"  x:Name="txtDoctorName"  HorizontalAlignment="Left" VerticalAlignment="Center" TextWrapping="NoWrap" Grid.Row="1"  Grid.Column="2" Style="{StaticResource MainFrame.TextBlock.00}" />
                    <TextBlock Text="{Binding DiagTrmtItem.PatientServiceRecord.Staff.SPhoneNumber, Mode=OneWay}" x:Name="txtDrPhoneNumber"  HorizontalAlignment="Left" VerticalAlignment="Center" TextWrapping="NoWrap" Grid.Row="3"  Grid.Column="2" Style="{StaticResource MainFrame.TextBlock.02}" />
    				<Line Grid.ColumnSpan="8" Grid.Column="1" Grid.Row="2" Fill="#FFF4F4F5" Height="1" Stroke="#FFCCCCCC" VerticalAlignment="Top" HorizontalAlignment="Stretch"/>-->

                    <TextBlock Text="{Binding ObjIssuerStaffID.FullName, Mode=OneWay}"
                           x:Name="txtDoctorName" HorizontalAlignment="Left"
                           VerticalAlignment="Center" TextWrapping="NoWrap"
                           Grid.Row="1" Grid.Column="2"
                           Style="{StaticResource MainFrame.TextBlock.00}" />
                    <TextBlock Text="{Binding IssuedDateTime, Mode=OneWay,StringFormat='dd/MM/yyyy HH:mm:ss'}"
                           x:Name="txtIssuedDateTime" HorizontalAlignment="Left"
                           VerticalAlignment="Center" TextWrapping="NoWrap"
                           Grid.Row="3" Grid.Column="2"
                           Style="{StaticResource MainFrame.TextBlock.02}" />
                    <TextBlock Text="{Binding PrescriptionIssueCode, Mode=OneWay}"
                           x:Name="txtPrescriptionIssueCode" HorizontalAlignment="Left"
                           VerticalAlignment="Center" TextWrapping="NoWrap"
                           Grid.Row="5" Grid.Column="2"
                           Style="{StaticResource MainFrame.TextBlock.Title}" Grid.ColumnSpan="3" />

                    <Line Grid.ColumnSpan="8" Grid.Column="1" Grid.Row="2"
                      Fill="#FFF4F4F5" Height="1" Stroke="#FFCCCCCC"
                      VerticalAlignment="Top" HorizontalAlignment="Stretch" />
                    <Line Grid.ColumnSpan="8" Grid.Column="1" Grid.Row="4"
                      Fill="#FFF4F4F5" Height="1" Stroke="#FFCCCCCC"
                      VerticalAlignment="Top" HorizontalAlignment="Stretch" />
                </Grid>
            </Border>
            <Border Margin="2" Style="{StaticResource LightBlueBorderStyle}"
                Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="3">
                <AxControls:AxGrid Visibility="{Binding mBanThuocTheoToa_SuaToaThuoc,Converter={StaticResource BooleanToVisibility}}" 
                               cal:Message.Attach="[Event Loaded] = [Action AxGrid_Loaded($source,$eventArgs)]">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="24" />
                        <RowDefinition Height="24" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="80*" MaxWidth="100" />
                        <ColumnDefinition Width="240*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="60*" MaxWidth="100" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="80*" MaxWidth="120" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="60*" MaxWidth="120" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <StackPanel Orientation="Horizontal" Grid.ColumnSpan="12">
                        <TextBlock Margin="5,2,2,2"
                               HorizontalAlignment="Left" VerticalAlignment="Center"
                               Text="{Binding N0062_G1_NgDung, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                               Style="{StaticResource MainFrame.TextBlock.01}" />
                        <AxControls:AxTextBox
                        Text="{Binding strNgayDung,Mode=TwoWay}" Margin="2,1"
                        Style="{StaticResource MainFrame.TextBox}" TextAlignment="Right"
                        IsEnabled="{Binding SelectedOutInvoice.CanSaveAndPaidPrescript,Mode=OneWay}"
                        Width="60" />
                        <Button Name="btnNgayDung_New"
                            Content="{Binding O0303_G1_OK,Source={StaticResource eHCMSResources}}"
                            Grid.Column="2" Margin="2,1" Width="Auto"
                            IsEnabled="{Binding SelectedOutInvoice.CanSaveAndPaidPrescript,Mode=OneWay}" />
                        <Border Style="{StaticResource LightBlueBorderStyleSmall}">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <RadioButton GroupName="rdtDMBH"
                                         Content="{Binding T0822_G1_TatCa,Source={StaticResource eHCMSResources}}"
                                         IsChecked="True" HorizontalAlignment="Left"
                                         VerticalAlignment="Center" Margin="2,1"
                                         cal:Message.Attach="[Event Checked] = [Action RadioButton1_Checked($source, $eventArgs)]" />
                                <RadioButton GroupName="rdtDMBH"
                                         Content="{Binding G0864_G1_ThuocDMBH,Source={StaticResource eHCMSResources}}"
                                         HorizontalAlignment="Left" VerticalAlignment="Center" Margin="2,1"
                                         cal:Message.Attach="[Event Checked] = [Action RadioButton2_Checked($source, $eventArgs)]" />
                                <RadioButton GroupName="rdtDMBH"
                                         Content="{Binding N0143_G1_NgoaiDMBH,Source={StaticResource eHCMSResources}}"
                                         HorizontalAlignment="Left" VerticalAlignment="Center" Margin="2,1"
                                         cal:Message.Attach="[Event Checked] = [Action RadioButton3_Checked($source, $eventArgs)]" />
                            </StackPanel>
                        </Border>
                        <TextBlock Margin="5,2,2,2" HorizontalAlignment="Left" VerticalAlignment="Center"
                               Text="{Binding N0092_G1_NgNhanThuocBH, StringFormat='{}{0}: ',Source={StaticResource eHCMSResources}}"
                               Style="{StaticResource MainFrame.TextBlock.01}" />
                        <TextBlock Text="{Binding NgayBHGanNhat,Mode=OneWay,StringFormat='dd/MM/yyyy HH:mm:ss'}" Margin="3"
                               Style="{StaticResource TBlock.Heading.01}"
                               FontWeight="Bold" Foreground="Red" />
                        <TextBlock Margin="5,2,2,2" HorizontalAlignment="Left" VerticalAlignment="Center"
                               Text="{Binding N0281_G1_NhVienBanThuoc, StringFormat='{}{0} ',Source={StaticResource eHCMSResources}}"
                               Style="{StaticResource MainFrame.TextBlock.01}" />
                        <AxControls:AxTextBox Text="{Binding Seller,Mode=OneWay}" Margin="2,1"
                                          Style="{StaticResource MainFrame.TextBox}"
                                          IsEnabled="False" MinWidth="120" FontWeight="Bold" />

                    </StackPanel>
                    <StackPanel Orientation="Horizontal" Grid.Row="1">
                        <TextBlock Margin="2,1"
                               Text="{Binding K2170_G1_ChonThuoc, StringFormat='{}{0}:',Source={StaticResource eHCMSResources}}"
                               Style="{StaticResource MainFrame.TextBlock.02}" VerticalAlignment="Center" />
                        <RadioButton Content="{Binding K2569_G1_Code,Source={StaticResource eHCMSResources}}"
                                 Margin="2,1" GroupName="ChooseDrug"
                                 cal:Message.Attach="[Event Checked]=[Action Code_Checked($source,$eventArgs)]"
                                 IsEnabled="{Binding SelectedOutInvoice.CanSaveAndPaidPrescript,Mode=OneWay}" VerticalAlignment="Center" />
                        <RadioButton Content="{Binding T0829_G1_Ten,Source={StaticResource eHCMSResources}}"
                                 Margin="2,1" GroupName="ChooseDrug" IsChecked="True"
                                 cal:Message.Attach="[Event Checked]=[Action Name_Checked($source,$eventArgs)]"
                                 IsEnabled="{Binding SelectedOutInvoice.CanSaveAndPaidPrescript,Mode=OneWay}"
                                 VerticalAlignment="Center" />
                    </StackPanel>
                    <AxControls:AxTextBox 
                    Grid.Row="1" Grid.Column="1" Margin="2,1"
                    Style="{StaticResource MainFrame.TextBox}"
                    Text="{Binding SelectedSellVisitor.DrugCode,Mode=TwoWay}"
                    cal:Message.Attach="[Event LostFocus] = [Action AxTextBox_LostFocus($source, $eventArgs)];
                    [Event Loaded] = [Action AxTextBox_Loaded($source, $eventArgs)]"
                    IsEnabled="{Binding VisibilityCode,Mode=OneWay}" />
                    <AxControls:AxAutoComplete
                    Grid.Row="1" Text="{Binding SelectedSellVisitor.BrandName}"
                    x:Name="AutoDrug_Text" Grid.Column="2"
                    Margin="2,1" IsTabStop="False"
                    ValueMemberBinding="{Binding BrandName, Mode=TwoWay}"
                    cal:Message.Attach="[Event Populating] = [Action AutoCompleteBox_Populating($source, $eventArgs)];
                    [Event DropDownClosed] = [Action AutoDrug_Text_DropDownClosed($source, $eventArgs)];
                    [Event Loaded] = [Action AutoDrug_Text_Loaded($source, $eventArgs)]"
                    TextBoxStyle="{StaticResource MainFrame.TextBox}" FontWeight="Bold"
                    IsEnabled="{Binding VisibilityName,Mode=OneWay}" SelectedItem="{Binding SelectedSellVisitor,Mode=TwoWay}"
                    Style="{StaticResource AxAutoCompleteMyStyle}"  ItemTemplate="{StaticResource AutoCompleteTemplate}" />

                    <TextBlock Grid.Row="1" Margin="2,1" Grid.Column="3"
                           HorizontalAlignment="Right" VerticalAlignment="Center"
                           Text="{Binding S0612_G1_SLgXuat,Source={StaticResource eHCMSResources}}"
                           Style="{StaticResource MainFrame.TextBlock.01}" />
                    <AxControls:AxTextBox 
                    Grid.Row="1" Grid.Column="4" Margin="2,1"
                    Style="{StaticResource MainFrame.TextBox}" TextAlignment="Right"
                    Text="{Binding SelectedSellVisitor.RequiredNumber,Mode=TwoWay}"
                    IsEnabled="{Binding SelectedOutInvoice.CanSaveAndPaidPrescript,Mode=OneWay}"
                    cal:Message.Attach="[Event Loaded] = [Action Quantity_Loaded($source, $eventArgs)]" />
                    <TextBlock Grid.Row="1" Margin="2,1" Grid.Column="5"
                           HorizontalAlignment="Right" VerticalAlignment="Center"
                           Text="{Binding K3966_G1_Dvt,Source={StaticResource eHCMSResources}}"
                           Style="{StaticResource MainFrame.TextBlock.01}" />
                    <TextBox Grid.Row="1" Grid.Column="6" Margin="2,1"
                         Style="{StaticResource MainFrame.TextBox}"
                         Text="{Binding SelectedSellVisitor.UnitName,Mode=OneWay}"
                         IsEnabled="False" />
                    <TextBlock Grid.Row="1" Margin="2,1" Grid.Column="7"
                           HorizontalAlignment="Right" VerticalAlignment="Center"
                           Text="{Binding G1455_G1_Ton,Source={StaticResource eHCMSResources}}"
                           Style="{StaticResource MainFrame.TextBlock.01}" />
                    <AxControls:AxTextBox
                    Grid.Row="1" Grid.Column="8" Margin="2,1"
                    Style="{StaticResource MainFrame.TextBox}" TextAlignment="Right"
                    Text="{Binding SelectedSellVisitor.Remaining,Converter={StaticResource DecimalConverter}}"
                    IsEnabled="False" />
                    <!--<TextBlock Grid.Row="1" Margin="2,1" Grid.Column="9"   HorizontalAlignment="Right" VerticalAlignment="Center" Text="{Binding G0145_G1_ThayCho,Source={StaticResource eHCMSResources}}" Style="{StaticResource MainFrame.TextBlock.01}"/>
                    <AxControls:KeyEnabledComboBox Grid.Column="10" Grid.Row="1" Style="{StaticResource MainFrame.ComboBox}" Margin="1,1,10,1" SelectedItemEx="{Binding DrugInPrescriptionItem,Mode=TwoWay}" SelectedValuePath="DrugID"  DisplayMemberPath="BrandName" ItemsSource="{Binding lstDrugInPrescription}" IsTabStop="True" MinWidth="120" MaxWidth="200" />-->

                    <Button Content="{Binding G0156_G1_Them,Source={StaticResource eHCMSResources}}"
                        Grid.Row="1" Grid.Column="11" Margin="2,1"
                        HorizontalAlignment="Left" Name="AddItem"
                        VerticalAlignment="Center" Width="75" Style="{StaticResource MainFrame.Button}"
                        IsEnabled="{Binding SelectedOutInvoice.CanSaveAndPaidPrescript,Mode=OneWay}" 
                        cal:Message.Attach="[Event Click]=[Action AddItem_Click($source,$eventArgs)];[Event PreviewKeyDown]=[Action AddItem_PreviewKeyDown($source,$eventArgs)]"
                        />
                </AxControls:AxGrid>
            </Border>
            <AxControls:AxDataGridNy
            AutoGenerateColumns="False" Grid.Row="5" VerticalAlignment="Top"
            Grid.Column="0" Grid.ColumnSpan="7" Name="grdPrescription"
            HeadersVisibility="All"
            HorizontalScrollBarVisibility="Auto"
            VerticalScrollBarVisibility="Auto" MaxHeight="300"
            ItemsSource="{Binding SelectedOutInvoice.OutwardDrugs}"
            ColumnHeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
            Style="{StaticResource MainFrame.DataGridStyle}"
            cal:Message.Attach="[Event LoadingRow] = [Action grdPrescription_LoadingRow($source, $eventArgs)];
            [Event Loaded] = [Action grdPrescription_Loaded($source, $eventArgs)];
            [Event RowEditEnding] = [Action grdPrescription_RowEditEnding($source, $eventArgs)]"
            IsReadOnly="{Binding SelectedOutInvoice.CanSaveAndPaidPrescript,Converter={StaticResource InverseBoolConverter}}"
            SelectedItem="{Binding SelectedOutwardDrug,Mode=TwoWay}" CanUserSortColumns="False"
            Visibility="{Binding IsConfirmHIView,Converter={StaticResource BooleanToNotVisibility}}">
                <DataGrid.Columns>
                    <DataGridTemplateColumn 
                    CellTemplate="{StaticResource ColDeleteTemplate}"
                    IsReadOnly="True" />
                    <DataGridCheckBoxColumn
                    Header="{Binding K1209_G1_BH,Source={StaticResource eHCMSResources}}"
                    Width="Auto" Binding="{Binding HI,Mode=OneWay}" IsReadOnly="True" />
                    <DataGridTextColumn
                    Binding="{Binding  GetDrugForSellVisitor.BrandName,Mode=OneWay}"
                    ElementStyle="{StaticResource MainFrame.TextBlockLeftAlign}"
                    IsReadOnly="True"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    Header="{Binding T0904_G1_TenThuoc,Source={StaticResource eHCMSResources}}" />
                    <DataGridTextColumn
                    Binding="{Binding GetDrugForSellVisitor.Content}"
                    ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    IsReadOnly="True" Header="{Binding T1316_G1_HLg,Source={StaticResource eHCMSResources}}" />
                    <DataGridTextColumn
                    Header="{Binding K3966_G1_Dvt,Source={StaticResource eHCMSResources}}"
                    Binding="{Binding GetDrugForSellVisitor.UnitName}"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}"
                    IsReadOnly="True" />
                    <DataGridTextColumn
                    Header="{Binding S0620_G1_SLgYC,Source={StaticResource eHCMSResources}}"
                    Binding="{Binding QtyOffer,Converter={StaticResource DecimalConverter}}"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockRightAlign}"
                    IsReadOnly="True" />
                    <DataGridTemplateColumn
                    Header="{Binding G0771_G1_ThucXuat,Source={StaticResource eHCMSResources}}"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    CellTemplate="{StaticResource TempThucXuat}"
                    CellEditingTemplate="{StaticResource TempEditThucXuat}" />
                    <DataGridTemplateColumn
                    Header="{Binding T2628_G1_LoSX,Source={StaticResource eHCMSResources}}"
                    CellTemplate="{StaticResource ColChooseLoTemplate}"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    IsReadOnly="True" />
                    <DataGridTextColumn
                    Binding="{Binding OutPrice,Converter={StaticResource DecimalConverter}}"
                    IsReadOnly="True"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    Header="{Binding T0860_G1_GiaBan,Source={StaticResource eHCMSResources}}"
                    ElementStyle="{StaticResource MainFrame.TextBlockRightAlign}" />
                    <DataGridTextColumn
                    Binding="{Binding ChargeableItem.HIAllowedPrice,Mode=OneWay,Converter={StaticResource DecimalConverter}}"
                    IsReadOnly="True"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    Header="{Binding T0895_G1_GiaBH,Source={StaticResource eHCMSResources}}"
                    ElementStyle="{StaticResource MainFrame.TextBlockRightAlign}" />
                    <DataGridTextColumn
                    Binding="{Binding TotalPrice,Mode=OneWay,Converter={StaticResource DecimalConverter}}"
                    Header="{Binding G0085_G1_TTien,Source={StaticResource eHCMSResources}}"
                    IsReadOnly="True"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockRightAlign}" />
                    <DataGridTextColumn
                    Binding="{Binding TotalHIPayment,Mode=OneWay,Converter={StaticResource DecimalConverter}}"
                    Header="{Binding K1232_G1_BHTra,Source={StaticResource eHCMSResources}}"
                    IsReadOnly="True"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockRightAlign}" />
                    <DataGridTextColumn
                    Binding="{Binding TotalPatientPayment,Mode=OneWay,Converter={StaticResource DecimalConverter}}"
                    Header="{Binding T2090_G1_KHTra,Source={StaticResource eHCMSResources}}"
                    IsReadOnly="True"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockRightAlign}" />
                    <DataGridTextColumn
                    Binding="{Binding InExpiryDate,Mode=OneWay,StringFormat='dd/MM/yyyy'}"
                    Header="{Binding T1363_G1_HDung,Source={StaticResource eHCMSResources}}"
                    IsReadOnly="True"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}" />
                    <DataGridTextColumn
                    Binding="{Binding SdlDescription,Mode=OneWay}"
                    Header="{Binding G2209_G1_ViTri,Source={StaticResource eHCMSResources}}"
                    IsReadOnly="True"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}" />
                </DataGrid.Columns>
            </AxControls:AxDataGridNy>
            <AxControls:AxDataGridNy 
            AutoGenerateColumns="False" Grid.Row="5" VerticalAlignment="Top"
            Grid.Column="0" Grid.ColumnSpan="7" HeadersVisibility="All"
            HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto"
            MaxHeight="300" ItemsSource="{Binding CV_Prescriptions}"
            ColumnHeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
            Style="{StaticResource MainFrame.DataGridStyle}"
            cal:Message.Attach="[Event LoadingRow] = [Action grdPrescription_LoadingRow($source, $eventArgs)];
            [Event Loaded] = [Action grdPrescriptionCV_Loaded($source, $eventArgs)];
            [Event RowEditEnding] = [Action grdPrescription_RowEditEnding($source, $eventArgs)]"
            IsReadOnly="{Binding SelectedOutInvoice.CanSaveAndPaidPrescript,Converter={StaticResource InverseBoolConverter}}"
            CanUserSortColumns="False"
            Visibility="{Binding IsConfirmHIView,Converter={StaticResource BooleanToVisibility}}"
            SelectedItem="{Binding SelectedOutwardDrug,Mode=TwoWay}">
                <DataGrid.Columns>
                    <DataGridTemplateColumn 
                    CellTemplate="{StaticResource ColDeleteTemplate}" IsReadOnly="True" />
                    <DataGridCheckBoxColumn
                    Header="{Binding K1209_G1_BH,Source={StaticResource eHCMSResources}}"
                    Width="Auto" Binding="{Binding HI,Mode=OneWay}" IsReadOnly="True" />
                    <DataGridTextColumn
                    Binding="{Binding  GetDrugForSellVisitor.BrandName,Mode=OneWay}"
                    ElementStyle="{StaticResource MainFrame.TextBlockLeftAlign}"
                    IsReadOnly="True"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    Header="{Binding T0904_G1_TenThuoc,Source={StaticResource eHCMSResources}}" />
                    <DataGridTextColumn
                    Binding="{Binding GetDrugForSellVisitor.Content}"
                    ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    IsReadOnly="True" 
                    Header="{Binding T1316_G1_HLg,Source={StaticResource eHCMSResources}}" />
                    <DataGridTextColumn
                    Header="{Binding K3966_G1_Dvt,Source={StaticResource eHCMSResources}}"
                    Binding="{Binding GetDrugForSellVisitor.UnitName}"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}"
                    IsReadOnly="True" />
                    <DataGridTextColumn 
                    Header="{Binding S0532_G1_S,Source={StaticResource eHCMSResources}}"
                    Binding="{Binding PrescriptionDetailObj.MDoseStr}"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}"
                    IsReadOnly="True"
                    AxControls:DataGridColNamingUtil.ColName="colMDoseStr" />
                    <DataGridTextColumn
                    Header="{Binding T0748_G1_T,Source={StaticResource eHCMSResources}}"
                    Binding="{Binding PrescriptionDetailObj.ADoseStr}"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}"
                    IsReadOnly="True"
                    AxControls:DataGridColNamingUtil.ColName="colADoseStr" />
                    <DataGridTextColumn 
                    Header="{Binding R0094_G1_C,Source={StaticResource eHCMSResources}}"
                    Binding="{Binding PrescriptionDetailObj.EDoseStr}"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}"
                    IsReadOnly="True"
                    AxControls:DataGridColNamingUtil.ColName="colEDoseStr" />
                    <DataGridTextColumn
                    Header="{Binding T0748_G1_T,Source={StaticResource eHCMSResources}}"
                    Binding="{Binding PrescriptionDetailObj.NDoseStr}"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}"
                    IsReadOnly="True"
                    AxControls:DataGridColNamingUtil.ColName="colNDoseStr" />
                    <DataGridTextColumn
                    Header="{Binding N0042_G1_NG,Source={StaticResource eHCMSResources}}"
                    Binding="{Binding PrescriptionDetailObj.DayRpts}"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}"
                    IsReadOnly="True"
                    AxControls:DataGridColNamingUtil.ColName="colDayRpts" />
                    <DataGridTextColumn
                    Header="{Binding S0620_G1_SLgYC,Source={StaticResource eHCMSResources}}"
                    Binding="{Binding QtyOffer,Converter={StaticResource DecimalConverter}}"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockRightAlign}"
                    IsReadOnly="True" />
                    <DataGridTemplateColumn
                    Header="{Binding G0771_G1_ThucXuat,Source={StaticResource eHCMSResources}}"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    CellTemplate="{StaticResource TempThucXuat}"
                    CellEditingTemplate="{StaticResource TempEditThucXuat}" />
                    <DataGridTemplateColumn
                    Header="{Binding T2628_G1_LoSX,Source={StaticResource eHCMSResources}}"
                    CellTemplate="{StaticResource ColChooseLoTemplate}"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    IsReadOnly="True" />
                    <DataGridTextColumn
                    Binding="{Binding OutPrice,Converter={StaticResource DecimalConverter}}"
                    IsReadOnly="True"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    Header="{Binding T0860_G1_GiaBan,Source={StaticResource eHCMSResources}}"
                    ElementStyle="{StaticResource MainFrame.TextBlockRightAlign}" />
                    <DataGridTextColumn
                    Binding="{Binding HIAllowedPrice,Mode=OneWay,Converter={StaticResource DecimalConverter}}"
                    IsReadOnly="True"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    Header="{Binding T0895_G1_GiaBH,Source={StaticResource eHCMSResources}}"
                    ElementStyle="{StaticResource MainFrame.TextBlockRightAlign}" />
                    <DataGridTextColumn
                    Binding="{Binding TotalPrice,Mode=OneWay,Converter={StaticResource DecimalConverter}}"
                    Header="{Binding G0085_G1_TTien,Source={StaticResource eHCMSResources}}"
                    IsReadOnly="True"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockRightAlign}" />
                    <DataGridTextColumn
                    Binding="{Binding TotalHIPayment,Mode=OneWay,Converter={StaticResource DecimalConverter}}"
                    Header="{Binding K1232_G1_BHTra,Source={StaticResource eHCMSResources}}"
                    IsReadOnly="True"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockRightAlign}" />
                    <DataGridTextColumn
                    Binding="{Binding TotalPatientPayment,Mode=OneWay,Converter={StaticResource DecimalConverter}}"
                    Header="{Binding T2090_G1_KHTra,Source={StaticResource eHCMSResources}}"
                    IsReadOnly="True"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockRightAlign}" />
                    <DataGridTextColumn
                    Binding="{Binding InExpiryDate,Mode=OneWay,StringFormat='dd/MM/yyyy'}"
                    Header="{Binding T1363_G1_HDung,Source={StaticResource eHCMSResources}}"
                    IsReadOnly="True"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}" />
                    <DataGridTextColumn
                    Binding="{Binding SdlDescription,Mode=OneWay}"
                    Header="{Binding G2209_G1_ViTri,Source={StaticResource eHCMSResources}}"
                    IsReadOnly="True"
                    HeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                    ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}" />
                </DataGrid.Columns>
                <DataGrid.GroupStyle>
                    <GroupStyle>
                        <GroupStyle.ContainerStyle>
                            <Style TargetType="{x:Type GroupItem}">
                                <Setter Property="Margin" Value="1,1,1,1" />
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="{x:Type GroupItem}">
                                            <Expander IsExpanded="True" Background="WhiteSmoke"
                                                  BorderBrush="#FF002255" Foreground="DarkBlue"
                                                  BorderThickness="1,1,1,1">
                                                <Expander.Header>
                                                    <DockPanel>
                                                        <TextBlock FontWeight="Bold" Foreground="DarkBlue"
                                                               Text="{Binding Path=Name}"
                                                               Margin="5,0,0,0" Width="300" />
                                                    </DockPanel>
                                                </Expander.Header>
                                                <Expander.Content>
                                                    <ItemsPresenter />
                                                </Expander.Content>
                                            </Expander>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </GroupStyle.ContainerStyle>
                    </GroupStyle>
                </DataGrid.GroupStyle>
            </AxControls:AxDataGridNy>
            <!--==== #001-->
            <!--Visibility="{Binding AllowPayAfter,Converter={StaticResource BooleanToVisibility}}"-->
            <Grid Grid.Row="6" Grid.Column="0" Grid.ColumnSpan="7">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <ScrollViewer HorizontalContentAlignment="Stretch"
                          VerticalContentAlignment="Stretch"
                          HorizontalScrollBarVisibility="Auto"
                          VerticalScrollBarVisibility="Auto">
                    <ContentControl IsEnabled="{Binding IsEnableRoleUser}">
                        <StackPanel>
                            <Expander VerticalAlignment="Stretch"
                                  ExpandDirection="Down" IsExpanded="True"
                                  Header="{Binding K3434_G1_DVKCB,Source={StaticResource eHCMSResources}}"
                                  Background="#FFDBE5F1"
                                  RenderTransformOrigin="0,0" Height="Auto"
                                  HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch"
                                      VerticalContentAlignment="Stretch"
                                      Visibility="{Binding IsServiceTabsVisible,Converter={StaticResource BooleanToVisibility}}">
                                <ContentControl Name="OldServiceContent"
                                            HorizontalContentAlignment="Stretch"
                                            VerticalContentAlignment="Stretch" />
                            </Expander>
                            <Expander VerticalAlignment="Stretch"
                                  ExpandDirection="Down" IsExpanded="True"
                                  Header="{Binding K3430_G1_DVCLS,Source={StaticResource eHCMSResources}}"
                                  Background="#FFDBE5F1"
                                  RenderTransformOrigin="0,0" Height="Auto"
                                  HorizontalAlignment="Stretch"
                                  HorizontalContentAlignment="Stretch"
                                      VerticalContentAlignment="Stretch"
                                      Visibility="{Binding IsServiceTabsVisible,Converter={StaticResource BooleanToVisibility}}">
                                <ContentControl Name="OldPclContent"
                                            HorizontalContentAlignment="Stretch"
                                            VerticalContentAlignment="Stretch" />
                            </Expander>
                            <Expander Margin="0,0,0,0" VerticalAlignment="Stretch"
                                      ExpandDirection="Down" IsExpanded="True" Header="{Binding Z2723_G1_DanhSachBill,Source={StaticResource eHCMSResources}}" Background="#FFDBE5F1"
                                      RenderTransformOrigin="0,0"
                                      HorizontalAlignment="Stretch" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch"
                                      Visibility="{Binding IsHasBillingInvoice,Converter={StaticResource BooleanToVisibility}}">
                                <ContentControl Name="OldBillingContent" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch"/>
                            </Expander>
                            <Expander VerticalAlignment="Stretch"
                                  ExpandDirection="Down" IsExpanded="True"
                                  Header="{Binding K1481_G1_LanTraTien,Source={StaticResource eHCMSResources}}"
                                  Background="#FFDBE5F1"
                                  RenderTransformOrigin="0,0" Height="Auto"
                                  HorizontalAlignment="Stretch"
                                  HorizontalContentAlignment="Stretch"
                                      VerticalContentAlignment="Stretch"
                                      Visibility="{Binding IsServiceTabsVisible,Converter={StaticResource BooleanToVisibility}}">
                                <ContentControl Name="OldPaymentContent"
                                            HorizontalContentAlignment="Stretch"
                                            VerticalContentAlignment="Stretch" />
                            </Expander>
                        </StackPanel>
                    </ContentControl>
                </ScrollViewer>
            </Grid>
            <!--==== #001-->
            <Grid Margin="0" Grid.Row="7"
              Grid.ColumnSpan="4">
                <Grid.RowDefinitions>
                    <RowDefinition />

                </Grid.RowDefinitions>
                <Border Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"
                    Width="Auto"
                    Style="{StaticResource LightBlueBorderStyle}"
                    Margin="1,1,1,1">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Button Grid.Column="0" Margin="1,0" Name="btnUp"
                            IsEnabled="{Binding SelectedOutInvoice.CanSaveAndPaidPrescript,Mode=OneWay}">
                            <Image Source="/aEMR.CommonViews;component/Assets/Images/up_256.png"
                               Height="32" Width="32" Opacity="1" HorizontalAlignment="Left"
                               ToolTipService.ToolTip="Di chuyển lên trên" Margin="2,1" />
                        </Button>
                        <Button Grid.Column="1" Margin="1,0" Name="btnDown"
                            IsEnabled="{Binding SelectedOutInvoice.CanSaveAndPaidPrescript,Mode=OneWay}">
                            <Image Source="/aEMR.CommonViews;component/Assets/Images/down_256.png"
                               Height="32" Width="32" Opacity="1" HorizontalAlignment="Left"
                               ToolTipService.ToolTip="Di chuyển xuống dưới" Margin="2,1" />
                        </Button>
                        <StackPanel Grid.Column="2" Orientation="Horizontal"
                                HorizontalAlignment="Right" VerticalAlignment="Top">
                            <!--colunm 1-->
                            <TextBlock 
                            Text="{Binding G1559_G1_TgTien, StringFormat='{}(1) {0}: ',Source={StaticResource eHCMSResources}}"
                            HorizontalAlignment="Left" VerticalAlignment="Center"
                            Margin="5,2"
                            Style="{StaticResource MainFrame.TextBlock.00}" />
                            <TextBlock 
                           Text="{Binding TotalInvoicePrice,Converter={StaticResource DecimalConverter}}"
                           TextAlignment="Right" VerticalAlignment="Center" FontWeight="Bold"
                           Margin="5,2" FontSize="16"
                           Style="{StaticResource MainFrame.TextBlock.00}"></TextBlock>
                            <TextBlock Text="{Binding K1232_G1_BHTra, StringFormat='{}(2) {0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Left"
                           VerticalAlignment="Center"
                           Margin="5,2"
                           Style="{StaticResource MainFrame.TextBlock.00}" />
                            <TextBlock 
                           Text="{Binding TotalHIPayment,Converter={StaticResource DecimalConverter}}"
                           TextAlignment="Right" VerticalAlignment="Center" FontWeight="Bold"
                           Margin="5,2" FontSize="16"
                           Style="{StaticResource MainFrame.TextBlock.00}"></TextBlock>
                            <TextBlock Text="{Binding T2090_G1_KHTra, StringFormat='{}(3) {0}: ',Source={StaticResource eHCMSResources}}"
                           HorizontalAlignment="Left"
                           VerticalAlignment="Center"
                           Margin="5,2"
                           Style="{StaticResource MainFrame.TextBlock.00}" />
                            <TextBlock 
                           Text="{Binding TotalPatientPayment,Converter={StaticResource DecimalConverter}}"
                           TextAlignment="Right" VerticalAlignment="Center" FontWeight="Bold" Foreground="Red"
                           Margin="5,2" FontSize="16"
                           Style="{StaticResource MainFrame.TextBlock.00}"></TextBlock>
                        </StackPanel>
                    </Grid>
                </Border>

            </Grid>
            <StackPanel Orientation="Horizontal" Grid.Row="8"
                    Grid.ColumnSpan="10" HorizontalAlignment="Right">

                <!--<Button Name="btEditPrescriptions"
                Content="{Binding S0743_G1_SuaToaThuoc,Source={StaticResource eHCMSResources}}"
                Width="110"
                Margin="2,1,40,1"
                VerticalAlignment="Bottom"                
                Style="{StaticResource MainFrame.Button}"
                    "{Binding mBanThuocTheoToa_SuaToaThuoc,Converter={StaticResource BooleanToVisibility}}"
                    Visibility="Collapsed"
                    IsEnabled="{Binding SelectedOutInvoice.CanEditPrescription,Mode=OneWay}"/>-->

                <Button Name="btEditPrescriptions"
                    Content="{Binding S0743_G1_SuaToaThuoc,Source={StaticResource eHCMSResources}}"
                    Width="110" Margin="2,1,40,1"
                    VerticalAlignment="Bottom"
                    Style="{StaticResource MainFrame.Button}"
                    Visibility="Collapsed"
                    IsEnabled="{Binding SelectedOutInvoice.CanEditPrescription,Mode=OneWay}" />
                <Button Name="btnNew"
                    Content="{Binding P0373_G1_PhMoi,Source={StaticResource eHCMSResources}}"
                    Margin="2,1" VerticalAlignment="Bottom" Width="75"
                    IsEnabled="{Binding SelectedOutInvoice.CanNew,Mode=OneWay}"
                    Visibility="{Binding RenewScreenVisible,Converter={StaticResource BooleanToVisibility}}"
                    Style="{StaticResource MainFrame.Button}"
                    Grid.ColumnSpan="4" />
                <Button Name="btnSaveMoney"
                        Content="{Binding G0739_G1_THien,Source={StaticResource eHCMSResources}}"
                        Margin="2,1"
                        VerticalAlignment="Bottom"
                        Width="95"
                        Style="{StaticResource MainFrame.Button}"
                        Grid.ColumnSpan="4"
                        Visibility="{Binding mBanThuocTheoToa_Them,Converter={StaticResource BooleanToVisibility}}"
                        IsEnabled="{Binding SelectedOutInvoice.CanSaveAndPaidPrescript,Mode=OneWay}"/>
                <!--IsEnabled="{Binding ElementName=LayoutRoot, Path=DataContext.IsEnableGetMoney }"-->
                <!--IsEnabled="{Binding SelectedOutInvoice.CanSaveAndPaidPrescript,Converter={StaticResource InverseBoolConverter},Mode=OneWay}"-->
                <!--IsEnabled="{Binding SelectedOutInvoice.CanGetMoney}"-->
                <Button Name="btnMoney" Content="{Binding G0729_G1_ThuTien,Source={StaticResource eHCMSResources}}"
                        Margin="2,1" VerticalAlignment="Bottom" Width="75"
                        Style="{StaticResource MainFrame.Button}"
                        Grid.ColumnSpan="4"
                        Visibility="{Binding mBanThuocTheoToa_ThuTien,Converter={StaticResource BooleanToVisibility}}" />
                <Button Name="btnCancel"
                    Content="{Binding T1749_G1_HuyPhX,Source={StaticResource eHCMSResources}}"
                    Margin="2,1" VerticalAlignment="Bottom" Width="100"
                    Style="{StaticResource MainFrame.Button}"
                    Grid.ColumnSpan="4"         
                    IsEnabled="{Binding SelectedOutInvoice.CanCancel}"
                    Visibility="{Binding mBanThuocTheoToa_HuyPhieuXuat,Converter={StaticResource BooleanToVisibility}}" />
                <Button Name="btnEditPayed"
                    Content="{Binding K1674_G1_CNhatPh, StringFormat='{}{0} ',Source={StaticResource eHCMSResources}}"
                    Grid.Row="3" HorizontalAlignment="Left" Margin="2,1" VerticalAlignment="Bottom"
                    Style="{StaticResource MainFrame.Button}"
                    IsEnabled="{Binding SelectedOutInvoice.CanEditPayed,Mode=OneWay}"
                    Visibility="{Binding mBanThuocTheoToa_CapNhatPhieu,Converter={StaticResource BooleanToVisibility}}" />
                <Button Name="btnPreview"
                    Content="{Binding T1934_G1_InPhNhanThuoc,Source={StaticResource eHCMSResources}}"
                    Margin="2,1" VerticalAlignment="Bottom"
                    Style="{StaticResource MainFrame.Button}"
                    Grid.ColumnSpan="4"
                    IsEnabled="{Binding SelectedOutInvoice.CanPrint,TargetNullValue=False,Mode=OneWay}"
                    Visibility="{Binding mBanThuocTheoToa_ReportIn,Converter={StaticResource BooleanToVisibility}}" />
                <Button Name="btnPrintReceipt"
                    Content="{Binding T1920_G1_InHD,Source={StaticResource eHCMSResources}}"
                    Margin="2,1" VerticalAlignment="Bottom"
                    Style="{StaticResource MainFrame.Button}"
                    Grid.ColumnSpan="4"
                    IsEnabled="{Binding SelectedOutInvoice.CanPrint,TargetNullValue=False,Mode=OneWay}"
                    Visibility="Collapsed" />
                <!--Visibility="{Binding mBanThuocTheoToa_ReportIn,Converter={StaticResource BooleanToVisibility}}"/>-->
                <Button Name="btnPrint"
                    Content="{Binding T1925_G1_InMau38,Source={StaticResource eHCMSResources}}"
                    Margin="2,1"
                    VerticalAlignment="Bottom"
                    Width="75"
                    Style="{StaticResource MainFrame.Button}"
                    Grid.ColumnSpan="4"
                    IsEnabled="{Binding SelectedOutInvoice.CanPrint38,TargetNullValue=False,Mode=OneWay}"
                    Visibility="Collapsed" />
                <!--Visibility="{Binding mBanThuocTheoToa_ReportIn,Converter={StaticResource BooleanToVisibility}}"-->
                <!--IsEnabled="{Binding SelectedOutInvoice.CanPrint38,TargetNullValue=False,Mode=OneWay}"-->
                <Button Name="btnPrint12"
                    Content="{Binding Z2354_G1_Mau12,Source={StaticResource eHCMSResources}}"
                    Margin="2,1"
                    VerticalAlignment="Bottom"
                    Width="75"
                    Style="{StaticResource MainFrame.Button}"
                    Grid.ColumnSpan="4"
                    Visibility="{Binding mBanThuocTheoToa_ReportIn,Converter={StaticResource BooleanToVisibility}}" />
                <Button Name="btnHoanTien"
                    Content="{Binding T1672_G1_HTien,Source={StaticResource eHCMSResources}}"
                        Margin="2,1" VerticalAlignment="Bottom" Width="75"
                        Style="{StaticResource MainFrame.Button}" Grid.ColumnSpan="4"
                    IsEnabled="{Binding IsRefundMoney,TargetNullValue=False,Mode=OneWay}"
                    Visibility="{Binding mBanThuocTheoToa_ThuTien,Converter={StaticResource BooleanToVisibility}}" />
                <Button Name="btnPrepareConfirmHIBenefit"
                    Content="{Binding Z2324_G1_ChuanBiXacNhanQLBH,Source={StaticResource eHCMSResources}}"
                    Margin="2,1" VerticalAlignment="Bottom" Padding="5 0"
                    Style="{StaticResource MainFrame.Button}" Grid.ColumnSpan="4"
                    Visibility="Collapsed" />
                <Button Name="btnConfirmHIBenefit" Content="{Binding Z2307_G1_XacNhanQLBH,Source={StaticResource eHCMSResources}}"
                        Margin="2,1" VerticalAlignment="Bottom" Padding="5 0"
                        Style="{StaticResource MainFrame.Button}" Grid.ColumnSpan="4"
                        IsEnabled="{Binding IsServicePatient,Converter={StaticResource InverseBoolConverter}}"
                        Visibility="{Binding IsServiceTabsVisible,Converter={StaticResource BooleanToVisibility}}" />
                <!--Visibility="{Binding IsServiceTabsVisible,Converter={StaticResource BooleanToVisibility}}"-->
                <Button Name="btnCancelConfirmHIBenefit"
                    Content="{Binding Z2562_G1_HuyXNQLBH,Source={StaticResource eHCMSResources}}"
                    Margin="2,1" VerticalAlignment="Bottom" Padding="5 0"
                    Style="{StaticResource MainFrame.Button}" Grid.ColumnSpan="4"
                    IsEnabled="{Binding IsServicePatient,Converter={StaticResource InverseBoolConverter}}"
                    Visibility="{Binding IsServiceTabsVisible,Converter={StaticResource BooleanToVisibility}}" />
                <Button Name="btnFinalization"
                    Content="{Binding Q0498_G1_QuyetToan,Source={StaticResource eHCMSResources}}"
                    Margin="2,1" VerticalAlignment="Bottom" Padding="5 0"
                    Style="{StaticResource MainFrame.Button}" Grid.ColumnSpan="4"
                    Visibility="Collapsed" />
                <Button Name="btnConfirmHIAndPay" Content="{Binding Z2846_G1_XacNhanVaTraTien,Source={StaticResource eHCMSResources}}"
                        Margin="2,1" VerticalAlignment="Bottom" Padding="5 0"
                        Style="{StaticResource MainFrame.Button}" Grid.ColumnSpan="4"
                        IsEnabled="{Binding IsServicePatient,Converter={StaticResource InverseBoolConverter}}"
                        Visibility="{Binding PayAndComfirmHIIsVisible,Converter={StaticResource BooleanToVisibility}}" />
                <Button Name="CancelBillingButton"
                        Content="{Binding Z2957_G1_HuyBill,Source={StaticResource eHCMSResources}}"
                        Margin="2,1" VerticalAlignment="Bottom" Width="75"
                        Style="{StaticResource MainFrame.Button}" Grid.ColumnSpan="4"
                        IsEnabled="{Binding IsEnableCancelBillingButton,TargetNullValue=False,Mode=OneWay}"
                        Visibility="{Binding IsAccountingView,Converter={StaticResource BooleanToVisibility}}" />
            </StackPanel>
        </Grid>
    </ScrollViewer>
    <!--</toolkit:BusyIndicator>-->
</UserControl>
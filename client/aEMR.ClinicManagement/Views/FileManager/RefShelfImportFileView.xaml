<UserControl                     x:Class="aEMR.ClinicManagement.Views.RefShelfImportFileView"
                                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                                 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                                 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                                 xmlns:cal="http://www.caliburnproject.org"
                                 xmlns:AxControls="clr-namespace:aEMR.Controls;assembly=aEMR.Controls"
                                 xmlns:Converters="clr-namespace:aEMR.Common.Converters;assembly=aEMR.Common"
                                 xmlns:Resources="clr-namespace:eHCMSLanguage;assembly=aEMRLanguage" 
                                 d:DesignHeight="700" d:DesignWidth="1040"
                                 mc:Ignorable="d" >
    <UserControl.Resources>
	    <Resources:eHCMSResources x:Key="eHCMSResources"/>
        <Converters:WidthConverter x:Key="WidthConverter"/>
        <Converters:StringFormatConverter x:Key="StringFormatConverter"/>
        <Converters:NullRefShelfNameConverter x:Key="NullRefShelfNameConverter"/>
        <Converters:IsEnableConverter x:Key="IsEnableConverter"/>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibility"/>
        <DataTemplate x:Key="gvColumn_lnkDelete">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Button x:Name="lnkDelete" 
                        Style="{StaticResource MainFrame.HyperlinkButton.01}"
                        ToolTipService.ToolTip="Click here for delete" cal:Message.Attach="[Event Click]=[Action lnkDelete_Click($source,$eventArgs)]">
                    <Button.Content>
                        <Image Source="/aEMR.CommonViews;component/Assets/Images/Delete.png" Height="13" Width="13" Opacity="1" />
                    </Button.Content>
                </Button>
            </StackPanel>
        </DataTemplate>
        <DataTemplate x:Key="AutoCompleteTemplate">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding LocName}" Style="{StaticResource MainFrame.TextBlock.Auto}" Margin="0" Padding="0" />
            </StackPanel>
        </DataTemplate>
    </UserControl.Resources>
    <!--QTD-->
    <Grid x:Name="LayoutRoot" Background="White">
        <Grid x:Name="GridMain">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
            </Grid.RowDefinitions>
            <StackPanel Grid.Row="0" HorizontalAlignment="Stretch" Margin="0,10,0,10">
                <TextBlock FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center"
                        Text="{Binding Z1999_G1_DatHSoVaoKe, Source={StaticResource eHCMSResources}, ConverterParameter=Upper, Mode=OneWay, Converter={StaticResource StringFormatConverter}}" Style="{StaticResource TextBlock.Heading.02}" Foreground="#3595CB"/>

            </StackPanel>
            <StackPanel  Grid.Row="1" HorizontalAlignment="Stretch">
                <Grid HorizontalAlignment="Center">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <DockPanel x:Name="DeptMedList" Grid.Column="1" LastChildFill="True" HorizontalAlignment="Left" MinWidth="10">
                        <DockPanel x:Name="DeptMedListDP0" Height="Auto" LastChildFill="True" Margin="0" DockPanel.Dock="Top">
                            <Grid Width="auto">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="40"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <Border Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="3"  CornerRadius="3" Background="AliceBlue" BorderBrush="#C1D2E6" BorderThickness="1" Margin="0,10,0,5">
                                    <StackPanel>
                                        <Border Margin="10,-10,0,0" BorderBrush="#6F8AA9" BorderThickness="1" Background="AliceBlue" HorizontalAlignment="Left">
                                            <TextBlock Text="{Binding G1174_G1_TimKiem, Source={StaticResource eHCMSResources}}" Margin="10,0,10,0" FontWeight="Bold"></TextBlock>
                                        </Border>
                                        <Grid Margin="10,5,10,0">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                                <RowDefinition Height="Auto"></RowDefinition>
                                            </Grid.RowDefinitions>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="100"></ColumnDefinition>
                                                <ColumnDefinition Width="550" />
                                                <ColumnDefinition Width="0" />
                                                <ColumnDefinition Width="100" />
                                                <ColumnDefinition Width="550*" />
                                                <ColumnDefinition Width="100" />
                                            </Grid.ColumnDefinitions>
                                            <TextBlock Grid.Row="0" Grid.Column="0" Text="{Binding T2144_G1_Kho, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" 
                                                HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,2,5,2"
                                                Style="{StaticResource MainFrame.TextBlock.00}"/>
                                            <ComboBox Grid.Row="0" Grid.Column="1" Width="340" Margin="0,2,5,2" 
                                                HorizontalAlignment="Left" ItemsSource="{Binding AllStores}" 
                                                DisplayMemberPath="swhlName"
                                                SelectedItem="{Binding SelectedStore, Mode=TwoWay}" 
                                                Style="{StaticResource MainFrame.ComboBox}"/>
                                            <TextBlock Grid.Row="2" Grid.Column="0" 
                                                Text="{Binding T2013_G1_Ke, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" 
                                                HorizontalAlignment="Right" 
                                                VerticalAlignment="Center" Margin="0,2,5,2"
                                                Style="{StaticResource MainFrame.TextBlock.00}" />
                                            <ComboBox Grid.Row="2" Grid.Column="1" Width="340"  Margin="0,2,0,2" 
                                                HorizontalAlignment="Left" ItemsSource="{Binding AllRefShelfs}" 
                                                DisplayMemberPath="RefShelfName"
                                                SelectedItem="{Binding SelectedRefShelf, Mode=TwoWay}" 
                                                Style="{StaticResource MainFrame.ComboBox}"/>
                                            <!--<AxControls:AxAutoComplete Grid.Row="2" Grid.Column="1" IsTabStop="False" HorizontalAlignment="Left" Margin="0,2,5,2"
                                                    TextBoxStyle="{StaticResource MainFrame.TextBox}" FontWeight="Bold" MinimumPopulateDelay="300" MinimumPrefixLength="0"
                                                    Width="340" Height="22"
                                                    Text="{Binding SelectedRefShelfDetail.LocName, Mode=OneWay}" 
                                                    ValueMemberBinding="{Binding LocName, Mode=TwoWay}"
                                                    ItemTemplate="{StaticResource AutoCompleteTemplate}"
                                                    ItemsSource="{Binding AllRefShelfDetails,Mode=OneWay}"
                                                    cal:Message.Attach="[Event DropDownClosed] = [Action cboRefShelfDetail_DropDownClosed($source, $eventArgs)]" />-->
                                            <TextBlock Grid.Row="1" Grid.Column="0" 
                                                Text="{Binding Z3275_G1_Day, Source={StaticResource eHCMSResources},  StringFormat='{}{0}:'}" 
                                                VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,2,5,2" 
                                                Style="{StaticResource MainFrame.TextBlock.00}" />
                                            <ComboBox Grid.Row="1" Grid.Column="1" Width="340"  Margin="0,2,0,2" 
                                                HorizontalAlignment="Left" ItemsSource="{Binding AllRefRows}" 
                                                DisplayMemberPath="RefRowName"
                                                SelectedItem="{Binding SelectedRow, Mode=TwoWay}" 
                                                Style="{StaticResource MainFrame.ComboBox}"/>
                                            <TextBlock Grid.Row="3" Grid.Column="0" 
                                                Text="{Binding Z1997_G1_Ngan, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" 
                                                HorizontalAlignment="Right" 
                                                VerticalAlignment="Center" Margin="0,2,5,2"
                                                Style="{StaticResource MainFrame.TextBlock.00}" />
                                            <ComboBox Grid.Row="3" Grid.Column="1" Width="340"  Margin="0,2,0,2" 
                                                HorizontalAlignment="Left" ItemsSource="{Binding AllRefShelfDetails}" 
                                                DisplayMemberPath="LocName"
                                                SelectedItem="{Binding SelectedRefShelfDetail, Mode=TwoWay}" 
                                                Style="{StaticResource MainFrame.ComboBox}"/>
                                            <TextBlock Grid.Row="4" Grid.Column="2" Text="{Binding ErrorMessage, Mode=OneWay}" 
                                                VerticalAlignment="Center" Margin="5,0,5,0" 
                                                Style="{StaticResource MainFrame.TextBlock.00}" />
                                            <TextBlock Grid.Column="3" Text="{Binding Z3263_G1_LoaiHS, StringFormat='{}{0}:', Source={StaticResource eHCMSResources}}" 
                                                HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,2,5,2"
                                                Style="{StaticResource MainFrame.TextBlock.00}"/>
                                            <AxControls:AxComboBox Grid.Column="4" Name="cboMedicalServiceTypesSubTractPCL" FontWeight="Normal" Foreground="Black" Margin="0,2,5,2"
                                                ItemsSource="{Binding V_MedicalFileType, Mode=OneWay}" 
                                                DisplayMemberPath="ObjectValue"
                                                SelectedValuePath="LookupID"
                                                SelectedItemEx="{Binding ElementName=LayoutRoot, Path=DataContext.SelectedMedicalFileType, Mode=TwoWay}" 
                                                Width="340" HorizontalAlignment="Left"
                                                Style="{StaticResource MainFrame.ComboBox}"/>
                                            <TextBlock Grid.Row="1" Grid.Column="3" 
                                                 Text="{Binding S0648_G1_SoHoSo, Source={StaticResource eHCMSResources}, StringFormat='{}{0}:'}" 
                                                 HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,2,5,2"
                                                 Style="{StaticResource MainFrame.TextBlock.00}" />
                                            <TextBox MaxLength="128" x:Name="tbMedServiceName" 
                                                 Text="{Binding FileCodeNumber, Mode=TwoWay}" 
                                                 Grid.Row="1" Grid.Column="4" Margin="0,2,5,2" 
                                                 Width="340" HorizontalAlignment="Left"/>
                                            <TextBlock Grid.Row="2" Grid.Column="3" 
                                                 Text="{Binding T0834_G1_TenBenhNhan, Source={StaticResource eHCMSResources}, StringFormat='{}{0}:'}" 
                                                 HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,2,5,2"
                                                 Style="{StaticResource MainFrame.TextBlock.00}" />
                                            <TextBox MaxLength="128" 
                                                     Text="{Binding PatientName, Mode=TwoWay}" 
                                                     Grid.Row="2" Grid.Column="4" 
                                                     Margin="0,2,5,2" Width="340" HorizontalAlignment="Left"/>
                                            <TextBlock Grid.Row="3" Grid.Column="3" 
                                                 Text="{Binding G1933_G1_TuNg, Source={StaticResource eHCMSResources}, StringFormat='{}{0}:'}" 
                                                 HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,2,5,2" 
                                                 Style="{StaticResource MainFrame.TextBlock.00}"/>
                                            <Grid Grid.Row="3" Grid.Column="4" Width="340" HorizontalAlignment="Left">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"></RowDefinition>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>
                                                <DatePicker
                                                    Grid.Row="0"
                                                    Grid.Column="0"
                                                    Margin="0,2,0,2"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Center"
                                                    SelectedDate="{Binding FromDate, Mode=TwoWay}"
                                                    Style="{StaticResource MainFrame.DatePicker}" />
                                                <TextBlock Grid.Row="0" Grid.Column="1" 
                                                    Text="{Binding K3192_G1_DenNg, Source={StaticResource eHCMSResources}, StringFormat='{}{0}:'}" 
                                                    HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,2,5,2"
                                                    Style="{StaticResource MainFrame.TextBlock.00}"/>
                                                <DatePicker
                                                    Grid.Row="0"
                                                    Grid.Column="2"
                                                    Margin="0,2,0,2"
                                                    HorizontalAlignment="Right"
                                                    VerticalAlignment="Center"
                                                    SelectedDate="{Binding ToDate, Mode=TwoWay}"
                                                    Style="{StaticResource MainFrame.DatePicker}" />
                                            </Grid>
                                            <Button x:Name="btSearchRefShelf" HorizontalAlignment="Right" Grid.Row="4" Grid.Column="1" Width="60" Margin="0,2,10,5" Visibility="Collapsed">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Width="20" VerticalAlignment="Center" Height="18" Source="/aEMR.CommonViews;component/Assets/Images/1306555029_find.png"/>
                                                    <TextBlock VerticalAlignment="Center" Text="{Binding G0981_G1_Tim, Source={StaticResource eHCMSResources}}"/>
                                                </StackPanel>
                                            </Button>
                                            <Button x:Name="btnSearch" HorizontalAlignment="Right" Grid.Row="3" Grid.Column="5" Width="60" Margin="0,2,5,5">
                                                <StackPanel Orientation="Horizontal">
                                                    <Image Width="20" VerticalAlignment="Center" Height="18" Source="/aEMR.CommonViews;component/Assets/Images/1306555029_find.png"/>
                                                    <TextBlock VerticalAlignment="Center" Text="{Binding G0981_G1_Tim, Source={StaticResource eHCMSResources}}"/>
                                                </StackPanel>
                                            </Button>
                                        </Grid>
                                    </StackPanel>
                                </Border>
                                <StackPanel Margin="0,50,0,0" Grid.Row="2" Grid.Column="1" Orientation="Vertical" VerticalAlignment="Center">
                                    <Button x:Name="btAddChoose" ToolTipService.ToolTip="{Binding eHCMSResources.G0156_G1_Them, Source={StaticResource eHCMSResources}}" Height="40" Width="26"
                                            Visibility="{Binding bbtAdd,Converter={StaticResource BooleanToVisibility} }">
                                        <Image Source="/aEMR.CommonViews;component/Assets/Images/navigate-left-icon48x48.png" Height="32" Width="32" Opacity="1" HorizontalAlignment="Left" Margin="-5,0,0,0" />
                                    </Button>
                                    <Label Content="" Height="10"></Label>
                                    <Button x:Name="btSaveItems" Height="40" Width="28" VerticalAlignment="Center" HorizontalAlignment="Center" ToolTipService.ToolTip="{Binding T2937_G1_Luu, Source={StaticResource eHCMSResources}}" Margin="0,0,0,10"
                                            Visibility="{Binding bbtAdd,Converter={StaticResource BooleanToVisibility} }">
                                        <Image Source="/aEMR.CommonViews;component/Assets/Images/saveanddown24x24border.png" Opacity="1" />
                                    </Button>
                                </StackPanel>
                                <Border Grid.Row="1" CornerRadius="3" Background="AliceBlue" BorderBrush="#C1D2E6" BorderThickness="1" Margin="0,10,0,5">
                                    <StackPanel>
                                        <Border Margin="10,-10,0,0" BorderBrush="#6F8AA9" BorderThickness="1" Background="AliceBlue" HorizontalAlignment="Left">
                                            <TextBlock Text="{Binding Z3264_G1_DSHSCuaKe, Source={StaticResource eHCMSResources}}" Margin="10,0,10,0" FontWeight="Bold"></TextBlock>
                                        </Border>
                                        <Grid Margin="10,5,10,0">
                                            <Grid.RowDefinitions>
                                                <RowDefinition></RowDefinition>
                                                <RowDefinition></RowDefinition>
                                            </Grid.RowDefinitions>
                                            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,5" >
                                                <Grid Name="Grid">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"></RowDefinition>
                                                    </Grid.RowDefinitions>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                        <ColumnDefinition Width="Auto"></ColumnDefinition>
                                                    </Grid.ColumnDefinitions>
                                                </Grid>
                                            </StackPanel>
                                            <DataGrid Name="List" Grid.Row="1"
                                                IsReadOnly="True" 
                                                AutoGenerateColumns="False"
                                                HorizontalScrollBarVisibility="Auto"
                                                VerticalScrollBarVisibility="Auto"   Height="400"
                                                HeadersVisibility="All" 
                                                SelectedItem="{Binding SelectedFileStorage, Mode=TwoWay}"
                                                ColumnHeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}" 
                                                Style="{StaticResource MainFrame.DataGridStyle}" Margin="0,2"                              
                                                ItemsSource="{Binding SelectedPatientMedicalFileStorage.TempObject, Mode=TwoWay}"
                                                HorizontalAlignment="Stretch">
                                                <DataGrid.Columns>
                                                    <DataGridTemplateColumn x:Name="colTemplate" Header="">
                                                        <DataGridTemplateColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <StackPanel Orientation="Horizontal">
                                                                    <Button x:Name="hplDeleteService" ToolTipService.ToolTip="Xóa Dịch Vụ" HorizontalAlignment="Center" VerticalAlignment="Center" 
                                                                                        Style="{StaticResource MainFrame.HyperlinkButton.01}"
                                                                                        cal:Message.Attach="[Event Click]=[Action hplDeleteService_Click($datacontext)]
                                                                                        ;[Event Loaded]=[Action hplDeleteService_Loaded($source)]">
                                                                        <Image Source="/aEMR.CommonViews;component/Assets/Images/Delete.png" Height="13" Width="13" Opacity="1" />
                                                                    </Button>
                                                                </StackPanel>
                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellTemplate>
                                                    </DataGridTemplateColumn>
                                                    <DataGridTextColumn  Binding="{Binding PatientCode}" Header="{Binding T3274_G1_MaBN, Source={StaticResource eHCMSResources}}">
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn  Binding="{Binding FileCodeNumber}" Header="{Binding T3390_G1_MaHSo, Source={StaticResource eHCMSResources}}">
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn  Binding="{Binding FullName}" Header="{Binding T0836_G1_TenBN, Source={StaticResource eHCMSResources}}" MinWidth="150">
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Binding="{Binding FileCreatedDate, StringFormat='dd/MM/yyyy'}" Header="{Binding N0049_G1_NgBatDau, Source={StaticResource eHCMSResources}}" 
                                                                        ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}" >
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Binding="{Binding ProgDateTo, StringFormat='dd/MM/yyyy'}" Header="{Binding N0081_G1_NgKetThuc, Source={StaticResource eHCMSResources}}" 
                                                                        ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}" >
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Binding="{Binding ExpiryTime, StringFormat='{}{0} năm'}" Header="{Binding Z3286_G1_HanLuuTru, Source={StaticResource eHCMSResources}}" ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}">
                                                    </DataGridTextColumn>
                                                </DataGrid.Columns>
                                            </DataGrid>
                                        </Grid>
                                    </StackPanel>
                                </Border>

                                <Border Grid.Row="1" Grid.Column="2" CornerRadius="3" Background="AliceBlue" BorderBrush="#C1D2E6" BorderThickness="1" Margin="0,10,0,5">
                                    <StackPanel>
                                        <Border Margin="10,-10,0,0" BorderBrush="#6F8AA9" BorderThickness="1" Background="AliceBlue" HorizontalAlignment="Left">
                                            <TextBlock Text="{Binding Z3265_G1_DSHoSo, Source={StaticResource eHCMSResources}}" Margin="10,0,10,0" FontWeight="Bold"></TextBlock>
                                        </Border>
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition></RowDefinition>
                                                <RowDefinition></RowDefinition>
                                                <RowDefinition Height="25"></RowDefinition>
                                            </Grid.RowDefinitions>
                                            <AxControls:ReadOnlyDataGrid Name="dtList" Grid.Row="1"
                                                IsReadOnly="True" AutoGenerateColumns="False" 
                                                HorizontalScrollBarVisibility="Auto"
                                                VerticalScrollBarVisibility="auto" Height="400"
                                                HeadersVisibility="All"
                                                SelectedItem="{Binding SelectedFileStorage, Mode=TwoWay}"
                                                cal:Message.Attach="[Event DblClick]=[Action DoubleClick()]"
                                                ColumnHeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}"
                                                Style="{StaticResource MainFrame.DataGridStyle}" Margin="0,2"           
                                                ItemsSource="{Binding AllPatientMedicalFileStorage, Mode=TwoWay}"
                                                HorizontalAlignment="Stretch">
                                                <DataGrid.Columns>
                                                    <DataGridTextColumn  Binding="{Binding PatientCode}" Header="{Binding T3274_G1_MaBN, Source={StaticResource eHCMSResources}}">
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn  Binding="{Binding FileCodeNumber}" Header="{Binding T3390_G1_MaHSo, Source={StaticResource eHCMSResources}}">
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn  Binding="{Binding FullName}" Header="{Binding T0836_G1_TenBN, Source={StaticResource eHCMSResources}}" MinWidth="150">
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Binding="{Binding FileCreatedDate, StringFormat='dd/MM/yyyy'}" Header="{Binding N0049_G1_NgBatDau, Source={StaticResource eHCMSResources}}"
                                                            ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}">
                                                    </DataGridTextColumn>
                                                    <DataGridTextColumn Binding="{Binding ProgDateTo, StringFormat='dd/MM/yyyy'}" Header="{Binding N0081_G1_NgKetThuc, Source={StaticResource eHCMSResources}}"
                                                             ElementStyle="{StaticResource MainFrame.TextBlockCenterAlign}">
                                                    </DataGridTextColumn>
                                                    <DataGridTemplateColumn Header="{Binding Z3286_G1_HanLuuTru, Source={StaticResource eHCMSResources}}">
                                                        <DataGridTemplateColumn.CellTemplate>
                                                            <DataTemplate>
                                                                <AxControls:AxComboBox
                                                                    Margin="0,1,0,1"
                                                                    ItemsSource="{Binding Path=DataContext.V_ExpiryTime, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}"
                                                                    Background="Transparent"
                                                                    BorderBrush="Transparent"
                                                                    DisplayMemberPath="ObjectValue"
                                                                    SelectedItem="{Binding ExpiryTime, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                                    SelectedValuePath="LookupID"
                                                                    Style="{StaticResource MainFrame.ComboBox}"/>
                                                            </DataTemplate>
                                                        </DataGridTemplateColumn.CellTemplate>
                                                    </DataGridTemplateColumn>
                                                </DataGrid.Columns>
                                            </AxControls:ReadOnlyDataGrid>
                                            <!--<AxControls:DataPager PageSize="{Binding PageSize}" Grid.Row="2" VerticalAlignment="Bottom" HorizontalAlignment="Center"
                                                        Source="{Binding ObjMedServiceItems_Paging,Mode=OneWay}" Visibility="Collapsed"/>-->
                                        </Grid>
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </DockPanel>
                    </DockPanel>
                </Grid>
            </StackPanel>
            
            <StackPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="10 10 0 0" >
                <Button x:Name="btnShelfMan" Width="Auto" Content="Quản lý Dãy/Kệ/Ngăn"
                        HorizontalAlignment="Left" Margin="0,0,0,10" Style="{StaticResource MainFrame.Button}" />
                <Button x:Name="btnUpdate" Width="80" Content="{Binding K1599_G1_CNhat, Source={StaticResource eHCMSResources}}"
                        IsEnabled="{Binding RefShelfDetailID,TargetNullValue=False,Converter={StaticResource IsEnableConverter}}"
                        HorizontalAlignment="Left" Margin="10,0,0,10" Style="{StaticResource MainFrame.Button}" Visibility="Collapsed"/>
            </StackPanel>
        </Grid>
    </Grid>
    <!--TTM-->
    <!--<toolkit:BusyIndicator Grid.Row="1" IsBusy="{Binding IsBusy}" BusyContent="{Binding BusyMessage}">-->
        <!--<Grid x:Name="LayoutRoot" MaxWidth="{Binding MaxWidth,Mode=OneWay,Converter={StaticResource WidthConverter}}">
            <Grid.RowDefinitions>
                <RowDefinition Height="30"></RowDefinition>
                <RowDefinition Height="*"></RowDefinition>
            </Grid.RowDefinitions>
            <StackPanel Grid.Row="0" HorizontalAlignment="Stretch">
                <TextBlock FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center"
                        Text="{Binding Z1999_G1_DatHSoVaoKe, Source={StaticResource eHCMSResources}, ConverterParameter=Upper, Mode=OneWay, Converter={StaticResource StringFormatConverter}}" Style="{StaticResource TextBlock.Heading.02}" Foreground="#3595CB"/>

            </StackPanel>
            <Grid Grid.Row="1" VerticalAlignment="Stretch">
                <Grid.RowDefinitions>
                    <RowDefinition Height="25"></RowDefinition>
                    <RowDefinition Height="25"></RowDefinition>
                    <RowDefinition Height="25"></RowDefinition>
                    <RowDefinition Height="25"></RowDefinition>
                    <RowDefinition Height="*"></RowDefinition>
                    <RowDefinition Height="40"></RowDefinition>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100"></ColumnDefinition>
                    <ColumnDefinition Width="220"></ColumnDefinition>
                    <ColumnDefinition></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Row="0" Grid.Column="0" Text="{Binding T2144_G1_Kho, Source={StaticResource eHCMSResources}}" VerticalAlignment="Center" Margin="5,0,5,0" Style="{StaticResource MainFrame.TextBlock.00}"></TextBlock>
                <ComboBox Grid.Row="0" Grid.Column="1" Width="200" Margin="2,1,0,1" HorizontalAlignment="Left" ItemsSource="{Binding AllStores}" DisplayMemberPath="swhlName" SelectedIndex="0"  SelectedItem="{Binding SelectedStore, Mode=TwoWay}"></ComboBox>
                <TextBlock Grid.Row="1" Grid.Column="0" Text="{Binding Z1997_G1_Ngan, Source={StaticResource eHCMSResources}}" VerticalAlignment="Center" Margin="5,0,5,0" Style="{StaticResource MainFrame.TextBlock.00}"></TextBlock>
                --><!--<TextBox Grid.Row="0" Grid.Column="1" Margin="2,1" Width="200" TabIndex="1" HorizontalAlignment="Left" Style="{StaticResource MainFrame.TextBox}" Text="{Binding CaseCode, Mode=TwoWay}" cal:Message.Attach="[Event KeyUp]=[Action txtShelfCode_KeyUp($source,$eventArgs)]"></TextBox>--><!--
                <AxControls:AxAutoComplete Grid.Row="1" Grid.Column="1" IsTabStop="False" HorizontalAlignment="Left" Margin="2,1,0,1"
                                       TextBoxStyle="{StaticResource MainFrame.TextBox}" FontWeight="Bold" MinimumPopulateDelay="300" MinimumPrefixLength="0"
                                       Width="200" Height="22"
                                       Text="{Binding SelectedRefShelfDetail.LocName, Mode=OneWay}" 
                                       ValueMemberBinding="{Binding LocName, Mode=TwoWay}"
                                       ItemTemplate="{StaticResource AutoCompleteTemplate}"
                                       ItemsSource="{Binding AllRefShelfDetails,Mode=OneWay}"
                                           cal:Message.Attach="[Event DropDownClosed] = [Action cboRefShelfDetail_DropDownClosed($source, $eventArgs)]">
                </AxControls:AxAutoComplete>
                <TextBlock Grid.Row="2" Grid.Column="0" Text="{Binding T2013_G1_Ke, Source={StaticResource eHCMSResources}}" VerticalAlignment="Center" Margin="5,0,5,0" Style="{StaticResource MainFrame.TextBlock.00}"></TextBlock>
                <TextBox Grid.Row="2" Grid.Column="1" Margin="2,1" IsReadOnly="True" Width="200" HorizontalAlignment="Left" Style="{StaticResource MainFrame.TextBox}" Text="{Binding ShelfName, Mode=TwoWay}"></TextBox>
                <TextBlock Grid.Row="3" Grid.Column="0" Text="{Binding S0648_G1_SoHoSo, Source={StaticResource eHCMSResources}}" VerticalAlignment="Center" Margin="5,0,5,0" Style="{StaticResource MainFrame.TextBlock.00}"></TextBlock>
                <TextBox Grid.Row="3" Grid.Column="1" Margin="2,1" Width="200" HorizontalAlignment="Left" Style="{StaticResource MainFrame.TextBox}" Text="{Binding FileCode, Mode=TwoWay}"
                 IsTabStop="True" TabIndex="0"
                 IsEnabled="{Binding RefShelfDetailID,TargetNullValue=False,Converter={StaticResource IsEnableConverter}}"
                 cal:Message.Attach="[Event KeyUp]=[Action txtFileCode_KeyUp($source,$eventArgs)];
                                     [Event Loaded]=[Action txtFileCode_Loaded($source,$eventArgs)]" />
                <TextBlock Grid.Row="2" Grid.Column="2" Text="{Binding ErrorMessage, Mode=OneWay}" VerticalAlignment="Center" Margin="5,0,5,0" Style="{StaticResource MainFrame.TextBlock.00}"></TextBlock>
                <DataGrid Grid.Row="4" Grid.ColumnSpan="3"
                                          CanUserAddRows="False"
                                          AutoGenerateColumns="False" 
                                          Name="gvShelfImport"
                                          cal:Message.Attach="[Event Loaded]=[Action gvShelfImport_Loaded($source,$eventArgs)]"
                                          Height="250"
                                          HorizontalAlignment="Left" VerticalAlignment="Top" 
                                          HeadersVisibility="All"
                                          ItemsSource="{Binding AllPatientMedicalFileStorage, Mode=OneWay}"
                                          SelectedItem="{Binding SelectedFileStorage, Mode=TwoWay}"
                                          HorizontalScrollBarVisibility="Auto"  
                                          VerticalScrollBarVisibility="Auto"                        
                                          ColumnHeaderStyle="{StaticResource MainFrame.DataGridColumnHeaderStyle}" 
                                          Style="{StaticResource MainFrame.DataGridStyle}" 
                                          Opacity="5" >
                    <DataGrid.Columns>
                        <DataGridTemplateColumn x:Name="colRemove" IsReadOnly="True" MaxWidth="20" CellTemplate="{StaticResource gvColumn_lnkDelete}">
                        </DataGridTemplateColumn>
                    <DataGridTextColumn Header="{Binding S0648_G1_SoHoSo, Source={StaticResource eHCMSResources}}" IsReadOnly="True" Binding="{Binding FileCodeNumber}" CanUserReorder="True" CanUserResize="True" CanUserSort="True"  MinWidth="100" ElementStyle="{StaticResource MainFrame.TextBlockLeftAlign}" >

                        </DataGridTextColumn>
                    <DataGridTextColumn Header="{Binding T1580_G1_HoTenBN, Source={StaticResource eHCMSResources}}" IsReadOnly="True" Binding="{Binding FullName}" CanUserReorder="True" CanUserResize="True" CanUserSort="True"  MinWidth="100" ElementStyle="{StaticResource MainFrame.TextBlockLeftAlign}" >
                    </DataGridTextColumn>
                    <DataGridTextColumn Header="{Binding N0111_G1_NgTao, Source={StaticResource eHCMSResources}}" IsReadOnly="True" Binding="{Binding FileCreatedDate, StringFormat=dd/MM/yyyy}" CanUserReorder="True" CanUserResize="True" CanUserSort="True"  MinWidth="100" ElementStyle="{StaticResource MainFrame.TextBlockLeftAlign}" >
 
                        </DataGridTextColumn>
                    <DataGridTextColumn Header="{Binding T2144_G1_Kho, Source={StaticResource eHCMSResources}}" IsReadOnly="True" Binding="{Binding swhlName}" CanUserReorder="True" CanUserResize="True" CanUserSort="True"  MinWidth="100" ElementStyle="{StaticResource MainFrame.TextBlockLeftAlign}" >
                    </DataGridTextColumn>
                    <DataGridTextColumn Header="{Binding T2013_G1_Ke, Source={StaticResource eHCMSResources}}" IsReadOnly="True" Binding="{Binding RefShelfName, Converter={StaticResource NullRefShelfNameConverter}}" CanUserReorder="True" CanUserResize="True" CanUserSort="True" ElementStyle="{StaticResource MainFrame.TextBlockLeftAlign}" >

                        </DataGridTextColumn>
                    <DataGridTextColumn Header="{Binding Z1997_G1_Ngan, Source={StaticResource eHCMSResources}}" IsReadOnly="True" Binding="{Binding LocName, Converter={StaticResource NullRefShelfNameConverter}}" CanUserReorder="True" CanUserResize="True" CanUserSort="True" ElementStyle="{StaticResource MainFrame.TextBlockLeftAlign}" >

                        </DataGridTextColumn>
                    <DataGridTextColumn Header="{Binding N0094_G1_NgNhap, Source={StaticResource eHCMSResources}}" IsReadOnly="True" Binding="{Binding CreatedDate, StringFormat=dd/MM/yyyy}" CanUserReorder="True" CanUserResize="True" CanUserSort="True"  MinWidth="100" Width="*" ElementStyle="{StaticResource MainFrame.TextBlockLeftAlign}" >

                        </DataGridTextColumn>
                    </DataGrid.Columns>
                </DataGrid>
                <StackPanel Grid.Row="5" Grid.Column="0" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Left" Margin="10 0 0 0" >
                    <Button x:Name="btnShelfMan" Width="80" Content="{Binding Z1969_G1_QLyKe, Source={StaticResource eHCMSResources}}"
                        HorizontalAlignment="Left" Margin="0,0,0,10" Style="{StaticResource MainFrame.Button}" />
                    <Button x:Name="btnUpdate" Width="80" Content="{Binding K1599_G1_CNhat, Source={StaticResource eHCMSResources}}"
                        IsEnabled="{Binding RefShelfDetailID,TargetNullValue=False,Converter={StaticResource IsEnableConverter}}"
                        HorizontalAlignment="Left" Margin="10,0,0,10" Style="{StaticResource MainFrame.Button}" />
                </StackPanel>
            </Grid>
        </Grid>-->
    <!--</toolkit:BusyIndicator>-->
</UserControl>
